var hN=Object.defineProperty,fN=Object.defineProperties;var pN=Object.getOwnPropertyDescriptors;var $c=Object.getOwnPropertySymbols,mN=Object.getPrototypeOf,vE=Object.prototype.hasOwnProperty,_E=Object.prototype.propertyIsEnumerable,gN=Reflect.get;var yE=(t,e,n)=>e in t?hN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})vE.call(e,n)&&yE(t,n,e[n]);if($c)for(var n of $c(e))_E.call(e,n)&&yE(t,n,e[n]);return t},re=(t,e)=>fN(t,pN(e));var wE=(t,e)=>{var n={};for(var r in t)vE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$c)for(var r of $c(t))e.indexOf(r)<0&&_E.call(t,r)&&(n[r]=t[r]);return n};var Er=(t,e,n)=>gN(mN(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var EE=null;var sf=1,of=Symbol("SIGNAL");function le(t){let e=EE;return EE=t,e}var IE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yN(t){if(!(uf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sf)){if(!t.producerMustRecompute(t)&&!af(t)){t.dirty=!1,t.lastCleanEpoch=sf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=sf}}function TE(t){return t&&(t.nextProducerIndex=0),le(t)}function DE(t,e){if(le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(uf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function af(t){Hc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(yN(n),r!==n.version))return!0}return!1}function bE(t){if(Hc(t),uf(t))for(let e=0;e<t.producerNode.length;e++)cf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cf(t,e){if(vN(t),Hc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)cf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Hc(i),i.producerIndexOfThis[r]=e}}function uf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vN(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _N(){throw new Error}var wN=_N;function CE(t){wN=t}function q(t){return typeof t=="function"}function gs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qc=gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ai(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(s){e=s instanceof qc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{SE(s)}catch(o){e=e??[],o instanceof qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ai(n,e)}remove(e){let{_finalizers:n}=this;n&&ai(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var lf=Pe.EMPTY;function zc(t){return t instanceof Pe||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function SE(t){q(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ys={setTimeout(t,e,...n){let{delegate:r}=ys;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ys;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gc(t){ys.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function qo(){}var AE=df("C",void 0,void 0);function RE(t){return df("E",void 0,t)}function ME(t){return df("N",t,void 0)}function df(t,e,n){return{kind:t,value:e,error:n}}var ci=null;function vs(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ci;if(e&&(ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else t()}function NE(t){Xt.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=t)}var ui=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zc(e)&&e.add(this)):this.destination=TN}static create(e,n,r){return new _s(e,n,r)}next(e){this.isStopped?ff(ME(e),this):this._next(e)}error(e){this.isStopped?ff(RE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ff(AE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EN=Function.prototype.bind;function hf(t,e){return EN.call(t,e)}var pf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wc(r)}else Wc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wc(n)}}},_s=class extends ui{constructor(e,n,r){super();let i;if(q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Xt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hf(e.next,s),error:e.error&&hf(e.error,s),complete:e.complete&&hf(e.complete,s)}):i=e}this.destination=new pf(i)}};function Wc(t){Xt.useDeprecatedSynchronousErrorHandling?NE(t):Gc(t)}function IN(t){throw t}function ff(t,e){let{onStoppedNotification:n}=Xt;n&&ys.setTimeout(()=>n(t,e))}var TN={closed:!0,next:qo,error:IN,complete:qo};var ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(t){return t}function mf(...t){return gf(t)}function gf(t){return t.length===0?xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=bN(n)?n:new _s(n,r,i);return vs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=PE(r),new r((i,s)=>{let o=new _s({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ws](){return this}pipe(...n){return gf(n)(this)}toPromise(n){return n=PE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function PE(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function DN(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function bN(t){return t&&t instanceof ui||DN(t)&&zc(t)}function yf(t){return q(t?.lift)}function ae(t){return e=>{if(yf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new vf(t,e,n,r,i)}var vf=class extends ui{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Es(){return ae((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Is=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Es()(this)}};var xE=gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xE}next(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?lf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ai(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Kc(e,n),t})(),Kc=class extends Te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lf}};var je=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _f={now(){return(_f.delegate||Date).now()},delegate:void 0};var Qc=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var zo={setInterval(t,e,...n){let{delegate:r}=zo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ts=class extends Qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ai(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ds.now=_f.now;var bs=class extends Ds{constructor(e,n=Ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wf=new bs(Ts);var Yc=class extends Ts{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Jc=class extends bs{};var Ef=new Jc(Yc);var Ot=new oe(t=>t.complete());function OE(t){return t&&q(t.schedule)}function kE(t){return t[t.length-1]}function Zc(t){return q(kE(t))?t.pop():void 0}function Ir(t){return OE(kE(t))?t.pop():void 0}function If(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function FE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function VE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,g){s.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof li?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function UE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FE=="function"?FE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Xc=t=>t&&typeof t.length=="number"&&typeof t!="function";function eu(t){return q(t?.then)}function tu(t){return q(t[ws])}function nu(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function ru(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iu=CN();function su(t){return q(t?.[iu])}function ou(t){return VE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function au(t){return q(t?.getReader)}function ke(t){if(t instanceof oe)return t;if(t!=null){if(tu(t))return SN(t);if(Xc(t))return AN(t);if(eu(t))return RN(t);if(nu(t))return jE(t);if(su(t))return MN(t);if(au(t))return NN(t)}throw ru(t)}function SN(t){return new oe(e=>{let n=t[ws]();if(q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AN(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RN(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gc)})}function MN(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jE(t){return new oe(e=>{PN(t,e).catch(n=>e.error(n))})}function NN(t){return jE(ou(t))}function PN(t,e){var n,r,i,s;return LE(this,void 0,void 0,function*(){try{for(n=UE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tr(t,e=0){return ae((n,r)=>{n.subscribe(X(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function Dr(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BE(t,e){return ke(t).pipe(Dr(e),Tr(e))}function $E(t,e){return ke(t).pipe(Dr(e),Tr(e))}function HE(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qE(t,e){return new oe(n=>{let r;return Ct(n,e,()=>{r=t[iu](),Ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zE(t,e){return cu(ou(t),e)}function GE(t,e){if(t!=null){if(tu(t))return BE(t,e);if(Xc(t))return HE(t,e);if(eu(t))return $E(t,e);if(nu(t))return cu(t,e);if(su(t))return qE(t,e);if(au(t))return zE(t,e)}throw ru(t)}function xe(t,e){return e?GE(t,e):ke(t)}function G(...t){let e=Ir(t);return xe(t,e)}function Cs(t,e){let n=q(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Tf(t){return!!t&&(t instanceof oe||q(t.lift)&&q(t.subscribe))}var jn=gs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ae((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:xN}=Array;function ON(t,e){return xN(e)?t(...e):t(e)}function uu(t){return ee(e=>ON(t,e))}var{isArray:kN}=Array,{getPrototypeOf:FN,prototype:LN,keys:VN}=Object;function lu(t){if(t.length===1){let e=t[0];if(kN(e))return{args:e,keys:null};if(UN(e)){let n=VN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function UN(t){return t&&typeof t=="object"&&FN(t)===LN}function du(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hu(...t){let e=Ir(t),n=Zc(t),{args:r,keys:i}=lu(t);if(r.length===0)return xe([],e);let s=new oe(jN(r,e,i?o=>du(i,o):xt));return n?s.pipe(uu(n)):s}function jN(t,e,n=xt){return r=>{WE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)WE(e,()=>{let u=xe(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function WE(t,e,n){t?Ct(n,t,e):e()}function KE(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?m(g):c.push(g),m=g=>{s&&e.next(g),u++;let y=!1;ke(n(g,l++)).subscribe(X(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let I=c.shift();o?Ct(e,o,()=>m(I)):m(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Be(t,e,n=1/0){return q(e)?Be((r,i)=>ee((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ae((r,i)=>KE(r,i,t,n)))}function Df(t=1/0){return Be(xt,t)}function QE(){return Df(1)}function Ss(...t){return QE()(xe(t,Ir(t)))}function fu(t){return new oe(e=>{ke(t()).subscribe(e)})}function bf(...t){let e=Zc(t),{args:n,keys:r}=lu(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ke(n[l]).subscribe(X(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?du(r,a):a),s.complete())}))}});return e?i.pipe(uu(e)):i}function en(t,e){return ae((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function br(t){return ae((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=ke(t(o,br(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function YE(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function As(t,e){return q(e)?Be(t,e,1):Be(t,1)}function Cr(t){return ae((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>Ot:ae((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cf(t){return ee(()=>t)}function pu(t=BN){return ae((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BN(){return new jn}function Go(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?en((i,s)=>t(i,s,r)):xt,Bn(1),n?Cr(e):pu(()=>new jn))}function Rs(t){return t<=0?()=>Ot:ae((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?en((i,s)=>t(i,s,r)):xt,Rs(1),n?Cr(e):pu(()=>new jn))}function Af(t,e){return ae(YE(t,e,arguments.length>=2,!0))}function Rf(...t){let e=Ir(t);return ae((n,r)=>{(e?Ss(t,n,e):Ss(t,n)).subscribe(r)})}function tn(t,e){return ae((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;ke(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Mf(t){return ae((e,n)=>{ke(t).subscribe(X(n,()=>n.complete(),qo)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):xt}var FI="https://g.co/ng/security#xss",v=class extends Error{constructor(e,n){super($p(e,n)),this.code=e}};function $p(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function sa(t){return{toString:t}.toString()}var mu="__parameters__";function $N(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function LI(t,e,n){return sa(()=>{let r=$N(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(mu)?c[mu]:Object.defineProperty(c,mu,{value:[]})[mu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var kt=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function HN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Wf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var qN=ge({__forward_ref__:ge});function Ti(t){return t.__forward_ref__=Ti,t.toString=function(){return vt(this())},t}function yt(t){return VI(t)?t():t}function VI(t){return typeof t=="function"&&t.hasOwnProperty(qN)&&t.__forward_ref__===Ti}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function De(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wu(t){return JE(t,jI)||JE(t,BI)}function UI(t){return Wu(t)!==null}function JE(t,e){return t.hasOwnProperty(e)?t[e]:null}function zN(t){let e=t&&(t[jI]||t[BI]);return e||null}function ZE(t){return t&&(t.hasOwnProperty(XE)||t.hasOwnProperty(GN))?t[XE]:null}var jI=ge({\u0275prov:ge}),XE=ge({\u0275inj:ge}),BI=ge({ngInjectableDef:ge}),GN=ge({ngInjectorDef:ge}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $I(t){return t&&!!t.\u0275providers}var WN=ge({\u0275cmp:ge}),KN=ge({\u0275dir:ge}),QN=ge({\u0275pipe:ge}),YN=ge({\u0275mod:ge}),Cu=ge({\u0275fac:ge}),Wo=ge({__NG_ELEMENT_ID__:ge}),eI=ge({__NG_ENV_ID__:ge});function oa(t){return typeof t=="string"?t:t==null?"":String(t)}function JN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():oa(t)}function ZN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new v(-200,t)}function Hp(t,e){throw new v(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),Kf;function HI(){return Kf}function St(t){let e=Kf;return Kf=t,e}function qI(t,e,n){let r=Wu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;Hp(t,"Injector")}var XN={},Ko=XN,Qf="__NG_DI_FLAG__",Su="ngTempTokenPath",eP="ngTokenPath",tP=/\n/gm,nP="\u0275",tI="__source",xs;function rP(){return xs}function Sr(t){let e=xs;return xs=t,e}function iP(t,e=Q.Default){if(xs===void 0)throw new v(-203,!1);return xs===null?qI(t,void 0,e):xs.get(t,e&Q.Optional?null:void 0,e)}function P(t,e=Q.Default){return(HI()||iP)(yt(t),e)}function D(t,e=Q.Default){return P(t,Ku(e))}function Ku(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yf(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new v(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){let a=r[o],c=sP(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function zI(t,e){return t[Qf]=e,t.prototype[Qf]=e,t}function sP(t){return t[Qf]}function oP(t,e,n,r){let i=t[Su];throw e[tI]&&i.unshift(e[tI]),t.message=aP(`
`+t.message,i,n,r),t[eP]=i,t[Su]=null,t}function aP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nP?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tP,`
  `)}`}var Fe=zI(LI("Optional"),8);var GI=zI(LI("SkipSelf"),4);function pi(t,e){let n=t.hasOwnProperty(Cu);return n?t[Cu]:null}function qp(t,e){t.forEach(n=>Array.isArray(n)?qp(n,e):e(n))}function WI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Au(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Qu(t,e,n){let r=aa(t,e);return r>=0?t[r|1]=n:(r=~r,cP(t,r,e,n)),r}function Nf(t,e){let n=aa(t,e);if(n>=0)return t[n|1]}function aa(t,e){return uP(t,e,1)}function uP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ks={},At=[],Fs=new F(""),KI=new F("",-1),QI=new F(""),Ru=class{get(e,n=Ko){if(n===Ko){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},YI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(YI||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function lP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Jf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];dP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function JI(t){return t===3||t===4||t===6}function dP(t){return t.charCodeAt(0)===64}function Qo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?nI(t,n,i,null,e[++r]):nI(t,n,i,null,null))}}return t}function nI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ZI="ng-template";function hP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function zp(t){return t.type===4&&t.value!==ZI}function fP(t,e,n){let r=t.type===4&&!n?ZI:t.value;return e===r}function pP(t,e,n){let r=4,i=t.attrs,s=i!==null?yP(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!nn(r)&&!nn(c))return!1;if(o&&nn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!fP(t,c,n)||c===""&&e.length===1){if(nn(r))return!1;o=!0}}else if(r&8){if(i===null||!hP(t,i,c,n)){if(nn(r))return!1;o=!0}}else{let u=e[++a],l=mP(c,i,zp(t),n);if(l===-1){if(nn(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(nn(r))return!1;o=!0}}}}return nn(r)||o}function nn(t){return(t&1)===0}function mP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return vP(e,t)}function gP(t,e,n=!1){for(let r=0;r<e.length;r++)if(pP(t,e[r],n))return!0;return!1}function yP(t){for(let e=0;e<t.length;e++){let n=t[e];if(JI(n))return e}return t.length}function vP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function rI(t,e){return t?":not("+e.trim()+")":e}function _P(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!nn(o)&&(e+=rI(s,i),i=""),r=o,s=s||!nn(r);n++}return i!==""&&(e+=rI(s,i)),e}function wP(t){return t.map(_P).join(",")}function EP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!nn(i))break;i=s}r++}return{attrs:e,classes:n}}function He(t){return sa(()=>{let e=iT(t),n=re(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===YI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});sT(n);let r=t.dependencies;return n.directiveDefs=sI(r,!1),n.pipeDefs=sI(r,!0),n.id=DP(n),n})}function IP(t){return mi(t)||eT(t)}function TP(t){return t!==null}function be(t){return sa(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iI(t,e){if(t==null)return ks;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ut.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ut.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ke(t){return sa(()=>{let e=iT(t);return sT(e),e})}function XI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mi(t){return t[WN]||null}function eT(t){return t[KN]||null}function tT(t){return t[QN]||null}function nT(t){let e=mi(t)||eT(t)||tT(t);return e!==null?e.standalone:!1}function rT(t,e){let n=t[YN]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function iT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iI(t.inputs,e),outputs:iI(t.outputs),debugInfo:null}}function sT(t){t.features?.forEach(e=>e(t))}function sI(t,e){if(!t)return null;let n=e?tT:IP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TP)}function DP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Hs(t){return{\u0275providers:t}}function qs(...t){return{\u0275providers:oT(!0,t),\u0275fromNgModule:!0}}function oT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return qp(e,o=>{let a=o;Zf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aT(i,s),n}function aT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gp(i,s=>{e(s,r)})}}function Zf(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,s=ZE(t),o=!s&&mi(t);if(!s&&!o){let c=t.ngModule;if(s=ZE(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Zf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{qp(s.imports,l=>{Zf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&aT(u,e)}if(!a){let u=pi(i)||(()=>new i);e({provide:i,useFactory:u,deps:At},i),e({provide:QI,useValue:i,multi:!0},i),e({provide:Fs,useValue:()=>P(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Gp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Gp(t,e){for(let n of t)$I(n)&&(n=n.\u0275providers),Array.isArray(n)?Gp(n,e):e(n)}var bP=ge({provide:String,useValue:ge});function cT(t){return t!==null&&typeof t=="object"&&bP in t}function CP(t){return!!(t&&t.useExisting)}function SP(t){return!!(t&&t.useFactory)}function Ls(t){return typeof t=="function"}function AP(t){return!!t.useClass}var Yu=new F(""),Eu={},RP={},Pf;function Wp(){return Pf===void 0&&(Pf=new Ru),Pf}var Gt=class{},Yo=class extends Gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ep(e,o=>this.processProvider(o)),this.records.set(KI,Ms(void 0,this)),i.has("environment")&&this.records.set(Gt,Ms(void 0,this));let s=this.records.get(Yu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(QI,At,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Sr(this),r=St(void 0),i;try{return e()}finally{Sr(n),St(r)}}get(e,n=Ko,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eI))return e[eI](this);r=Ku(r);let i,s=Sr(this),o=St(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=OP(e)&&Wu(e);u&&this.injectableDefInScope(u)?c=Ms(Xf(e),Eu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?Wp():this.parent;return n=r&Q.Optional&&n===Ko?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Su]=a[Su]||[]).unshift(vt(e)),s)throw a;return oP(a,e,"R3InjectorError",this.source)}else throw a}finally{St(o),Sr(s)}}resolveInjectorInitializers(){let e=le(null),n=Sr(this),r=St(void 0),i;try{let s=this.get(Fs,At,Q.Self);for(let o of s)o()}finally{Sr(n),St(r),le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){e=yt(e);let n=Ls(e)?e:yt(e&&e.provide),r=NP(e);if(!Ls(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ms(void 0,Eu,!0),i.factory=()=>Yf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=le(null);try{return n.value===Eu&&(n.value=RP,n.value=n.factory()),typeof n.value=="object"&&n.value&&xP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xf(t){let e=Wu(t),n=e!==null?e.factory:pi(t);if(n!==null)return n;if(t instanceof F)throw new v(204,!1);if(t instanceof Function)return MP(t);throw new v(204,!1)}function MP(t){if(t.length>0)throw new v(204,!1);let n=zN(t);return n!==null?()=>n.factory(t):()=>new t}function NP(t){if(cT(t))return Ms(void 0,t.useValue);{let e=uT(t);return Ms(e,Eu)}}function uT(t,e,n){let r;if(Ls(t)){let i=yt(t);return pi(i)||Xf(i)}else if(cT(t))r=()=>yt(t.useValue);else if(SP(t))r=()=>t.useFactory(...Yf(t.deps||[]));else if(CP(t))r=()=>P(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(PP(t))r=()=>new i(...Yf(t.deps));else return pi(i)||Xf(i)}return r}function Ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PP(t){return!!t.deps}function xP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OP(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function ep(t,e){for(let n of t)Array.isArray(n)?ep(n,e):n&&$I(n)?ep(n.\u0275providers,e):e(n)}function Di(t,e){t instanceof Yo&&t.assertNotDestroyed();let n,r=Sr(t),i=St(void 0);try{return e()}finally{Sr(r),St(i)}}function kP(){return HI()!==void 0||rP()!=null}function FP(t){return typeof t=="function"}var wn=0,Y=1,B=2,lt=3,sn=4,cn=5,Mu=6,Jo=7,Wt=8,Vs=9,on=10,Me=11,Zo=12,oI=13,zs=14,vn=15,Ju=16,Ns=17,Us=18,Zu=19,lT=20,Ar=21,xf=22,gi=23,Rt=25,Kp=1;var yi=7,Nu=8,Pu=9,Ft=10,Qp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qp||{});function hi(t){return Array.isArray(t)&&typeof t[Kp]=="object"}function Wn(t){return Array.isArray(t)&&t[Kp]===!0}function Yp(t){return(t.flags&4)!==0}function Xu(t){return t.componentOffset>-1}function el(t){return(t.flags&1)===1}function $n(t){return!!t.template}function LP(t){return(t[B]&512)!==0}var tp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Kn(){return hT}function hT(t){return t.type.prototype.ngOnChanges&&(t.setInput=UP),VP}Kn.ngInherit=!0;function VP(){let t=pT(this),e=t?.current;if(e){let n=t.previous;if(n===ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UP(t,e,n,r,i){let s=this.declaredInputs[r],o=pT(t)||jP(t,{previous:ks,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new tp(u&&u.currentValue,n,c===ks),dT(t,e,i,n)}var fT="__ngSimpleChanges__";function pT(t){return t[fT]||null}function jP(t,e){return t[fT]=e}var aI=null;var mn=function(t,e,n){aI?.(t,e,n)},BP="svg",$P="math",HP=!1;function qP(){return HP}function _n(t){for(;Array.isArray(t);)t=t[wn];return t}function zP(t){for(;Array.isArray(t);){if(typeof t[Kp]=="object")return t;t=t[wn]}return null}function mT(t,e){return _n(e[t])}function Kt(t,e){return _n(e[t.index])}function Jp(t,e){return t.data[e]}function gT(t,e){return t[e]}function Nr(t,e){let n=e[t];return hi(n)?n:n[wn]}function Zp(t){return(t[B]&128)===128}function GP(t){return Wn(t[lt])}function js(t,e){return e==null?null:t[e]}function yT(t){t[Ns]=0}function WP(t){t[B]&1024||(t[B]|=1024,Zp(t)&&Xo(t))}function KP(t,e){for(;t>0;)e=e[zs],t--;return e}function Xp(t){return!!(t[B]&9216||t[gi]?.dirty)}function np(t){t[on].changeDetectionScheduler?.notify(1),Xp(t)?Xo(t):t[B]&64&&(qP()?(t[B]|=1024,Xo(t)):t[on].changeDetectionScheduler?.notify())}function Xo(t){t[on].changeDetectionScheduler?.notify();let e=ea(t);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!Zp(e)));)e=ea(e)}function vT(t,e){if((t[B]&256)===256)throw new v(911,!1);t[Ar]===null&&(t[Ar]=[]),t[Ar].push(e)}function QP(t,e){if(t[Ar]===null)return;let n=t[Ar].indexOf(e);n!==-1&&t[Ar].splice(n,1)}function ea(t){let e=t[lt];return Wn(e)?e[lt]:e}var Z={lFrame:AT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YP(){return Z.lFrame.elementDepthCount}function JP(){Z.lFrame.elementDepthCount++}function ZP(){Z.lFrame.elementDepthCount--}function _T(){return Z.bindingsEnabled}function XP(){return Z.skipHydrationRootTNode!==null}function ex(t){return Z.skipHydrationRootTNode===t}function tx(){Z.skipHydrationRootTNode=null}function de(){return Z.lFrame.lView}function Qe(){return Z.lFrame.tView}function Pr(t){return Z.lFrame.contextLView=t,t[Wt]}function xr(t){return Z.lFrame.contextLView=null,t}function _t(){let t=wT();for(;t!==null&&t.type===64;)t=t.parent;return t}function wT(){return Z.lFrame.currentTNode}function nx(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bi(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function em(){return Z.lFrame.isParent}function ET(){Z.lFrame.isParent=!1}function IT(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rx(t){return Z.lFrame.bindingIndex=t}function Gs(){return Z.lFrame.bindingIndex++}function TT(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ix(){return Z.lFrame.inI18n}function sx(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,rp(e)}function ox(){return Z.lFrame.currentDirectiveIndex}function rp(t){Z.lFrame.currentDirectiveIndex=t}function DT(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bT(t){Z.lFrame.currentQueryIndex=t}function ax(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[cn]:null}function CT(t,e,n){if(n&Q.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=ax(s),i===null||(s=s[zs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Z.lFrame=ST();return r.currentTNode=e,r.lView=t,!0}function tm(t){let e=ST(),n=t[Y];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ST(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?AT(t):e}function AT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RT(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MT=RT;function nm(){let t=RT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cx(t){return(Z.lFrame.contextLView=KP(t,Z.lFrame.contextLView))[Wt]}function Ci(){return Z.lFrame.selectedIndex}function vi(t){Z.lFrame.selectedIndex=t}function tl(){let t=Z.lFrame;return Jp(t.tView,t.selectedIndex)}function ux(){return Z.lFrame.currentNamespace}var NT=!0;function nl(){return NT}function rl(t){NT=t}function lx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=hT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function il(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Iu(t,e,n){PT(t,e,3,n)}function Tu(t,e,n,r){(t[B]&3)===n&&PT(t,e,n,r)}function Of(t,e){let n=t[B];(n&3)===e&&(n&=16383,n+=1,t[B]=n)}function PT(t,e,n,r){let i=r!==void 0?t[Ns]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ns]+=65536),(a<s||s==-1)&&(dx(t,n,e,c),t[Ns]=(t[Ns]&4294901760)+c+2),c++}function cI(t,e){mn(4,t,e);let n=le(null);try{e.call(t)}finally{le(n),mn(5,t,e)}}function dx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[B]>>14<t[Ns]>>16&&(t[B]&3)===e&&(t[B]+=16384,cI(a,s)):cI(a,s)}var Os=-1,_i=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hx(t){return t instanceof _i}function fx(t){return(t.flags&8)!==0}function px(t){return(t.flags&16)!==0}function xT(t){return t!==Os}function xu(t){return t&32767}function mx(t){return t>>16}function Ou(t,e){let n=mx(t),r=e;for(;n>0;)r=r[zs],n--;return r}var ip=!0;function ku(t){let e=ip;return ip=t,e}var gx=256,OT=gx-1,kT=5,yx=0,gn={};function vx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wo)&&(r=n[Wo]),r==null&&(r=n[Wo]=yx++);let i=r&OT,s=1<<i;e.data[t+(i>>kT)]|=s}function Fu(t,e){let n=FT(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,kf(r.data,t),kf(e,null),kf(r.blueprint,null));let i=rm(t,e),s=t.injectorIndex;if(xT(i)){let o=xu(i),a=Ou(i,e),c=a[Y].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function kf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BT(i),r===null)return Os;if(n++,i=i[zs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Os}function sp(t,e,n){vx(t,e,n)}function _x(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(JI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function LT(t,e,n){if(n&Q.Optional||t!==void 0)return t;Hp(e,"NodeInjector")}function VT(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[Vs],s=St(void 0);try{return i?i.get(e,r,n&Q.Optional):qI(e,r,n&Q.Optional)}finally{St(s)}}return LT(r,e,n)}function UT(t,e,n,r=Q.Default,i){if(t!==null){if(e[B]&2048&&!(r&Q.Self)){let o=Dx(t,e,n,r,gn);if(o!==gn)return o}let s=jT(t,e,n,r,gn);if(s!==gn)return s}return VT(e,n,r,i)}function jT(t,e,n,r,i){let s=Ix(n);if(typeof s=="function"){if(!CT(e,t,r))return r&Q.Host?LT(i,n,r):VT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Q.Optional))Hp(n);else return o}finally{MT()}}else if(typeof s=="number"){let o=null,a=FT(t,e),c=Os,u=r&Q.Host?e[vn][cn]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?rm(t,e):e[a+8],c===Os||!lI(r,!1)?a=-1:(o=e[Y],a=xu(c),e=Ou(c,e)));a!==-1;){let l=e[Y];if(uI(s,a,l.data)){let d=wx(a,e,n,o,r,u);if(d!==gn)return d}c=e[a+8],c!==Os&&lI(r,e[Y].data[a+8]===u)&&uI(s,a,e)?(o=l,a=xu(c),e=Ou(c,e)):a=-1}}return i}function wx(t,e,n,r,i,s){let o=e[Y],a=o.data[t+8],c=r==null?Xu(a)&&ip:r!=o&&(a.type&3)!==0,u=i&Q.Host&&s===a,l=Ex(a,o,n,c,u);return l!==null?Bs(e,o,l,a):gn}function Ex(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let m=o[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(i){let f=o[c];if(f&&$n(f)&&f.type===n)return c}return null}function Bs(t,e,n,r){let i=t[n],s=e.data;if(hx(i)){let o=i;o.resolving&&ZN(JN(s[n]));let a=ku(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?St(o.injectImpl):null,l=CT(t,r,Q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&lx(n,s[n],e)}finally{u!==null&&St(u),ku(a),o.resolving=!1,MT()}}return i}function Ix(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wo)?t[Wo]:void 0;return typeof e=="number"?e>=0?e&OT:Tx:e}function uI(t,e,n){let r=1<<t;return!!(n[e+(t>>kT)]&r)}function lI(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var fi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return UT(this._tNode,this._lView,e,Ku(r),n)}};function Tx(){return new fi(_t(),de())}function Ws(t){return sa(()=>{let e=t.prototype.constructor,n=e[Cu]||op(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Cu]||op(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function op(t){return VI(t)?()=>{let e=op(yt(t));return e&&e()}:pi(t)}function Dx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[B]&2048&&!(o[B]&512);){let a=jT(s,o,n,r|Q.Self,gn);if(a!==gn)return a;let c=s.parent;if(!c){let u=o[lT];if(u){let l=u.get(n,gn,r);if(l!==gn)return l}c=BT(o),o=o[zs]}s=c}return i}function BT(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[cn]:null}function im(t){return _x(_t(),t)}function dI(t,e=null,n=null,r){let i=$T(t,e,n,r);return i.resolveInjectorInitializers(),i}function $T(t,e=null,n=null,r,i=new Set){let s=[n||At,qs(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new Yo(s,e||Wp(),r||null,i)}var Ye=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return dI({name:""},i,r,"");{let s=r.name??"";return dI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ko,e.NULL=new Ru,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>P(KI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var bx="ngOriginalError";function Ff(t){return t[bx]}var Hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ff(e);for(;n&&Ff(n);)n=Ff(n);return n||null}},HT=new F("",{providedIn:"root",factory:()=>D(Hn).handleError.bind(void 0)}),qT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Cx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ap=class extends qT{constructor(e){super(),this._lView=e}onDestroy(e){return vT(this._lView,e),()=>QP(this._lView,e)}};function Cx(){return new ap(de())}function Sx(){return sl(_t(),de())}function sl(t,e){return new Qn(Kt(t,e))}var Qn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Sx;let t=e;return t})();var cp=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,kP()&&(this.destroyRef=D(qT,{optional:!0})??void 0)}emit(e){let n=le(null);try{super.next(e)}finally{le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Lf(s),i&&(i=Lf(i)),o&&(o=Lf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}};function Lf(t){return e=>{setTimeout(t,void 0,e)}}var ct=cp;function zT(t){return(t.flags&128)===128}var GT=new Map,Ax=0;function Rx(){return Ax++}function Mx(t){GT.set(t[Zu],t)}function Nx(t){GT.delete(t[Zu])}var hI="__ngContext__";function Rr(t,e){hi(e)?(t[hI]=e[Zu],Mx(e)):t[hI]=e}function WT(t){return QT(t[Zo])}function KT(t){return QT(t[sn])}function QT(t){for(;t!==null&&!Wn(t);)t=t[sn];return t}var up;function YT(t){up=t}function JT(){if(up!==void 0)return up;if(typeof document<"u")return document;throw new v(210,!1)}var sm=new F("",{providedIn:"root",factory:()=>Px}),Px="ng",om=new F(""),Or=new F("",{providedIn:"platform",factory:()=>"unknown"});var am=new F(""),cm=new F("",{providedIn:"root",factory:()=>JT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xx="h",Ox="b";var kx=()=>null;function um(t,e,n=!1){return kx(t,e,n)}var ZT=!1,Fx=new F("",{providedIn:"root",factory:()=>ZT});var gu;function Lx(){if(gu===void 0&&(gu=null,kt.trustedTypes))try{gu=kt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gu}function ol(t){return Lx()?.createHTML(t)||t}var yu;function XT(){if(yu===void 0&&(yu=null,kt.trustedTypes))try{yu=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yu}function fI(t){return XT()?.createHTML(t)||t}function pI(t){return XT()?.createScriptURL(t)||t}var qn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FI})`}},lp=class extends qn{getTypeName(){return"HTML"}},dp=class extends qn{getTypeName(){return"Style"}},hp=class extends qn{getTypeName(){return"Script"}},fp=class extends qn{getTypeName(){return"URL"}},pp=class extends qn{getTypeName(){return"ResourceURL"}};function Qt(t){return t instanceof qn?t.changingThisBreaksApplicationSecurity:t}function Yn(t,e){let n=Vx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${FI})`)}return n===e}function Vx(t){return t instanceof qn&&t.getTypeName()||null}function eD(t){return new lp(t)}function tD(t){return new dp(t)}function nD(t){return new hp(t)}function rD(t){return new fp(t)}function iD(t){return new pp(t)}function Ux(t){let e=new gp(t);return jx()?new mp(e):e}var mp=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ol(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},gp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ol(e),n}};function jx(){try{return!!new window.DOMParser().parseFromString(ol(""),"text/html")}catch{return!1}}var Bx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function al(t){return t=String(t),t.match(Bx)?t:"unsafe:"+t}function Jn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ca(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var sD=Jn("area,br,col,hr,img,wbr"),oD=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aD=Jn("rp,rt"),$x=ca(aD,oD),Hx=ca(oD,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qx=ca(aD,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mI=ca(sD,Hx,qx,$x),cD=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zx=Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gx=Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Wx=ca(cD,zx,Gx),Kx=Jn("script,style,template"),yp=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Jx(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Yx(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=gI(e).toLowerCase();if(!mI.hasOwnProperty(n))return this.sanitizedSomething=!0,!Kx.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Wx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;cD[a]&&(c=al(c)),this.buf.push(" ",o,'="',yI(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=gI(e).toLowerCase();mI.hasOwnProperty(n)&&!sD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(yI(e))}};function Qx(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Yx(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw uD(e);return e}function Jx(t){let e=t.firstChild;if(e&&Qx(t,e))throw uD(e);return e}function gI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function uD(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Zx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xx=/([^\#-~ |!])/g;function yI(t){return t.replace(/&/g,"&amp;").replace(Zx,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Xx,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vu;function lm(t,e){let n=null;try{vu=vu||Ux(t);let r=e?String(e):"";n=vu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=vu.getInertBodyElement(r)}while(r!==s);let a=new yp().sanitizeChildren(vI(n)||n);return ol(a)}finally{if(n){let r=vI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vI(t){return"content"in t&&eO(t)?t.content:null}function eO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Lt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lt||{});function dm(t){let e=hm();return e?fI(e.sanitize(Lt.HTML,t)||""):Yn(t,"HTML")?fI(Qt(t)):lm(JT(),oa(t))}function ua(t){let e=hm();return e?e.sanitize(Lt.URL,t)||"":Yn(t,"URL")?Qt(t):al(oa(t))}function tO(t){let e=hm();if(e)return pI(e.sanitize(Lt.RESOURCE_URL,t)||"");if(Yn(t,"ResourceURL"))return pI(Qt(t));throw new v(904,!1)}function nO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tO:ua}function lD(t,e,n){return nO(e,n)(t)}function hm(){let t=de();return t&&t[on].sanitizer}var rO=/^>|^->|<!--|-->|--!>|<!-$/g,iO=/(<|>)/g,sO="\u200B$1\u200B";function oO(t){return t.replace(rO,e=>e.replace(iO,sO))}function dD(t){return t instanceof Function?t():t}var zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zn||{}),aO;function fm(t,e){return aO(t,e)}function Ps(t,e,n,r,i){if(r!=null){let s,o=!1;Wn(r)?s=r:hi(r)&&(o=!0,r=r[wn]);let a=_n(r);t===0&&n!==null?i==null?mD(e,n,a):Vu(e,n,a,i||null,!0):t===1&&n!==null?Vu(e,n,a,i||null,!0):t===2?bO(e,a,o):t===3&&e.destroyNode(a),s!=null&&SO(e,t,s,n,i)}}function cO(t,e){return t.createText(e)}function uO(t,e,n){t.setValue(e,n)}function lO(t,e){return t.createComment(oO(e))}function hD(t,e,n){return t.createElement(e,n)}function dO(t,e){fD(t,e),e[wn]=null,e[cn]=null}function hO(t,e,n,r,i,s){r[wn]=i,r[cn]=e,ul(t,r,n,1,i,s)}function fD(t,e){e[on].changeDetectionScheduler?.notify(1),ul(t,e,e[Me],2,null,null)}function fO(t){let e=t[Zo];if(!e)return Vf(t[Y],t);for(;e;){let n=null;if(hi(e))n=e[Zo];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[sn]&&e!==t;)hi(e)&&Vf(e[Y],e),e=e[lt];e===null&&(e=t),hi(e)&&Vf(e[Y],e),n=e&&e[sn]}e=n}}function pO(t,e,n,r){let i=Ft+r,s=n.length;r>0&&(n[i-1][sn]=e),r<s-Ft?(e[sn]=n[i],WI(n,Ft+r,e)):(n.push(e),e[sn]=null),e[lt]=n;let o=e[Ju];o!==null&&n!==o&&mO(o,e);let a=e[Us];a!==null&&a.insertView(t),np(e),e[B]|=128}function mO(t,e){let n=t[Pu],i=e[lt][lt][vn];e[vn]!==i&&(t[B]|=Qp.HasTransplantedViews),n===null?t[Pu]=[e]:n.push(e)}function pD(t,e){let n=t[Pu],r=n.indexOf(e);n.splice(r,1)}function Lu(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[Ju];i!==null&&i!==t&&pD(i,r),e>0&&(t[n-1][sn]=r[sn]);let s=Au(t,Ft+e);dO(r[Y],r);let o=s[Us];o!==null&&o.detachView(s[Y]),r[lt]=null,r[sn]=null,r[B]&=-129}return r}function pm(t,e){if(!(e[B]&256)){let n=e[Me];n.destroyNode&&ul(t,e,n,3,null,null),fO(e)}}function Vf(t,e){if(e[B]&256)return;let n=le(null);try{e[B]&=-129,e[B]|=256,e[gi]&&bE(e[gi]),yO(t,e),gO(t,e),e[Y].type===1&&e[Me].destroy();let r=e[Ju];if(r!==null&&Wn(e[lt])){r!==e[lt]&&pD(r,e);let i=e[Us];i!==null&&i.detachView(t)}Nx(e)}finally{le(n)}}function gO(t,e){let n=t.cleanup,r=e[Jo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Jo]=null);let i=e[Ar];if(i!==null){e[Ar]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function yO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _i)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];mn(4,a,c);try{c.call(a)}finally{mn(5,a,c)}}else{mn(4,i,s);try{s.call(i)}finally{mn(5,i,s)}}}}}function vO(t,e,n){return _O(t,e.parent,n)}function _O(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===yn.None||s===yn.Emulated)return null}return Kt(r,n)}}function Vu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mD(t,e,n){t.appendChild(e,n)}function _I(t,e,n,r,i){r!==null?Vu(t,e,n,r,i):mD(t,e,n)}function wO(t,e,n,r){t.removeChild(e,n,r)}function mm(t,e){return t.parentNode(e)}function EO(t,e){return t.nextSibling(e)}function IO(t,e,n){return DO(t,e,n)}function TO(t,e,n){return t.type&40?Kt(t,n):null}var DO=TO,wI;function cl(t,e,n,r){let i=vO(t,r,e),s=e[Me],o=r.parent||e[cn],a=IO(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_I(s,i,n[c],a,!1);else _I(s,i,n,a,!1);wI!==void 0&&wI(s,r,e,n,i)}function Du(t,e){if(e!==null){let n=e.type;if(n&3)return Kt(e,t);if(n&4)return vp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Du(t,r);{let i=t[e.index];return Wn(i)?vp(-1,i):_n(i)}}else{if(n&32)return fm(e,t)()||_n(t[e.index]);{let r=gD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ea(t[vn]);return Du(i,r)}else return Du(t,e.next)}}}return null}function gD(t,e){if(e!==null){let r=t[vn][cn],i=e.projection;return r.projection[i]}return null}function vp(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Du(r,i)}return e[yi]}function bO(t,e,n){let r=mm(t,e);r&&wO(t,r,e,n)}function gm(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Rr(_n(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)gm(t,e,n.child,r,i,s,!1),Ps(e,t,i,a,s);else if(c&32){let u=fm(n,r),l;for(;l=u();)Ps(e,t,i,l,s);Ps(e,t,i,a,s)}else c&16?CO(t,e,r,n,i,s):Ps(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ul(t,e,n,r,i,s){gm(n,r,t.firstChild,e,i,s,!1)}function CO(t,e,n,r,i,s){let o=n[vn],c=o[cn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ps(e,t,i,l,s)}else{let u=c,l=o[lt];zT(r)&&(u.flags|=128),gm(t,e,u,l,i,s,!0)}}function SO(t,e,n,r,i){let s=n[yi],o=_n(n);s!==o&&Ps(e,t,r,s,i);for(let a=Ft;a<n.length;a++){let c=n[a];ul(c[Y],c,t,e,r,s)}}function AO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=zn.Important),t.setStyle(n,r,i,s))}}function RO(t,e,n){t.setAttribute(e,"style",n)}function yD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Jf(t,e,r),i!==null&&yD(t,e,i),s!==null&&RO(t,e,s)}var Zn={};function R(t=1){_D(Qe(),de(),Ci()+t,!1)}function _D(t,e,n,r){if(!r)if((e[B]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Iu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Tu(e,s,0,n)}vi(n)}function L(t,e=Q.Default){let n=de();if(n===null)return P(t,e);let r=_t();return UT(r,n,yt(t),e)}function wD(t,e,n,r,i,s){let o=le(null);try{let a=null;i&ut.SignalBased&&(a=e[r][of]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ut.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):dT(e,a,r,s)}finally{le(o)}}function MO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vi(~i);else{let s=i,o=n[++r],a=n[++r];sx(o,s);let c=e[s];a(2,c)}}}finally{vi(-1)}}function ll(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[wn]=i,d[B]=r|4|128|8|64,(u!==null||t&&t[B]&2048)&&(d[B]|=2048),yT(d),d[lt]=d[zs]=t,d[Wt]=n,d[on]=o||t&&t[on],d[Me]=a||t&&t[Me],d[Vs]=c||t&&t[Vs]||null,d[cn]=s,d[Zu]=Rx(),d[Mu]=l,d[lT]=u,d[vn]=e.type==2?t[vn]:d,d}function la(t,e,n,r,i){let s=t.data[e];if(s===null)s=NO(t,e,n,r,i),ix()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=nx();s.injectorIndex=o===null?-1:o.injectorIndex}return bi(s,!0),s}function NO(t,e,n,r,i){let s=wT(),o=em(),a=o?s:s&&s.parent,c=t.data[e]=FO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function ED(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ID(t,e,n,r,i){let s=Ci(),o=r&2;try{vi(-1),o&&e.length>Rt&&_D(t,e,Rt,!1),mn(o?2:0,i),n(r,i)}finally{vi(s),mn(o?3:1,i)}}function ym(t,e,n){if(Yp(e)){let r=le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{le(r)}}}function vm(t,e,n){_T()&&($O(t,e,n,Kt(n,e)),(n.flags&64)===64&&bD(t,e,n))}function _m(t,e,n=Kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function TD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wm(t,e,n,r,i,s,o,a,c,u,l){let d=Rt+r,h=d+i,f=PO(d,h),m=typeof u=="function"?u():u;return f[Y]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function PO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zn);return n}function xO(t,e,n,r){let s=r.get(Fx,ZT)||n===yn.ShadowDom,o=t.selectRootElement(e,s);return OO(o),o}function OO(t){kO(t)}var kO=()=>null;function FO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return XP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function EI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ut.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?II(r,n,u,a,c):II(r,n,u,a)}return r}function II(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function LO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=EI(0,d.inputs,l,c,f),u=EI(1,d.outputs,l,u,m);let g=c!==null&&o!==null&&!zp(e)?XO(c,l,o):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function VO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Em(t,e,n,r,i,s,o,a){let c=Kt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Tm(t,n,l,r,i),Xu(e)&&UO(n,e.index)):e.type&3?(r=VO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function UO(t,e){let n=Nr(e,t);n[B]&16||(n[B]|=64)}function Im(t,e,n,r){if(_T()){let i=r===null?null:{"":-1},s=qO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&DD(t,e,n,o,i,a),i&&zO(n,r,i)}n.mergedAttrs=Qo(n.mergedAttrs,n.attrs)}function DD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)sp(Fu(n,e),t,r[u].type);WO(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=ED(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Qo(n.mergedAttrs,l.hostAttrs),KO(t,n,e,c,l),GO(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}LO(t,n,s)}function jO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;BO(o)!=a&&o.push(a),o.push(n,r,s)}}function BO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $O(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xu(n)&&QO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fu(n,e),Rr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Bs(e,t,a,n);if(Rr(u,e),o!==null&&ZO(e,a-i,u,c,n,o),$n(c)){let l=Nr(n.index,e);l[Wt]=Bs(e,t,a,n)}}}function bD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ox();try{vi(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];rp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&HO(c,u)}}finally{vi(-1),rp(o)}}function HO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(gP(e,o.selectors,!1))if(r||(r=[]),$n(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;_p(t,e,c)}else r.unshift(o),_p(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function _p(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new v(-301,!1);r.push(e[i],s)}}}function GO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function WO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function KO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=pi(i.type,!0)),o=new _i(s,$n(i),L);t.blueprint[r]=o,n[r]=o,jO(t,e,r,ED(t,n,i.hostVars,Zn),i)}function QO(t,e,n){let r=Kt(e,t),i=TD(n),s=t[on].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=dl(t,ll(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function YO(t,e,n,r,i,s){let o=Kt(t,e);JO(e[Me],o,s,t.value,n,r,i)}function JO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?oa(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];wD(r,n,c,u,l,d)}}function XO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function CD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function SD(t,e){let n=t.contentQueries;if(n!==null){let r=le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];bT(s),a.contentQueries(2,e[o],o)}}}finally{le(r)}}}function dl(t,e){return t[Zo]?t[oI][sn]=e:t[Zo]=e,t[oI]=e,e}function wp(t,e,n){bT(0);let r=le(null);try{e(t,n)}finally{le(r)}}function ek(t){return t[Jo]||(t[Jo]=[])}function tk(t){return t.cleanup||(t.cleanup=[])}function nk(t,e,n){return(t===null||$n(t))&&(n=zP(n[e.index])),n[Me]}function AD(t,e){let n=t[Vs],r=n?n.get(Hn,null):null;r&&r.handleError(e)}function Tm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];wD(l,u,r,a,c,i)}}function rk(t,e,n){let r=mT(e,t);uO(t[Me],r,n)}function ik(t,e){let n=Nr(e,t),r=n[Y];sk(r,n);let i=n[wn];i!==null&&n[Mu]===null&&(n[Mu]=um(i,n[Vs])),Dm(r,n,n[Wt])}function sk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dm(t,e,n){tm(e);try{let r=t.viewQuery;r!==null&&wp(1,r,n);let i=t.template;i!==null&&ID(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Us]?.finishViewCreation(t),t.staticContentQueries&&SD(t,e),t.staticViewQueries&&wp(2,t.viewQuery,n);let s=t.components;s!==null&&ok(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,nm()}}function ok(t,e){for(let n=0;n<e.length;n++)ik(t,e[n])}function RD(t,e,n,r){let i=le(null);try{let s=e.tView,a=t[B]&4096?4096:16,c=ll(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Ju]=u;let l=t[Us];return l!==null&&(c[Us]=l.createEmbeddedView(s)),Dm(s,c,n),c}finally{le(i)}}function ak(t,e){let n=Ft+e;if(n<t.length)return t[n]}function Ep(t,e){return!e||e.firstChild===null||zT(t)}function MD(t,e,n,r=!0){let i=e[Y];if(pO(i,e,t,n),r){let o=vp(n,t),a=e[Me],c=mm(a,t[yi]);c!==null&&hO(i,t[cn],a,e,c,o)}let s=e[Mu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ck(t,e){let n=Lu(t,e);return n!==void 0&&pm(n[Y],n),n}function Uu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(_n(s)),Wn(s)&&uk(s,r);let o=n.type;if(o&8)Uu(t,e,n.child,r);else if(o&32){let a=fm(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=gD(e,n);if(Array.isArray(a))r.push(...a);else{let c=ea(e[vn]);Uu(c[Y],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uk(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&Uu(r[Y],r,i,e)}t[yi]!==t[wn]&&e.push(t[yi])}var ND=[];function lk(t){return t[gi]??dk(t)}function dk(t){let e=ND.pop()??Object.create(fk);return e.lView=t,e}function hk(t){t.lView[gi]!==t&&(t.lView=null,ND.push(t))}var fk=re(E({},IE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xo(t.lView)},consumerOnSignalRead(){this.lView[gi]=this}}),PD=100;function xD(t,e=!0,n=0){let r=t[on],i=r.rendererFactory,s=!1;s||i.begin?.();try{pk(t,n)}catch(o){throw e&&AD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function pk(t,e){Ip(t,e);let n=0;for(;Xp(t);){if(n===PD)throw new v(103,!1);n++,Ip(t,1)}}function mk(t,e,n,r){let i=e[B];if((i&256)===256)return;let s=!1;!s&&e[on].inlineEffectRunner?.flush(),tm(e);let o=null,a=null;!s&&gk(t)&&(a=lk(e),o=TE(a));try{yT(e),rx(t.bindingStartIndex),n!==null&&ID(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Iu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Tu(e,d,0,null),Of(e,0)}if(yk(e),OD(e,0),t.contentQueries!==null&&SD(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Iu(e,d)}else{let d=t.contentHooks;d!==null&&Tu(e,d,1),Of(e,1)}MO(t,e);let u=t.components;u!==null&&FD(e,u,0);let l=t.viewQuery;if(l!==null&&wp(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Iu(e,d)}else{let d=t.viewHooks;d!==null&&Tu(e,d,2),Of(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xf]){for(let d of e[xf])d();e[xf]=null}s||(e[B]&=-73)}catch(c){throw Xo(e),c}finally{a!==null&&(DE(a,o),hk(a)),nm()}}function gk(t){return t.type!==2}function OD(t,e){for(let n=WT(t);n!==null;n=KT(n))for(let r=Ft;r<n.length;r++){let i=n[r];kD(i,e)}}function yk(t){for(let e=WT(t);e!==null;e=KT(e)){if(!(e[B]&Qp.HasTransplantedViews))continue;let n=e[Pu];for(let r=0;r<n.length;r++){let i=n[r],s=i[lt];WP(i)}}}function vk(t,e,n){let r=Nr(e,t);kD(r,n)}function kD(t,e){Zp(t)&&Ip(t,e)}function Ip(t,e){let r=t[Y],i=t[B],s=t[gi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&af(s)),s&&(s.dirty=!1),t[B]&=-9217,o)mk(r,t,r.template,t[Wt]);else if(i&8192){OD(t,1);let a=r.components;a!==null&&FD(t,a,1)}}function FD(t,e,n){for(let r=0;r<e.length;r++)vk(t,e[r],n)}function bm(t){for(t[on].changeDetectionScheduler?.notify();t;){t[B]|=64;let e=ea(t);if(LP(t)&&!e)return t;t=e}return null}var wi=class{get rootNodes(){let e=this._lView,n=e[Y];return Uu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Wn(e)){let n=e[Nu],r=n?n.indexOf(this):-1;r>-1&&(Lu(e,r),Au(n,r))}this._attachedToViewContainer=!1}pm(this._lView[Y],this._lView)}onDestroy(e){vT(this._lView,e)}markForCheck(){bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){np(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,xD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fD(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e,np(this._lView)}},hl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ek;let t=e;return t})(),_k=hl,wk=class extends _k{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=RD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wi(i)}};function Ek(){return Ik(_t(),de())}function Ik(t,e){return t.type&4?new wk(e,t,sl(t,e)):null}var yK=new RegExp(`^(\\d+)*(${Ox}|${xx})*(.*)`);var Tk=()=>null;function Tp(t,e){return Tk(t,e)}var ta=class{},Dp=class{},ju=class{};function Dk(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[bk]=t,e}var bk="ngComponent";var bp=class{resolveComponentFactory(e){throw Dk(e)}},Ks=(()=>{let e=class e{};e.NULL=new bp;let t=e;return t})(),Ei=class{},Si=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ck();let t=e;return t})();function Ck(){let t=de(),e=_t(),n=Nr(e.index,t);return(hi(n)?n:t)[Me]}var Sk=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Uf={};var TI=new Set;function da(t){TI.has(t)||(TI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function DI(...t){}function Ak(){let t=typeof kt.requestAnimationFrame=="function",e=kt[t?"requestAnimationFrame":"setTimeout"],n=kt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Ak().nativeRequestAnimationFrame,Nk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new v(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Rk,DI,DI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Rk={};function Cm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cp(t),t.isCheckStableRunning=!0,Cm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cp(t))}function Nk(t){let e=()=>{Mk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Pk(a))return n.invokeTask(i,s,o,a);try{return bI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return bI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),CI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cp(t),Cm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CI(t){t._nesting--,Cm(t)}function Pk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var LD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Wf(i,a);else if(s==2){let c=a,u=e[++o];r=Wf(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var $u=class extends Ks{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mi(e);return new na(n,this.ngModule)}};function SI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function xk(t){let e=t.toLowerCase();return e==="svg"?BP:e==="math"?$P:null}var Sp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ku(r);let i=this.injector.get(e,Uf,r);return i!==Uf||n===Uf?i:this.parentInjector.get(e,n,r)}},na=class extends ju{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=SI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return SI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=le(null);try{i=i||this.ngModule;let o=i instanceof Gt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Sp(e,o):e,c=a.get(Ei,null);if(c===null)throw new v(407,!1);let u=a.get(Sk,null),l=a.get(LD,null),d=a.get(ta,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?xO(f,r,this.componentDef.encapsulation,a):hD(f,m,xk(m)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let I=null;g!==null&&(I=um(g,a,!0));let x=wm(0,null,null,1,0,null,null,null,null,null,null),O=ll(null,x,null,y,null,null,h,f,a,null,I);tm(O);let N,me;try{let se=this.componentDef,he,_e=null;se.findHostDirectiveDefs?(he=[],_e=new Map,se.findHostDirectiveDefs(se,he,_e),he.push(se)):he=[se];let gt=Ok(O,g),Nt=kk(gt,g,se,he,O,h,f);me=Jp(x,Rt),g&&Vk(f,se,g,r),n!==void 0&&Uk(me,this.ngContentSelectors,n),N=Lk(Nt,se,he,_e,O,[jk]),Dm(x,O,null)}finally{nm()}return new Ap(this.componentType,N,sl(me,O),O,me)}finally{le(s)}}},Ap=class extends Dp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Tm(s[Y],s,i,e,n),this.previousInputValues.set(e,n);let o=Nr(this._tNode.index,s);bm(o)}}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ok(t,e){let n=t[Y],r=Rt;return t[r]=e,la(n,r,2,"#host",null)}function kk(t,e,n,r,i,s,o){let a=i[Y];Fk(r,t,e,o);let c=null;e!==null&&(c=um(e,i[Vs]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=ll(i,TD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&_p(a,t,r.length-1),dl(i,d),i[t.index]=d}function Fk(t,e,n,r){for(let i of t)e.mergedAttrs=Qo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bu(e,e.mergedAttrs,!0),n!==null&&vD(r,n,e))}function Lk(t,e,n,r,i,s){let o=_t(),a=i[Y],c=Kt(o,i);DD(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Bs(i,a,d,o);Rr(h,i)}bD(a,i,o),c&&Rr(c,i);let u=Bs(i,a,o.directiveStart+o.componentOffset,o);if(t[Wt]=i[Wt]=u,s!==null)for(let l of s)l(u,e);return ym(a,o,i),u}function Vk(t,e,n,r){if(r)Jf(t,n,["ng-version","17.3.6"]);else{let{attrs:i,classes:s}=EP(e.selectors[0]);i&&Jf(t,n,i),s&&s.length>0&&yD(t,n,s.join(" "))}}function Uk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function jk(){let t=_t();il(de()[Y],t)}var Qs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Bk;let t=e;return t})();function Bk(){let t=_t();return Hk(t,de())}var $k=Qs,VD=class extends $k{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=rm(this._hostTNode,this._hostLView);if(xT(e)){let n=Ou(e,this._hostLView),r=xu(e),i=n[Y].data[r+8];return new fi(i,n)}else return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=AI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Tp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ep(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!FP(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new na(mi(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(o?u:this.parentInjector).get(Gt,null);g&&(s=g)}let l=mi(c.componentType??{}),d=Tp(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Ep(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[lt],u=new VD(c,c[cn],c[lt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return MD(o,i,s,r),e.attachToViewContainerRef(),WI(jf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=AI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Lu(this._lContainer,n);r&&(Au(jf(this._lContainer),n),pm(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Lu(this._lContainer,n);return r&&Au(jf(this._lContainer),n)!=null?new wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function AI(t){return t[Nu]}function jf(t){return t[Nu]||(t[Nu]=[])}function Hk(t,e){let n,r=e[t.index];return Wn(r)?n=r:(n=CD(r,e,null,t),e[t.index]=n,dl(e,n)),zk(n,e,t,r),new VD(n,t,e)}function qk(t,e){let n=t[Me],r=n.createComment(""),i=Kt(e,t),s=mm(n,i);return Vu(n,s,r,EO(n,i),!1),r}var zk=Kk,Gk=()=>!1;function Wk(t,e,n){return Gk(t,e,n)}function Kk(t,e,n,r){if(t[yi])return;let i;n.type&8?i=_n(r):i=qk(e,n),t[yi]=i}function Qk(t){return typeof t=="function"&&t[of]!==void 0}function UD(t){return Qk(t)&&typeof t.set=="function"}function Yk(t){return Object.getPrototypeOf(t.prototype).constructor}function Xn(t){let e=Yk(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new v(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=_u(t.inputs),o.inputTransforms=_u(t.inputTransforms),o.declaredInputs=_u(t.declaredInputs),o.outputs=_u(t.outputs);let a=i.hostBindings;a&&t1(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Xk(t,c),u&&e1(t,u),Jk(t,i),HN(t.outputs,i.outputs),$n(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Xn&&(n=!1)}}e=Object.getPrototypeOf(e)}Zk(r)}function Jk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Zk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qo(i.hostAttrs,n=Qo(n,i.hostAttrs))}}function _u(t){return t===ks?{}:t===At?[]:t}function Xk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function e1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function t1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Sm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Mr=class{},ra=class{};var Rp=class extends Mr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $u(this);let i=rT(e);this._bootstrapComponents=dD(i.bootstrap),this._r3Injector=$T(e,n,[{provide:Mr,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mp=class extends ra{constructor(e){super(),this.moduleType=e}create(e){return new Rp(this.moduleType,e,[])}};var Hu=class extends Mr{constructor(e){super(),this.componentFactoryResolver=new $u(this),this.instance=null;let n=new Yo([...e.providers,{provide:Mr,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver}],e.parent||Wp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Am(t,e,n=null){return new Hu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var fl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jD(t){return r1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function n1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function r1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function BD(t,e,n){return t[e]=n}function an(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function i1(t,e,n,r){let i=an(t,e,n);return an(t,e+1,r)||i}function s1(t){return(t.flags&32)===32}function o1(t,e,n,r,i,s,o,a,c){let u=e.consts,l=la(e,t,4,o||null,js(u,a));Im(e,n,l,js(u,c)),il(e,l);let d=l.tView=wm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Ae(t,e,n,r,i,s,o,a){let c=de(),u=Qe(),l=t+Rt,d=u.firstCreatePass?o1(l,u,c,e,n,r,i,s,o):u.data[l];bi(d,!1);let h=a1(u,c,d,t);nl()&&cl(u,c,h,d),Rr(h,c);let f=CD(h,c,h,d);return c[l]=f,dl(c,f),Wk(f,d,c),el(d)&&vm(u,c,d),o!=null&&_m(c,d,a),Ae}var a1=c1;function c1(t,e,n,r){return rl(!0),e[Me].createComment("")}function En(t,e,n,r){let i=de(),s=Gs();if(an(i,s,e)){let o=Qe(),a=tl();YO(a,i,t,e,n,r)}return En}function $D(t,e,n,r){return an(t,Gs(),n)?e+oa(n)+r:Zn}function wu(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function u1(t){return(t&2)==2}function l1(t,e){return t&131071|e<<17}function Np(t){return t|2}function $s(t){return(t&131068)>>2}function Bf(t,e){return t&-131069|e<<2}function d1(t){return(t&1)===1}function Pp(t){return t|1}function h1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ii(o),c=$s(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||aa(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Ii(t[a+1]);t[r+1]=wu(h,a),h!==0&&(t[h+1]=Bf(t[h+1],r)),t[a+1]=l1(t[a+1],r)}else t[r+1]=wu(a,0),a!==0&&(t[a+1]=Bf(t[a+1],r)),a=r;else t[r+1]=wu(c,0),a===0?a=r:t[c+1]=Bf(t[c+1],r),c=r;u&&(t[r+1]=Np(t[r+1])),RI(t,l,r,!0),RI(t,l,r,!1),f1(e,l,t,r,s),o=wu(a,c),s?e.classBindings=o:e.styleBindings=o}function f1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&aa(s,e)>=0&&(n[r+1]=Pp(n[r+1]))}function RI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ii(i):$s(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];p1(c,e)&&(a=!0,t[o+1]=r?Pp(u):Np(u)),o=r?Ii(u):$s(u)}a&&(t[n+1]=r?Np(i):Pp(i))}function p1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?aa(t,e)>=0:!1}var rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m1(t){return t.substring(rn.key,rn.keyEnd)}function g1(t){return y1(t),HD(t,qD(t,0,rn.textEnd))}function HD(t,e){let n=rn.textEnd;return n===e?-1:(e=rn.keyEnd=v1(t,rn.key=e,n),qD(t,e,n))}function y1(t){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=t.length}function qD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function v1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function z(t,e,n){let r=de(),i=Gs();if(an(r,i,e)){let s=Qe(),o=tl();Em(s,o,r,t,e,r[Me],n,!1)}return z}function xp(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Tm(t,n,s[o],o,r)}function Ai(t,e,n){return GD(t,e,n,!1),Ai}function pl(t,e){return GD(t,e,null,!0),pl}function er(t){WD(D1,zD,t,!0)}function zD(t,e){for(let n=g1(e);n>=0;n=HD(e,n))Qu(t,m1(e),!0)}function GD(t,e,n,r){let i=de(),s=Qe(),o=TT(2);if(s.firstUpdatePass&&QD(s,t,o,r),e!==Zn&&an(i,o,e)){let a=s.data[Ci()];YD(s,a,i,i[Me],t,i[o+1]=C1(e,n),r,o)}}function WD(t,e,n,r){let i=Qe(),s=TT(2);i.firstUpdatePass&&QD(i,null,s,r);let o=de();if(n!==Zn&&an(o,s,n)){let a=i.data[Ci()];if(JD(a,r)&&!KD(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Wf(c,n||"")),xp(i,a,o,n,r)}else b1(i,a,o,o[Me],o[s+1],o[s+1]=T1(t,e,n),r,s)}}function KD(t,e){return e>=t.expandoStartIndex}function QD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ci()],o=KD(t,n);JD(s,r)&&e===null&&!o&&(e=!1),e=_1(i,s,e,r),h1(i,s,e,n,o,r)}}function _1(t,e,n,r){let i=DT(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$f(null,t,e,n,r),n=ia(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=$f(i,t,e,n,r),s===null){let c=w1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=$f(null,t,e,c[1],r),c=ia(c,e.attrs,r),E1(t,e,r,c))}else s=I1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function w1(t,e,n){let r=n?e.classBindings:e.styleBindings;if($s(r)!==0)return t[Ii(r)]}function E1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ii(i)]=r}function I1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ia(r,o,n)}return ia(r,e.attrs,n)}function $f(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ia(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Qu(t,o,n?!0:e[++s]))}return t===void 0?null:t}function T1(t,e,n){if(n==null||n==="")return At;let r=[],i=Qt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function D1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Qu(t,r,n)}function b1(t,e,n,r,i,s,o,a){i===Zn&&(i=At);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,m=null,g;l===d?(c+=2,u+=2,h!==f&&(m=d,g=f)):d===null||l!==null&&l<d?(c+=2,m=l):(u+=2,m=d,g=f),m!==null&&YD(t,e,n,r,m,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function YD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=d1(u)?MI(c,e,n,i,$s(u),o):void 0;if(!qu(l)){qu(s)||u1(u)&&(s=MI(c,null,n,i,a,o));let d=mT(Ci(),n);AO(r,o,d,i,s)}}function MI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Zn&&(h=d?At:void 0);let f=d?Nf(h,r):l===r?h:void 0;if(u&&!qu(f)&&(f=Nf(c,r)),qu(f)&&(a=f,o))return a;let m=t[i+1];i=o?Ii(m):$s(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Nf(c,r))}return a}function qu(t){return t!==void 0}function C1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(Qt(t)))),t}function JD(t,e){return(t.flags&(e?8:16))!==0}function ZD(t,e,n){let r=de(),i=$D(r,t,e,n);WD(Qu,zD,i,!0)}function XD(t,e,n){da("NgControlFlow");let r=de(),i=Gs(),s=S1(r,Rt+t),o=0;if(an(r,i,e)){let a=le(null);try{if(ck(s,o),e!==-1){let c=A1(r[Y],Rt+e),u=Tp(s,c.tView.ssrId),l=RD(r,c,n,{dehydratedView:u});MD(s,l,o,Ep(c,u))}}finally{le(a)}}else{let a=ak(s,o);a!==void 0&&(a[Wt]=n)}}function S1(t,e){return t[e]}function A1(t,e){return Jp(t,e)}function R1(t,e,n,r,i,s){let o=e.consts,a=js(o,i),c=la(e,t,2,r,a);return Im(e,n,c,js(o,s)),c.attrs!==null&&Bu(c,c.attrs,!1),c.mergedAttrs!==null&&Bu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function C(t,e,n,r){let i=de(),s=Qe(),o=Rt+t,a=i[Me],c=s.firstCreatePass?R1(o,s,i,e,n,r):s.data[o],u=M1(s,i,c,a,e,t);i[o]=u;let l=el(c);return bi(c,!0),vD(a,u,c),!s1(c)&&nl()&&cl(s,i,u,c),YP()===0&&Rr(u,i),JP(),l&&(vm(s,i,c),ym(s,c,i)),r!==null&&_m(i,c),C}function b(){let t=_t();em()?ET():(t=t.parent,bi(t,!1));let e=t;ex(e)&&tx(),ZP();let n=Qe();return n.firstCreatePass&&(il(n,t),Yp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fx(e)&&xp(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&px(e)&&xp(n,e,de(),e.stylesWithoutHost,!1),b}function Re(t,e,n,r){return C(t,e,n,r),b(),Re}var M1=(t,e,n,r,i,s)=>(rl(!0),hD(r,i,ux()));function N1(t,e,n,r,i){let s=e.consts,o=js(s,r),a=la(e,t,8,"ng-container",o);o!==null&&Bu(a,o,!0);let c=js(s,i);return Im(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ml(t,e,n){let r=de(),i=Qe(),s=t+Rt,o=i.firstCreatePass?N1(s,i,r,e,n):i.data[s];bi(o,!0);let a=P1(i,r,o,t);return r[s]=a,nl()&&cl(i,r,a,o),Rr(a,r),el(o)&&(vm(i,r,o),ym(i,o,r)),n!=null&&_m(r,o),ml}function gl(){let t=_t(),e=Qe();return em()?ET():(t=t.parent,bi(t,!1)),e.firstCreatePass&&(il(e,t),Yp(t)&&e.queries.elementEnd(t)),gl}var P1=(t,e,n,r)=>(rl(!0),lO(e[Me],""));function Ri(){return de()}function Rm(t,e,n){let r=de(),i=Gs();if(an(r,i,e)){let s=Qe(),o=tl(),a=DT(s.data),c=nk(a,o,r);Em(s,o,r,t,e,c,n,!0)}return Rm}var di=void 0;function x1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var O1=["en",[["a","p"],["AM","PM"],di],[["AM","PM"],di,di],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],di,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],di,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",di,"{1} 'at' {0}",di],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",x1],Hf={};function yl(t){let e=k1(t),n=NI(e);if(n)return n;let r=e.split("-")[0];if(n=NI(r),n)return n;if(r==="en")return O1;throw new v(701,!1)}function NI(t){return t in Hf||(Hf[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Hf[t]}var Mi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Mi||{});function k1(t){return t.toLowerCase().replace(/_/g,"-")}var zu="en-US",F1="USD";var L1=zu;function V1(t){typeof t=="string"&&(L1=t.toLowerCase().replace(/_/g,"-"))}function Je(t,e,n,r){let i=de(),s=Qe(),o=_t();return e0(s,i,i[Me],o,t,e,r),Je}function U1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Jo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function e0(t,e,n,r,i,s,o){let a=el(r),u=t.firstCreatePass&&tk(t),l=e[Wt],d=ek(e),h=!0;if(r.type&3||o){let g=Kt(r,e),y=o?o(g):g,I=d.length,x=o?N=>o(_n(N[r.index])):r.index,O=null;if(!o&&a&&(O=U1(t,e,i,r.index)),O!==null){let N=O.__ngLastListenerFn__||O;N.__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,h=!1}else{s=xI(r,e,l,s,!1);let N=n.listen(y,i,s);d.push(s,N),u&&u.push(i,x,I,I+1)}}else s=xI(r,e,l,s,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let g=m.length;if(g)for(let y=0;y<g;y+=2){let I=m[y],x=m[y+1],me=e[I][x].subscribe(s),se=d.length;d.push(s,me),u&&u.push(i,r.index,se,-(se+1))}}}function PI(t,e,n,r){let i=le(null);try{return mn(6,e,n),n(r)!==!1}catch(s){return AD(t,s),!1}finally{mn(7,e,n),le(i)}}function xI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Nr(t.index,e):e;bm(a);let c=PI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=PI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function ye(t=1){return cx(t)}function j1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j(t,e=""){let n=de(),r=Qe(),i=t+Rt,s=r.firstCreatePass?la(r,i,1,e,null):r.data[i],o=B1(r,n,s,e,t);n[i]=o,nl()&&cl(r,n,o,s),bi(s,!1)}var B1=(t,e,n,r,i)=>(rl(!0),cO(e[Me],r));function tr(t){return wt("",t,""),tr}function wt(t,e,n){let r=de(),i=$D(r,t,e,n);return i!==Zn&&rk(r,Ci(),i),wt}function Mm(t,e,n){UD(e)&&(e=e());let r=de(),i=Gs();if(an(r,i,e)){let s=Qe(),o=tl();Em(s,o,r,t,e,r[Me],n,!1)}return Mm}function t0(t,e){let n=UD(t);return n&&t.set(e),n}function Nm(t,e){let n=de(),r=Qe(),i=_t();return e0(r,n,n[Me],i,t,e),Nm}function $1(t,e,n){let r=Qe();if(r.firstCreatePass){let i=$n(t);Op(n,r.data,r.blueprint,i,!0),Op(e,r.data,r.blueprint,i,!1)}}function Op(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Op(t[s],e,n,r,i);else{let s=Qe(),o=de(),a=_t(),c=Ls(t)?t:yt(t.provide),u=uT(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ls(t)||!t.multi){let f=new _i(u,i,L),m=zf(c,e,i?l:l+h,d);m===-1?(sp(Fu(a,o),s,c),qf(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[m]=f,o[m]=f)}else{let f=zf(c,e,l+h,d),m=zf(c,e,l,l+h),g=f>=0&&n[f],y=m>=0&&n[m];if(i&&!y||!i&&!g){sp(Fu(a,o),s,c);let I=z1(i?q1:H1,n.length,i,r,u);!i&&y&&(n[m].providerFactory=I),qf(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=n0(n[i?m:f],u,!i&&r);qf(s,t,f>-1?f:m,I)}!i&&r&&y&&n[m].componentProviders++}}}function qf(t,e,n,r){let i=Ls(e),s=AP(e);if(i||s){let c=(s?yt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function n0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function H1(t,e,n,r){return kp(this.multi,[])}function q1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Bs(n,n[Y],this.providerFactory.index,r);s=a.slice(0,o),kp(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],kp(i,s);return s}function kp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function z1(t,e,n,r,i){let s=new _i(t,n,L);return s.multi=[],s.index=e,s.componentProviders=0,n0(s,i,r&&!n),s}function ha(t,e=[]){return n=>{n.providersResolver=(r,i)=>$1(r,i?i(t):t,e)}}var G1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=oT(!1,r.type),s=i.length>0?Am([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(P(Gt))});let t=e;return t})();function qe(t){da("NgStandalone"),t.getStandaloneInjector=e=>e.get(G1).getOrCreateStandaloneInjector(t)}function r0(t,e){let n=t[e];return n===Zn?void 0:n}function W1(t,e,n,r,i,s){let o=e+n;return an(t,o,i)?BD(t,o+1,s?r.call(s,i):r(i)):r0(t,o+1)}function K1(t,e,n,r,i,s,o){let a=e+n;return i1(t,a,i,s)?BD(t,a+2,o?r.call(o,i,s):r(i,s)):r0(t,a+2)}function fa(t,e){let n=Qe(),r,i=t+Rt;n.firstCreatePass?(r=Q1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=pi(r.type,!0)),o,a=St(L);try{let c=ku(!1),u=s();return ku(c),j1(n,de(),i,u),u}finally{St(a)}}function Q1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Pm(t,e,n){let r=t+Rt,i=de(),s=gT(i,r);return s0(i,r)?W1(i,IT(),e,s.transform,n,s):s.transform(n)}function i0(t,e,n,r){let i=t+Rt,s=de(),o=gT(s,i);return s0(s,i)?K1(s,IT(),e,o.transform,n,r,o):o.transform(n,r)}function s0(t,e){return t[Y].data[e].pure}var Gn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},o0=new Gn("17.3.6"),vl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var a0=new F("");function Ni(t){return!!t&&typeof t.then=="function"}function c0(t){return!!t&&typeof t.subscribe=="function"}var u0=new F(""),l0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(u0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ni(o))r.push(o);else if(c0(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xm=new F("");function Y1(){CE(()=>{throw new v(600,!1)})}function J1(t){return t.isBoundToModule}function Z1(t,e,n){try{let r=n();return Ni(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var nr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(HT),this.afterRenderEffectManager=D(LD),this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=D(fl).hasPendingTasks.pipe(ee(r=>!r)),this._injector=D(Gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ju;if(!this._injector.get(l0).done){let f=!s&&nT(r),m=!1;throw new v(405,m)}let a;s?a=r:a=this._injector.get(Ks).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=J1(a)?void 0:this._injector.get(Mr),u=i||a.selector,l=a.create(Ye.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(a0,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Gf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new v(101,!1);let i=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,le(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===PD)throw new v(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)X1(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Fp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Gf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(xm,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Gf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new v(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function X1(t,e,n){!e&&!Fp(t)||eF(t,n,e)}function Fp(t){return Xp(t)}function eF(t,e,n){let r;n?(r=0,t[B]|=1024):t[B]&64?r=0:r=1,xD(t,e,r)}var Lp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Om=(()=>{let e=class e{compileModuleSync(r){return new Mp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=rT(r),o=dD(s.declarations).reduce((a,c)=>{let u=mi(c);return u&&a.push(new na(u)),a},[]);return new Lp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tF=(()=>{let e=class e{constructor(){this.zone=D(ie),this.applicationRef=D(nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nF(t){return[{provide:ie,useFactory:t},{provide:Fs,multi:!0,useFactory:()=>{let e=D(tF,{optional:!0});return()=>e.initialize()}},{provide:Fs,multi:!0,useFactory:()=>{let e=D(oF);return()=>{e.initialize()}}},{provide:HT,useFactory:rF}]}function rF(){let t=D(ie),e=D(Hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function iF(t){let e=nF(()=>new ie(sF(t)));return Hs([[],e])}function sF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oF=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=D(ie),this.pendingTasks=D(fl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(){return typeof $localize<"u"&&$localize.locale||zu}var _l=new F("",{providedIn:"root",factory:()=>D(_l,Q.Optional|Q.SkipSelf)||aF()}),d0=new F("",{providedIn:"root",factory:()=>F1});var h0=new F("");var bu=null;function cF(t=[],e){return Ye.create({name:e,providers:[{provide:Yu,useValue:"platform"},{provide:h0,useValue:new Set([()=>bu=null])},...t]})}function uF(t=[]){if(bu)return bu;let e=cF(t);return bu=e,Y1(),lF(e),e}function lF(t){t.get(om,null)?.forEach(n=>n())}var Ys=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dF;let t=e;return t})();function dF(t){return hF(_t(),de(),(t&16)===16)}function hF(t,e,n){if(Xu(t)&&!n){let r=Nr(t.index,e);return new wi(r,r)}else if(t.type&47){let r=e[vn];return new wi(r,e)}return null}var Vp=class{constructor(){}supports(e){return jD(e)}create(e){return new Up(e)}},fF=(t,e)=>e,Up=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<OI(r,i,s)?n:r,a=OI(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;l<=m&&m<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!jD(e))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,n1(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new jp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Bp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function OI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function kI(){return new km([new Vp])}var km=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||kI()),deps:[[e,new GI,new Fe]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new v(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:kI});let t=e;return t})();function f0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uF(r),s=[iF(),...n||[]],a=new Hu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ie);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Hn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(h0);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Z1(u,c,()=>{let f=a.get(l0);return f.runInitializers(),f.donePromise.then(()=>{let m=a.get(_l,zu);V1(m||zu);let g=a.get(nr);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function Pi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var w0=null;function ir(){return w0}function E0(t){w0??=t}var wl=class{};var Ze=new F(""),I0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(pF),providedIn:"platform"});let t=e;return t})();var pF=(()=>{let e=class e extends I0{constructor(){super(),this._doc=D(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(r){let i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function T0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function p0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function xi(t){return t&&t[0]!=="?"?"?"+t:t}var Js=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(D0),providedIn:"root"});let t=e;return t})(),mF=new F(""),D0=(()=>{let e=class e extends Js{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return T0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+xi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+xi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+xi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(P(I0),P(mF,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ga=(()=>{let e=class e{constructor(r){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vF(p0(m0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+xi(i))}normalize(r){return e.stripTrailingSlash(yF(this._basePath,m0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=xi,e.joinWithSlash=T0,e.stripTrailingSlash=p0,e.\u0275fac=function(i){return new(i||e)(P(Js))},e.\u0275prov=A({token:e,factory:()=>gF(),providedIn:"root"});let t=e;return t})();function gF(){return new ga(P(Js))}function yF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function m0(t){return t.replace(/\/index.html$/,"")}function vF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var b0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},C0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(C0||{});var rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function pa(t,e){let n=yl(t),r=n[Mi.NumberSymbols][e];if(typeof r>"u"){if(e===rr.CurrencyDecimal)return n[Mi.NumberSymbols][rr.Decimal];if(e===rr.CurrencyGroup)return n[Mi.NumberSymbols][rr.Group]}return r}function _F(t,e){return yl(t)[Mi.NumberFormats][e]}function wF(t){return yl(t)[Mi.Currencies]}function EF(t,e,n="en"){let r=wF(n)[t]||b0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var IF=2;function TF(t){let e,n=b0[t];return n&&(e=n[2]),typeof e=="number"?e:IF}var DF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,g0=22,El=".",ma="0",bF=";",CF=",",Fm="#",y0="\xA4";function SF(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=pa(n,rr.Infinity);else{let u=NF(t);o&&(u=MF(u));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){let x=s.match(DF);if(x===null)throw new Error(`${s} is not a valid digit info`);let O=x[1],N=x[3],me=x[5];O!=null&&(l=Lm(O)),N!=null&&(d=Lm(N)),me!=null?h=Lm(me):N!=null&&d>h&&(h=d)}PF(u,d,h);let f=u.digits,m=u.integerLen,g=u.exponent,y=[];for(c=f.every(x=>!x);m<l;m++)f.unshift(0);for(;m<0;m++)f.unshift(0);m>0?y=f.splice(m,f.length):(y=f,f=[0]);let I=[];for(f.length>=e.lgSize&&I.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)I.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&I.unshift(f.join("")),a=I.join(pa(n,r)),y.length&&(a+=pa(n,i)+y.join("")),g&&(a+=pa(n,rr.Exponential)+"+"+g)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function AF(t,e,n,r,i){let s=_F(e,C0.Currency),o=RF(s,pa(e,rr.MinusSign));return o.minFrac=TF(r),o.maxFrac=o.minFrac,SF(t,o,e,rr.CurrencyGroup,rr.CurrencyDecimal,i).replace(y0,n).replace(y0,"").trim()}function RF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(bF),i=r[0],s=r[1],o=i.indexOf(El)!==-1?i.split(El):[i.substring(0,i.lastIndexOf(ma)+1),i.substring(i.lastIndexOf(ma)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(Fm));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===ma?n.minFrac=n.maxFrac=l+1:d===Fm?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(CF);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(Fm);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function MF(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function NF(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(El))>-1&&(e=e.replace(El,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===ma;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===ma;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>g0&&(r=r.splice(0,g0-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function PF(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+t.integerLen,l=r.reduceRight(function(d,h,f,m){return h=h+d,m[f]=h<10?h:h-10,c&&(m[f]===0&&f>=u?m.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function Lm(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function S0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Vm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tl=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Vm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),v0(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);v0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Qs),L(hl),L(km))},e.\u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function v0(t,e){t.context.$implicit=e.item}var Oi=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Um,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){_0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){_0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Qs),L(hl))},e.\u0275dir=Ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Um=class{constructor(){this.$implicit=null,this.ngIf=null}};function _0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function xF(t,e){return new v(2100,!1)}var Dl=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,s="symbol",o,a){if(!OF(r))return null;a||=this._locale,typeof s=="boolean"&&(s=s?"symbol":"code");let c=i||this._defaultCurrencyCode;s!=="code"&&(s==="symbol"||s==="symbol-narrow"?c=EF(c,s==="symbol"?"wide":"narrow",a):c=s);try{let u=kF(r);return AF(u,a,c,i,o)}catch(u){throw xF(e,u.message)}}};e.\u0275fac=function(i){return new(i||e)(L(_l,16),L(d0,16))},e.\u0275pipe=XI({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function OF(t){return!(t==null||t===""||t!==t)}function kF(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var sr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({});let t=e;return t})(),A0="browser",FF="server";function jm(t){return t===FF}var Il=class{};var Hm=class extends wl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qm=class t extends Hm{static makeCurrent(){E0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VF();return n==null?null:UF(n)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return S0(document.cookie,e)}},ya=null;function VF(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}function UF(t){return new URL(t,document.baseURI).pathname}var jF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),zm=new F(""),N0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new v(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(P(zm),P(ie))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),bl=class{constructor(e){this._doc=e}},Bm="ng-app-id",P0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Bm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Bm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Bm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(P(Ze),P(sm),P(cm,8),P(Or))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),$m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wm=/%COMP%/g,x0="%COMP%",BF=`_nghost-${x0}`,$F=`_ngcontent-${x0}`,HF=!0,qF=new F("",{providedIn:"root",factory:()=>HF});function zF(t){return $F.replace(Wm,t)}function GF(t){return BF.replace(Wm,t)}function O0(t,e){return e.map(n=>n.replace(Wm,t))}var Cl=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=jm(c),this.defaultRenderer=new va(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yn.ShadowDom&&(i=re(E({},i),{encapsulation:yn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sl?s.applyToHost(r):s instanceof _a&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case yn.Emulated:o=new Sl(u,l,i,this.appId,d,a,c,h);break;case yn.ShadowDom:return new Gm(u,l,r,i,a,c,this.nonce,h);default:o=new _a(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(P(N0),P(P0),P(sm),P(qF),P(Ze),P(Or),P(ie),P(cm))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),va=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($m[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(R0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(R0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new v(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=$m[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$m[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(n,r,i&zn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function R0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gm=class extends va{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=O0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_a=class extends va{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?O0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sl=class extends _a{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=zF(u),this.hostAttr=GF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WF=(()=>{let e=class e extends bl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(P(Ze))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),M0=["alt","control","meta","shift"],KF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YF=(()=>{let e=class e extends bl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),M0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=KF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),M0.forEach(a=>{if(a!==s){let c=QF[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(P(Ze))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function k0(t,e){return f0(E({rootComponent:t},JF(e)))}function JF(t){return{appProviders:[...nL,...t?.providers??[]],platformProviders:tL}}function ZF(){qm.makeCurrent()}function XF(){return new Hn}function eL(){return YT(document),document}var tL=[{provide:Or,useValue:A0},{provide:om,useValue:ZF,multi:!0},{provide:Ze,useFactory:eL,deps:[]}];var nL=[{provide:Yu,useValue:"root"},{provide:Hn,useFactory:XF,deps:[]},{provide:zm,useClass:WF,multi:!0,deps:[Ze,ie,Or]},{provide:zm,useClass:YF,multi:!0,deps:[Ze]},Cl,P0,N0,{provide:Ei,useExisting:Cl},{provide:Il,useClass:jF,deps:[]},[]];var F0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(P(Ze))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Km=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=P(rL),s},providedIn:"root"});let t=e;return t})(),rL=(()=>{let e=class e extends Km{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Lt.NONE:return i;case Lt.HTML:return Yn(i,"HTML")?Qt(i):lm(this._doc,String(i)).toString();case Lt.STYLE:return Yn(i,"Style")?Qt(i):i;case Lt.SCRIPT:if(Yn(i,"Script"))return Qt(i);throw new v(5200,!1);case Lt.URL:return Yn(i,"URL")?Qt(i):al(String(i));case Lt.RESOURCE_URL:if(Yn(i,"ResourceURL"))return Qt(i);throw new v(5201,!1);default:throw new v(5202,!1)}}bypassSecurityTrustHtml(r){return eD(r)}bypassSecurityTrustStyle(r){return tD(r)}bypassSecurityTrustScript(r){return nD(r)}bypassSecurityTrustUrl(r){return rD(r)}bypassSecurityTrustResourceUrl(r){return iD(r)}};e.\u0275fac=function(i){return new(i||e)(P(Ze))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K="primary",Oa=Symbol("RouteTitle"),Xm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function no(t){return new Xm(t)}function iL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?eg(t):void 0,r=e?eg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!H0(t[i],e[i]))return!1;return!0}function eg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function H0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function q0(t){return t.length>0?t[t.length-1]:null}function Vr(t){return Tf(t)?t:Ni(t)?xe(Promise.resolve(t)):G(t)}var oL={exact:G0,subset:W0},z0={exact:aL,subset:cL,ignored:()=>!0};function V0(t,e,n){return oL[n.paths](t.root,e.root,n.matrixParams)&&z0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aL(t,e){return In(t,e)}function G0(t,e,n){if(!Fi(t.segments,e.segments)||!Ml(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!G0(t.children[r],e.children[r],n))return!1;return!0}function cL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>H0(t[n],e[n]))}function W0(t,e,n){return K0(t,e,e.segments,n)}function K0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Fi(i,n)||e.hasChildren()||!Ml(i,n,r))}else if(t.segments.length===n.length){if(!Fi(t.segments,n)||!Ml(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!W0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Fi(t.segments,i)||!Ml(t.segments,i,r)||!t.children[K]?!1:K0(t.children[K],e,s,r)}}function Ml(t,e,n){return e.every((r,i)=>z0[n](t[i].parameters,r.parameters))}var kr=class{constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return dL.serialize(this)}},fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}},ki=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return Y0(this)}};function uL(t,e){return Fi(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function Fi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var Cg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new xl,providedIn:"root"});let t=e;return t})(),xl=class{parse(e){let n=new ng(e);return new kr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wa(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${n}${r}${i}`}},dL=new xl;function Nl(t){return t.segments.map(e=>Y0(e)).join("/")}function wa(t,e){if(!t.hasChildren())return Nl(t);if(e){let n=t.children[K]?wa(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${wa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lL(t,(r,i)=>i===K?[wa(t.children[K],!1)]:[`${i}:${wa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Nl(t)}/${n[0]}`:`${Nl(t)}/(${n.join("//")})`}}function Q0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(t){return Q0(t).replace(/%3B/gi,";")}function hL(t){return encodeURI(t)}function tg(t){return Q0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pl(t){return decodeURIComponent(t)}function U0(t){return Pl(t.replace(/\+/g,"%20"))}function Y0(t){return`${tg(t.path)}${fL(t.parameters)}`}function fL(t){return Object.entries(t).map(([e,n])=>`;${tg(e)}=${tg(n)}`).join("")}function pL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Al(n)}=${Al(i)}`).join("&"):`${Al(n)}=${Al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mL=/^[^\/()?;#]+/;function Qm(t){let e=t.match(mL);return e?e[0]:""}var gL=/^[^\/()?;=#]+/;function yL(t){let e=t.match(gL);return e?e[0]:""}var vL=/^[^=?&#]+/;function _L(t){let e=t.match(vL);return e?e[0]:""}var wL=/^[^&#]+/;function EL(t){let e=t.match(wL);return e?e[0]:""}var ng=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new fe(e,n)),r}parseSegment(){let e=Qm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(e),new ki(Pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qm(this.remaining);i&&(r=i,this.capture(r))}e[Pl(n)]=Pl(r)}parseQueryParam(e){let n=_L(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=EL(this.remaining);o&&(r=o,this.capture(r))}let i=U0(n),s=U0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new v(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new fe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new v(4011,!1)}};function J0(t){return t.segments.length>0?new fe([],{[K]:t}):t}function Z0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Z0(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new fe(t.segments,e);return IL(n)}function IL(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new fe(t.segments.concat(e.segments),e.children)}return t}function ro(t){return t instanceof kr}function TL(t,e,n=null,r=null){let i=X0(t);return eb(i,e,n,r)}function X0(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new fe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=J0(r);return e??i}function eb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ym(i,i,i,n,r);let s=DL(e);if(s.toRoot())return Ym(i,i,new fe([],{}),n,r);let o=bL(s,i,t),a=o.processChildren?Ta(o.segmentGroup,o.index,s.commands):nb(o.segmentGroup,o.index,s.commands);return Ym(i,o.segmentGroup,a,n,r)}function Ol(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ca(t){return typeof t=="object"&&t!=null&&t.outlets}function Ym(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=tb(t,e,n);let a=J0(Z0(o));return new kr(a,s,i)}function tb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=tb(s,e,n)}),new fe(t.segments,r)}var kl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ol(r[0]))throw new v(4003,!1);let i=r.find(Ca);if(i&&i!==q0(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new kl(n,e,r)}var eo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function bL(t,e,n){if(t.isAbsolute)return new eo(e,!0,0);if(!n)return new eo(e,!1,NaN);if(n.parent===null)return new eo(n,!0,0);let r=Ol(t.commands[0])?0:1,i=n.segments.length-1+r;return CL(n,i,t.numberOfDoubleDots)}function CL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new eo(r,!1,i-s)}function SL(t){return Ca(t[0])?t[0].outlets:{[K]:t}}function nb(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return Ta(t,e,n);let r=AL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new fe(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new fe(t.segments.slice(r.pathIndex),t.children),Ta(s,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?rg(t,e,n):r.match?Ta(t,0,i):rg(t,e,n)}function Ta(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=SL(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Ta(t.children[K],e,n);return new fe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=nb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new fe(t.segments,i)}}function AL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ca(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!B0(c,u,o))return s;r+=2}else{if(!B0(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ca(s)){let c=RL(s.outlets);return new fe(r,c)}if(i===0&&Ol(n[0])){let c=t.segments[e];r.push(new ki(c.path,j0(n[0]))),i++;continue}let o=Ca(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ol(a)?(r.push(new ki(o,j0(a))),i+=2):(r.push(new ki(o,{})),i++)}return new fe(r,{})}function RL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=rg(new fe([],{}),0,r))}),e}function j0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function B0(t,e,n){return t==n.path&&In(e,n.parameters)}var Da="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),Yt=class{constructor(e,n){this.id=e,this.url=n}},Sa=class extends Yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fr=class extends Yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),ig=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ig||{}),Lr=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Li=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},Aa=class extends Yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fl=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends Yt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ag=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lg=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dg=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ra=class{},Ma=class{constructor(e){this.url=e}};var mg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $l,this.attachRef=null}},$l=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ll=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yg(e,this._root).map(n=>n.value)}};function gg(t,e){if(t===e.value)return e;for(let n of e.children){let r=gg(t,n);if(r)return r}return null}function yg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yg(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vl=class extends Ll{constructor(e,n){super(e),this.snapshot=n,Ag(this,e)}toString(){return this.snapshot.toString()}};function rb(t){let e=ML(t),n=new je([new ki("",{})]),r=new je({}),i=new je({}),s=new je({}),o=new je(""),a=new Vi(n,r,s,o,i,K,t,e.root);return a.snapshot=e.root,new Vl(new Vt(a,[]),e)}function ML(t){let e={},n={},r={},i="",s=new Na([],e,r,i,n,K,t,null,{});return new Ul("",new Vt(s,[]))}var Vi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[Oa]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>no(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>no(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&sb(i)&&(r.resolve[Oa]=i.title),r}var Na=class{get title(){return this.data?.[Oa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ul=class extends Ll{constructor(e,n){super(n),this.url=e,Ag(this,n)}toString(){return ib(this._root)}};function Ag(t,e){e.value._routerState=t,e.children.forEach(n=>Ag(t,n))}function ib(t){let e=t.children.length>0?` { ${t.children.map(ib).join(", ")} } `:"";return`${t.value}${e}`}function Jm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),sL(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vg(t,e){let n=In(t.params,e.params)&&uL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vg(t.parent,e.parent))}function sb(t){return typeof t.title=="string"||t.title===null}var Rg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=D($l),this.location=D(Qs),this.changeDetector=D(Ys),this.environmentInjector=D(Gt),this.inputBinder=D(Mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new _g(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]});let t=e;return t})(),_g=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vi?this.route:e===$l?this.childContexts:this.parent.get(e,n)}},Mg=new F("");function NL(t,e,n){let r=Pa(t,e._root,n?n._root:void 0);return new Vl(r,e)}function Pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=PL(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pa(t,a)),o}}let r=xL(e.value),i=e.children.map(s=>Pa(t,s));return new Vt(r,i)}}function PL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pa(t,r,i);return Pa(t,r)})}function xL(t){return new Vi(new je(t.url),new je(t.params),new je(t.queryParams),new je(t.fragment),new je(t.data),t.outlet,t.component,t)}var ob="ngNavigationCancelingError";function ab(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cb(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ob]=!0,n.cancellationCode=e,n}function OL(t){return ub(t)&&ro(t.url)}function ub(t){return!!t&&t[ob]}var kL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["ng-component"]],standalone:!0,features:[qe],decls:1,vars:0,template:function(i,s){i&1&&Re(0,"router-outlet")},dependencies:[Rg],encapsulation:2});let t=e;return t})();function FL(t,e){return t.providers&&!t._injector&&(t._injector=Am(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ng(t){let e=t.children&&t.children.map(Ng),n=e?re(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=kL),n}function Tn(t){return t.outlet||K}function LL(t,e){let n=t.filter(r=>Tn(r)===e);return n.push(...t.filter(r=>Tn(r)!==e)),n}function ka(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var VL=(t,e,n,r)=>ee(i=>(new wg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Xs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Xs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Jm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ka(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},jl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},to=class{constructor(e,n){this.component=e,this.route=n}};function UL(t,e,n){let r=t._root,i=e?e._root:null;return Ea(r,i,n,[r.value])}function jL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function so(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!UI(t)?t:e.get(t):r}function Ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xs(e);return t.children.forEach(o=>{BL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ba(a,n.getContext(o),i)),i}function BL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=$L(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new jl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ea(t,e,a?a.children:null,r,i):Ea(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,o))}else o&&ba(e,a,i),i.canActivateChecks.push(new jl(r)),s.component?Ea(t,null,a?a.children:null,r,i):Ea(t,null,n,r,i);return i}function $L(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Fi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fi(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vg(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!vg(t,e)}}function ba(t,e,n){let r=Xs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ba(o,e.children.getContext(s),n):ba(o,null,n):ba(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new to(e.outlet.component,i)):n.canDeactivateChecks.push(new to(null,i)):n.canDeactivateChecks.push(new to(null,i))}function Fa(t){return typeof t=="function"}function HL(t){return typeof t=="boolean"}function qL(t){return t&&Fa(t.canLoad)}function zL(t){return t&&Fa(t.canActivate)}function GL(t){return t&&Fa(t.canActivateChild)}function WL(t){return t&&Fa(t.canDeactivate)}function KL(t){return t&&Fa(t.canMatch)}function lb(t){return t instanceof jn||t?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function io(){return tn(t=>hu(t.map(e=>e.pipe(Bn(1),Rf(Rl)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Rl)return Rl;if(n===!1||n instanceof kr)return n}return!0}),en(e=>e!==Rl),Bn(1)))}function QL(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(re(E({},n),{guardsResult:!0})):YL(o,r,i,t).pipe(Be(a=>a&&HL(a)?JL(r,s,t,e):G(a)),ee(a=>re(E({},n),{guardsResult:a})))})}function YL(t,e,n,r){return xe(t).pipe(Be(i=>nV(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function JL(t,e,n,r){return xe(e).pipe(As(i=>Ss(XL(i.route.parent,r),ZL(i.route,r),tV(t,i.path,n),eV(t,i.route,n))),pn(i=>i!==!0,!0))}function ZL(t,e){return t!==null&&e&&e(new fg(t)),G(!0)}function XL(t,e){return t!==null&&e&&e(new dg(t)),G(!0)}function eV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>fu(()=>{let o=ka(e)??n,a=so(s,o),c=zL(a)?a.canActivate(e,t):Di(o,()=>a(e,t));return Vr(c).pipe(pn())}));return G(i).pipe(io())}function tV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>jL(o)).filter(o=>o!==null).map(o=>fu(()=>{let a=o.guards.map(c=>{let u=ka(o.node)??n,l=so(c,u),d=GL(l)?l.canActivateChild(r,t):Di(u,()=>l(r,t));return Vr(d).pipe(pn())});return G(a).pipe(io())}));return G(s).pipe(io())}function nV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let c=ka(e)??i,u=so(a,c),l=WL(u)?u.canDeactivate(t,e,n,r):Di(c,()=>u(t,e,n,r));return Vr(l).pipe(pn())});return G(o).pipe(io())}function rV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=so(o,t),c=qL(a)?a.canLoad(e,n):Di(t,()=>a(e,n));return Vr(c)});return G(s).pipe(io(),db(r))}function db(t){return mf($e(e=>{if(ro(e))throw ab(t,e)}),ee(e=>e===!0))}function iV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=so(o,t),c=KL(a)?a.canMatch(e,n):Di(t,()=>a(e,n));return Vr(c)});return G(s).pipe(io(),db(r))}var xa=class{constructor(e){this.segmentGroup=e||null}},Bl=class extends Error{constructor(e){super(),this.urlTree=e}};function Zs(t){return Cs(new xa(t))}function sV(t){return Cs(new v(4e3,!1))}function oV(t){return Cs(cb(!1,Ut.GuardRejected))}var Eg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[K])return sV(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Bl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new fe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aV(t,e,n,r,i){let s=Pg(t,e,n);return s.matched?(r=FL(e,r),iV(r,e,n,i).pipe(ee(o=>o===!0?s:E({},Ig)))):G(s)}function Pg(t,e,n){if(e.path==="**")return cV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(n,t,e);if(!i)return E({},Ig);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cV(t){return{matched:!0,parameters:t.length>0?q0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function $0(t,e,n,r){return n.length>0&&dV(t,n,r)?{segmentGroup:new fe(e,lV(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&hV(t,n,r)?{segmentGroup:new fe(t.segments,uV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function uV(t,e,n,r){let i={};for(let s of n)if(Hl(t,e,s)&&!r[Tn(s)]){let o=new fe([],{});i[Tn(s)]=o}return E(E({},r),i)}function lV(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&Tn(r)!==K){let i=new fe([],{});n[Tn(r)]=i}return n}function dV(t,e,n){return n.some(r=>Hl(t,e,r)&&Tn(r)!==K)}function hV(t,e,n){return n.some(r=>Hl(t,e,r))}function Hl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fV(t,e,n,r){return Tn(t)!==r&&(r===K||!Hl(e,n,t))?!1:Pg(e,t,n).matched}function pV(t,e,n){return e.length===0&&!t.children[n]}var Tg=class{};function mV(t,e,n,r,i,s,o="emptyOnly"){return new Dg(t,e,n,r,i,o,s).recognize()}var gV=31,Dg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new v(4002,`'${e.segmentGroup}'`)}recognize(){let e=$0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new Na([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Vt(r,n),s=new Ul("",i),o=TL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(br(r=>{if(r instanceof Bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Sg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return xe(i).pipe(As(s=>{let o=r.children[s],a=LL(n,s);return this.processSegmentGroup(e,a,o,s)}),Af((s,o)=>(s.push(...o),s)),Cr(null),Sf(),Be(s=>{if(s===null)return Zs(r);let o=hb(s);return yV(o),G(o)}))}processSegment(e,n,r,i,s,o){return xe(n).pipe(As(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(br(c=>{if(c instanceof xa)return G(null);throw c}))),pn(a=>!!a),br(a=>{if(lb(a))return pV(r,i,s)?G(new Tg):Zs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return fV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Zs(i):Zs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Pg(n,i,s);if(!a)return Zs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Be(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=aV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(tn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tn(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Na(l,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,_V(r),Tn(r),r.component??r._loadedComponent??null,r,wV(r)),{segmentGroup:m,slicedSegments:g}=$0(n,l,d,c);if(g.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(ee(I=>I===null?null:new Vt(f,I)));if(c.length===0&&g.length===0)return G(new Vt(f,[]));let y=Tn(r)===s;return this.processSegment(u,c,m,g,y?K:s,!0).pipe(ee(I=>new Vt(f,I instanceof Vt?[I]:[])))}))):Zs(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):rV(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe($e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):oV(n))):G({routes:[],injector:e})}};function yV(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function vV(t){let e=t.value.routeConfig;return e&&e.path===""}function hb(t){let e=[],n=new Set;for(let r of t){if(!vV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hb(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function _V(t){return t.data||{}}function wV(t){return t.resolve||{}}function EV(t,e,n,r,i,s){return Be(o=>mV(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:c})=>re(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function IV(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of fb(c))o.add(u);let a=0;return xe(o).pipe(As(c=>s.has(c)?TV(c,r,t,e):(c.data=Sg(c,c.parent,t).resolve,G(void 0))),$e(()=>a++),Rs(1),Be(c=>a===o.size?G(n):Ot))})}function fb(t){let e=t.children.map(n=>fb(n)).flat();return[t,...e]}function TV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!sb(i)&&(s[Oa]=i.title),DV(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=Sg(t,t.parent,n).resolve,null)))}function DV(t,e,n,r){let i=eg(t);if(i.length===0)return G({});let s={};return xe(i).pipe(Be(o=>bV(t[o],e,n,r).pipe(pn(),$e(a=>{s[o]=a}))),Rs(1),Cf(s),br(o=>lb(o)?Ot:Cs(o)))}function bV(t,e,n,r){let i=ka(e)??r,s=so(t,i),o=s.resolve?s.resolve(e,n):Di(i,()=>s(e,n));return Vr(o)}function Zm(t){return tn(e=>{let n=t(e);return n?xe(n).pipe(ee(()=>e)):G(e)})}var pb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[Oa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(CV),providedIn:"root"});let t=e;return t})(),CV=(()=>{let e=class e extends pb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(P(F0))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xg=new F("",{providedIn:"root",factory:()=>({})}),Og=new F(""),SV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(Om)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Vr(r.loadComponent()).pipe(ee(mb),$e(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Go(()=>{this.componentLoaders.delete(r)})),s=new Is(i,()=>new Te).pipe(Es());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=AV(i,this.compiler,r,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(i)})),a=new Is(o,()=>new Te).pipe(Es());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AV(t,e,n,r){return Vr(t.loadChildren()).pipe(ee(mb),Be(i=>i instanceof ra||Array.isArray(i)?G(i):xe(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Og,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ng),injector:s}}))}function RV(t){return t&&typeof t=="object"&&"default"in t}function mb(t){return RV(t)?t.default:t}var kg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(MV),providedIn:"root"});let t=e;return t})(),MV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NV=new F("");var PV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=D(SV),this.environmentInjector=D(Gt),this.urlSerializer=D(Cg),this.rootContexts=D($l),this.location=D(ga),this.inputBindingEnabled=D(Mg,{optional:!0})!==null,this.titleStrategy=D(pb),this.options=D(xg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(kg),this.createViewTransition=D(NV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ug(s)),i=s=>this.events.next(new lg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(re(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Da,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(en(o=>o.id!==0),ee(o=>re(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tn(o=>{let a=!1,c=!1;return G(o).pipe(tn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),Ot;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Li(u.id,this.urlSerializer.serialize(u.rawUrl),h,ig.IgnoredSameUrlNavigation)),u.resolve(null),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(tn(h=>{let f=this.transitions?.getValue();return this.events.next(new Sa(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ot:Promise.resolve(h)}),EV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=re(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Fl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:g,extras:y}=u,I=new Sa(h,this.urlSerializer.serialize(f),m,g);this.events.next(I);let x=rb(this.rootComponentType).snapshot;return this.currentTransition=o=re(E({},u),{targetSnapshot:x,urlAfterRedirects:f,extras:re(E({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,G(o)}else{let h="";return this.events.next(new Li(u.id,this.urlSerializer.serialize(u.extractedUrl),h,ig.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ot}}),$e(u=>{let l=new sg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=re(E({},u),{guards:UL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),QL(this.environmentInjector,u=>this.events.next(u)),$e(u=>{if(o.guardsResult=u.guardsResult,ro(u.guardsResult))throw ab(this.urlSerializer,u.guardsResult);let l=new og(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),en(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ut.GuardRejected),!1)),Zm(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe($e(l=>{let d=new ag(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),tn(l=>{let d=!1;return G(l).pipe(IV(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Ut.NoDataFromResolver)}}))}),$e(l=>{let d=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Zm(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe($e(f=>{d.component=f}),ee(()=>{})));for(let f of d.children)h.push(...l(f));return h};return hu(l(u.targetSnapshot.root)).pipe(Cr(null),Bn(1))}),Zm(()=>this.afterPreactivation()),tn(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?xe(d).pipe(ee(()=>o)):G(o)}),ee(u=>{let l=NL(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=re(E({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),$e(()=>{this.events.next(new Ra)}),VL(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Bn(1),$e({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Mf(this.transitionAbortSubject.pipe($e(u=>{throw u}))),Go(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(u=>{if(c=!0,ub(u))this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),OL(u)?this.events.next(new Ma(u.url)):o.resolve(!1);else{this.events.next(new Aa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Ot}))}))}cancelNavigationTransition(r,i,s){let o=new Lr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xV(t){return t!==Da}var OV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(kV),providedIn:"root"});let t=e;return t})(),bg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kV=(()=>{let e=class e extends bg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ws(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>D(FV),providedIn:"root"});let t=e;return t})(),FV=(()=>{let e=class e extends gb{constructor(){super(...arguments),this.location=D(ga),this.urlSerializer=D(Cg),this.options=D(xg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Sa)this.stateMemento=this.createStateMemento();else if(r instanceof Li)this.rawUrlTree=i.initialUrl;else if(r instanceof Fl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ra?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Lr&&(r.code===Ut.GuardRejected||r.code===Ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Aa?this.restoreHistory(i,!0):r instanceof Fr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ws(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ia=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ia||{});function LV(t,e){t.events.pipe(en(n=>n instanceof Fr||n instanceof Lr||n instanceof Aa||n instanceof Li),ee(n=>n instanceof Fr||n instanceof Li?Ia.COMPLETE:(n instanceof Lr?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Ia.REDIRECTING:Ia.FAILED),en(n=>n!==Ia.REDIRECTING),Bn(1)).subscribe(()=>{e()})}function VV(t){throw t}var UV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fg=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(vl),this.stateManager=D(gb),this.options=D(xg,{optional:!0})||{},this.pendingTasks=D(fl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(PV),this.urlSerializer=D(Cg),this.location=D(ga),this.urlHandlingStrategy=D(kg),this._events=new Te,this.errorHandler=this.options.errorHandler||VV,this.navigated=!1,this.routeReuseStrategy=D(OV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Og,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Mg,{optional:!0}),this.eventsSubscription=new Pe,this.isNgZoneEnabled=D(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Lr&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fr)this.navigated=!0;else if(i instanceof Ma){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||xV(s.source)};this.scheduleNavigation(a,Da,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}$V(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=E({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=X0(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return eb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ro(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Da,null,i)}navigate(r,i={skipLocationChange:!1}){return BV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=E({},UV):i===!1?s=E({},jV):s=i,ro(r))return V0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return V0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return LV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new v(4008,!1)}function $V(t){return!(t instanceof Ra)&&!(t instanceof Ma)}var yb=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:lD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(L(Fg),L(Vi),im("tabindex"),L(Si),L(Qn),L(Js))},e.\u0275dir=Ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Je("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&En("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Pi],skipLocationChange:[ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Pi],replaceUrl:[ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Pi],routerLink:"routerLink"},standalone:!0,features:[Sm,Kn]});let t=e;return t})();var HV=new F("");function vb(t,...e){return Hs([{provide:Og,multi:!0,useValue:t},[],{provide:Vi,useFactory:qV,deps:[Fg]},{provide:xm,multi:!0,useFactory:zV},e.map(n=>n.\u0275providers)])}function qV(t){return t.routerState.root}function zV(){let t=D(Ye);return e=>{let n=t.get(nr);if(e!==n.components[0])return;let r=t.get(Fg),i=t.get(GV);t.get(WV)===1&&r.initialNavigation(),t.get(KV,null,Q.Optional)?.setUpPreloading(),t.get(HV,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GV=new F("",{factory:()=>new Te}),WV=new F("",{providedIn:"root",factory:()=>1});var KV=new F("");var _b=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({imports:[sr]});let t=e;return t})();var wb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({imports:[sr]});let t=e;return t})();var Eb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({imports:[sr]});let t=e;return t})();var Ib=(()=>{let e=class e{constructor(){this.title="theraven-test-task"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-root"]],standalone:!0,features:[qe],decls:1,vars:0,template:function(i,s){i&1&&Re(0,"router-outlet")},dependencies:[sr,Rg,Eb,wb,_b]});let t=e;return t})();var ql=class{constructor(){this.items=[],this.totalPrice=0,this.totalCount=0}};var zl=class{constructor(e){this.foodItem=e,this.quantity=1,this.price=this.foodItem.price}};var W=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(W||{}),Dn="*";function Tb(t,e){return{type:W.Trigger,name:t,definitions:e,options:{}}}function Lg(t,e=null){return{type:W.Animate,styles:e,timings:t}}function Db(t,e=null){return{type:W.Sequence,steps:t,options:e}}function Ui(t){return{type:W.Style,styles:t,offset:null}}function Gl(t,e,n){return{type:W.State,name:t,styles:e,options:n}}function Vg(t,e,n=null){return{type:W.Transition,expr:t,animation:e,options:n}}var Ur=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},La=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Wl="!";var bb=["toast-component",""];function QV(t,e){if(t&1){let n=Ri();C(0,"button",5),Je("click",function(){Pr(n);let i=ye();return xr(i.remove())}),C(1,"span",6),j(2,"\xD7"),b()()}}function YV(t,e){if(t&1&&(ml(0),j(1),gl()),t&2){let n=ye(2);R(),wt("[",n.duplicatesCount+1,"]")}}function JV(t,e){if(t&1&&(C(0,"div"),j(1),Ae(2,YV,2,1,"ng-container",4),b()),t&2){let n=ye();er(n.options.titleClass),En("aria-label",n.title),R(),wt(" ",n.title," "),R(),z("ngIf",n.duplicatesCount)}}function ZV(t,e){if(t&1&&Re(0,"div",7),t&2){let n=ye();er(n.options.messageClass),z("innerHTML",n.message,dm)}}function XV(t,e){if(t&1&&(C(0,"div",8),j(1),b()),t&2){let n=ye();er(n.options.messageClass),En("aria-label",n.message),R(),wt(" ",n.message," ")}}function eU(t,e){if(t&1&&(C(0,"div"),Re(1,"div",9),b()),t&2){let n=ye();R(),Ai("width",n.width+"%")}}function tU(t,e){if(t&1){let n=Ri();C(0,"button",5),Je("click",function(){Pr(n);let i=ye();return xr(i.remove())}),C(1,"span",6),j(2,"\xD7"),b()()}}function nU(t,e){if(t&1&&(ml(0),j(1),gl()),t&2){let n=ye(2);R(),wt("[",n.duplicatesCount+1,"]")}}function rU(t,e){if(t&1&&(C(0,"div"),j(1),Ae(2,nU,2,1,"ng-container",4),b()),t&2){let n=ye();er(n.options.titleClass),En("aria-label",n.title),R(),wt(" ",n.title," "),R(),z("ngIf",n.duplicatesCount)}}function iU(t,e){if(t&1&&Re(0,"div",7),t&2){let n=ye();er(n.options.messageClass),z("innerHTML",n.message,dm)}}function sU(t,e){if(t&1&&(C(0,"div",8),j(1),b()),t&2){let n=ye();er(n.options.messageClass),En("aria-label",n.message),R(),wt(" ",n.message," ")}}function oU(t,e){if(t&1&&(C(0,"div"),Re(1,"div",9),b()),t&2){let n=ye();R(),Ai("width",n.width+"%")}}var Ug=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},jg=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Bg=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Te;_activate=new Te;_manualClose=new Te;_resetTimeout=new Te;_countDuplicate=new Te;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},oo=class{toastId;config;message;title;toastType;toastRef;_onTap=new Te;_onAction=new Te;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Cb={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Sb=new F("ToastConfig"),$g=class extends jg{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},aU=(()=>{class t{_document=D(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hg=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},cU=(()=>{class t{_overlayContainer=D(aU);_componentFactoryResolver=D(Ks);_appRef=D(nr);_document=D(Ze);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new $g(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Hg(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jr=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=E(E({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=E(E({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return E(E({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(Lt.HTML,r));let l=new Bg(c),d=new oo(this.index,s,u,i,n,l),h=[{provide:oo,useValue:d}],f=Ye.create({providers:h,parent:this._injector}),m=new Ug(s.toastComponent,f),g=c.attach(m,s.newestOnTop);l.componentInstance=g.instance;let y={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(r){return new(r||t)(P(Sb),P(cU),P(Ye),P(Km),P(ie))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uU=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=re(E({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=re(E({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=re(E({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(L(jr),L(oo),L(ie))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&Je("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Rm("@flyInOut",i.state),er(i.toastClasses),Ai("display",i.displayStyle))},standalone:!0,features:[qe],attrs:bb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Ae(0,QV,3,0,"button",0)(1,JV,3,5,"div",1)(2,ZV,1,3,"div",2)(3,XV,2,4,"div",3)(4,eU,2,2,"div",4),r&2&&(z("ngIf",i.options.closeButton),R(),z("ngIf",i.title),R(),z("ngIf",i.message&&i.options.enableHtml),R(),z("ngIf",i.message&&!i.options.enableHtml),R(),z("ngIf",i.options.progressBar))},dependencies:[Oi],encapsulation:2,data:{animation:[Tb("flyInOut",[Gl("inactive",Ui({opacity:0})),Gl("active",Ui({opacity:1})),Gl("removed",Ui({opacity:0})),Vg("inactive => active",Lg("{{ easeTime }}ms {{ easing }}")),Vg("active => removed",Lg("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),lU=re(E({},Cb),{toastComponent:uU}),Ab=(t={})=>Hs([{provide:Sb,useValue:{default:lU,config:t}}]);var dU=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(L(jr),L(oo),L(nr))};static \u0275cmp=He({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&Je("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(er(i.toastClasses),Ai("display",i.displayStyle))},standalone:!0,features:[qe],attrs:bb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Ae(0,tU,3,0,"button",0)(1,rU,3,5,"div",1)(2,iU,1,3,"div",2)(3,sU,2,4,"div",3)(4,oU,2,2,"div",4),r&2&&(z("ngIf",i.options.closeButton),R(),z("ngIf",i.title),R(),z("ngIf",i.message&&i.options.enableHtml),R(),z("ngIf",i.message&&!i.options.enableHtml),R(),z("ngIf",i.options.progressBar))},dependencies:[Oi],encapsulation:2})}return t})(),r7=re(E({},Cb),{toastComponent:dU});var ao=(()=>{let e=class e{constructor(r){this.toastr=r,this.cart=this.getCartFromLocalStorage(),this.cartSubject=new je(this.cart)}addToCart(r){if(this.cart.items.find(s=>s.foodItem.id===r.id)){this.toastr.info("Already Added");return}else this.cart.items.push(new zl(r)),this.toastr.success("Added to cart"),this.setCartToLocalStorage()}removeFromCart(r){this.cart.items=this.cart.items.filter(i=>i.foodItem.id!=r),this.setCartToLocalStorage()}changeQuantity(r,i){let s=this.cart.items.find(o=>o.foodItem.id===r);if(s)s.quantity=i,s.price=i*s.foodItem.price;else return;this.setCartToLocalStorage()}getCartObservable(){return this.cartSubject.asObservable()}setCartToLocalStorage(){this.cart.totalPrice=this.cart.items.reduce((i,s)=>i+s.price,0),this.cart.totalCount=this.cart.items.reduce((i,s)=>i+s.quantity,0);let r=JSON.stringify(this.cart);localStorage.setItem("Cart",r),this.cartSubject.next(this.cart)}getCartFromLocalStorage(){let r=localStorage.getItem("Cart");return r?JSON.parse(r):new ql}};e.\u0275fac=function(i){return new(i||e)(P(jr))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hU(t,e){if(t&1&&(C(0,"span"),j(1),b()),t&2){let n=ye();R(),tr(n.cartQuantity)}}var Kl=(()=>{let e=class e{constructor(r){this.cartQuantity=0,r.getCartObservable().subscribe(i=>{this.cartQuantity=i.totalCount})}};e.\u0275fac=function(i){return new(i||e)(L(ao))},e.\u0275cmp=He({type:e,selectors:[["app-header"]],standalone:!0,features:[qe],decls:10,vars:1,consts:[[1,"container"],["href","/",1,"logo"],[1,"navbar"],[1,"navbar-list"],["routerLink","/cart-page","routerLinkActive","active"],[4,"ngIf"]],template:function(i,s){i&1&&(C(0,"header")(1,"div",0)(2,"a",1),j(3,"Menu"),b(),C(4,"nav",2)(5,"ul",3)(6,"li")(7,"a",4),j(8," Cart "),Ae(9,hU,2,1,"span",5),b()()()()()()),i&2&&(R(9),z("ngIf",s.cartQuantity))},dependencies:[yb,Oi],styles:["header[_ngcontent-%COMP%]{position:relative;background:#fff;padding:0;border-bottom:1px solid #e72929}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;color:#af1313}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#e72929;color:#fff;cursor:pointer}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;padding:10px}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ff4d4d;color:#fff;padding:5px 8px;border-radius:50%;font-size:14px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-between}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style-type:none;margin:0}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;display:inline-block}"]});let t=e;return t})();function fU(t,e){t&1&&(C(0,"div",1)(1,"h3"),j(2,"Cart is emty!"),b()())}function pU(t,e){if(t&1){let n=Ri();C(0,"li",4)(1,"div",5),Re(2,"img",6),b(),C(3,"div",7)(4,"h3"),j(5),b()(),C(6,"div",8)(7,"button",9),Je("click",function(){let i=Pr(n).$implicit,s=ye(2);return xr(s.decreaseQuantity(i))}),j(8,"-"),b(),C(9,"span",10),j(10),b(),C(11,"button",9),Je("click",function(){let i=Pr(n).$implicit,s=ye(2);return xr(s.increaseQuantity(i))}),j(12,"+"),b()(),C(13,"div",11),j(14),fa(15,"currency"),b()()}if(t&2){let n=e.$implicit;R(2),z("src",n.foodItem.imageUrl,ua)("alt",n.foodItem.name),R(3),tr(n.foodItem.name),R(5),tr(n.quantity),R(4),wt(" ",Pm(15,5,n.price)," ")}}function mU(t,e){if(t&1&&(Ae(0,pU,16,7,"li",2),C(1,"div",3),j(2),fa(3,"currency"),b()),t&2){let n=ye();z("ngForOf",n.orderList.items),R(2),tr(Pm(3,2,n.orderList.totalPrice))}}var Rb=(()=>{let e=class e{constructor(r,i){this.cartService=r,this.toastr=i,this.cartService.getCartObservable().subscribe(s=>{this.orderList=s})}removeFromCart(r){this.cartService.removeFromCart(r.foodItem.id),this.toastr.info("Removed from cart")}increaseQuantity(r){r.quantity++,this.cartService.changeQuantity(r.foodItem.id,r.quantity)}decreaseQuantity(r){r.quantity>1?(r.quantity--,this.cartService.changeQuantity(r.foodItem.id,r.quantity)):this.removeFromCart(r)}};e.\u0275fac=function(i){return new(i||e)(L(ao),L(jr))},e.\u0275cmp=He({type:e,selectors:[["app-cart-list"]],standalone:!0,features:[qe],decls:3,vars:1,consts:[[1,"list"],[1,"content"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-price"],[1,"list-item"],[1,"list-item__img"],[3,"src","alt"],[1,"list-item__title"],[1,"list-item__counter"],[1,"btn",3,"click"],[1,"value"],[1,"list-item__price"]],template:function(i,s){i&1&&(C(0,"ul",0),Ae(1,fU,3,0,"div",1)(2,mU,4,4),b()),i&2&&(R(),XD(1,s.orderList.items.length===0?1:2))},dependencies:[Dl,Tl],styles:['.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:3 0;justify-content:space-evenly;border:1px solid #e72929;border-radius:16px;list-style:none;margin:8px;padding:0}.list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;border-bottom:1px solid #e4e4e4}.list-item[_ngcontent-%COMP%]:last-child{bottom:none}.list-item__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50px;object-fit:cover}.list-item__counter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100px}.list-item__counter[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:24px;padding:5px 10px;border:none;background-color:#fff;color:#000;cursor:pointer}.list-item__counter[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:4px;font-size:16px;font-weight:700}.list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:16px}.list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){flex-basis:20%}.list[_ngcontent-%COMP%]   .list-price[_ngcontent-%COMP%]{padding:16px;font-size:20px}.list[_ngcontent-%COMP%]   .list-price[_ngcontent-%COMP%]:before{content:"Total: ";color:gray}']});let t=e;return t})();var Vb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(L(Si),L(Qn))},e.\u0275dir=Ke({type:e});let t=e;return t})(),gU=(()=>{let e=class e extends Vb{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ws(e)))(s||e)}})(),e.\u0275dir=Ke({type:e,features:[Xn]});let t=e;return t})(),Ub=new F("");var yU={provide:Ub,useExisting:Ti(()=>id),multi:!0};function vU(){let t=ir()?ir().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _U=new F(""),id=(()=>{let e=class e extends Vb{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vU())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(L(Si),L(Qn),L(_U,8))},e.\u0275dir=Ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Je("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ha([yU]),Xn]});let t=e;return t})();function Br(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function jb(t){return t!=null&&typeof t.length=="number"}var Qg=new F(""),Bb=new F(""),wU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Et=class{static min(e){return EU(e)}static max(e){return IU(e)}static required(e){return $b(e)}static requiredTrue(e){return TU(e)}static email(e){return DU(e)}static minLength(e){return bU(e)}static maxLength(e){return CU(e)}static pattern(e){return SU(e)}static nullValidator(e){return Jl(e)}static compose(e){return Kb(e)}static composeAsync(e){return Yb(e)}};function EU(t){return e=>{if(Br(e.value)||Br(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function IU(t){return e=>{if(Br(e.value)||Br(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function $b(t){return Br(t.value)?{required:!0}:null}function TU(t){return t.value===!0?null:{required:!0}}function DU(t){return Br(t.value)||wU.test(t.value)?null:{email:!0}}function bU(t){return e=>Br(e.value)||!jb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function CU(t){return e=>jb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function SU(t){if(!t)return Jl;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Br(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Jl(t){return null}function Hb(t){return t!=null}function qb(t){return Ni(t)?xe(t):t}function zb(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function Gb(t,e){return e.map(n=>n(t))}function AU(t){return!t.validate}function Wb(t){return t.map(e=>AU(e)?e:n=>e.validate(n))}function Kb(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){return zb(Gb(n,e))}}function Qb(t){return t!=null?Kb(Wb(t)):null}function Yb(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){let r=Gb(n,e).map(qb);return bf(r).pipe(ee(zb))}}function Jb(t){return t!=null?Yb(Wb(t)):null}function Mb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zb(t){return t._rawValidators}function Xb(t){return t._rawAsyncValidators}function Gg(t){return t?Array.isArray(t)?t:[t]:[]}function Zl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Nb(t,e){let n=Gg(e);return Gg(t).forEach(i=>{Zl(n,i)||n.push(i)}),n}function Pb(t,e){return Gg(e).filter(n=>!Zl(t,n))}var Xl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},uo=class extends Xl{get formDirective(){return null}get path(){return null}},ja=class extends Xl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ed=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},RU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},R7=re(E({},RU),{"[class.ng-submitted]":"isSubmitted"}),eC=(()=>{let e=class e extends ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(ja,2))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&pl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Xn]});let t=e;return t})(),tC=(()=>{let e=class e extends ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(uo,10))},e.\u0275dir=Ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&pl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Xn]});let t=e;return t})();var Va="VALID",Ql="INVALID",co="PENDING",Ua="DISABLED";function Yg(t){return(sd(t)?t.validators:t)||null}function MU(t){return Array.isArray(t)?Qb(t):t||null}function Jg(t,e){return(sd(e)?e.asyncValidators:t)||null}function NU(t){return Array.isArray(t)?Jb(t):t||null}function sd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new v(1e3,"");if(!r[n])throw new v(1001,"")}function rC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new v(1002,"")})}var lo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===Ql}get pending(){return this.status==co}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Nb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pb(e,this._rawAsyncValidators))}hasValidator(e){return Zl(this._rawValidators,e)}hasAsyncValidator(e){return Zl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=co,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(r=>{r.disable(re(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(re(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===co)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=co,this._hasOwnPendingAsyncValidator=!0;let n=qb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?Ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(co)?co:this._anyControlsHaveStatus(Ql)?Ql:Va}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=MU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=NU(this._rawAsyncValidators)}},td=class extends lo{constructor(e,n,r){super(Yg(n),Jg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rC(this,!0,e),Object.keys(e).forEach(r=>{nC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wg=class extends td{};var Zg=new F("CallSetDisabledState",{providedIn:"root",factory:()=>od}),od="always";function PU(t,e){return[...e.path,t]}function xb(t,e,n=od){Xg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OU(t,e),FU(t,e),kU(t,e),xU(t,e)}function Ob(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Xg(t,e){let n=Zb(t);e.validator!==null?t.setValidators(Mb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xb(t);e.asyncValidator!==null?t.setAsyncValidators(Mb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nd(e._rawValidators,i),nd(e._rawAsyncValidators,i)}function rd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Zb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=Xb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return nd(e._rawValidators,r),nd(e._rawAsyncValidators,r),n}function OU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iC(t,e)})}function kU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function iC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function FU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function LU(t,e){t==null,Xg(t,e)}function VU(t,e){return rd(t,e)}function UU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function jU(t){return Object.getPrototypeOf(t.constructor)===gU}function BU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $U(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===id?n=s:jU(s)?r=s:i=s}),i||r||n||null}function HU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yl=class extends lo{constructor(e=null,n,r){super(Yg(n),Jg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Fb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Fb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qU=t=>t instanceof Yl;var sC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var oC=new F("");var zU={provide:uo,useExisting:Ti(()=>ey)},ey=(()=>{let e=class e extends uo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return xb(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Ob(r.control||null,r,!1),HU(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,BU(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Ob(i||null,r),qU(s)&&(xb(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);LU(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&VU(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xg(this.form,this),this._oldForm&&rd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(L(Qg,10),L(Bb,10),L(Zg,8))},e.\u0275dir=Ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Je("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ut.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([zU]),Xn,Kn]});let t=e;return t})();var GU={provide:ja,useExisting:Ti(()=>ty)},ty=(()=>{let e=class e extends ja{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=$U(this,o)}ngOnChanges(r){this._added||this._setUpControl(),UU(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return PU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(L(uo,13),L(Qg,10),L(Bb,10),L(Ub,10),L(oC,8))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""]],inputs:{name:[ut.None,"formControlName","name"],isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ha([GU]),Xn,Kn]});let t=e;return t})();var WU=(()=>{let e=class e{constructor(){this._validator=Jl}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jl,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,features:[Kn]});let t=e;return t})();var KU={provide:Qg,useExisting:Ti(()=>ny),multi:!0};var ny=(()=>{let e=class e extends WU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Pi,this.createValidator=r=>$b}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ws(e)))(s||e)}})(),e.\u0275dir=Ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&En("required",s._enabled?"":null)},inputs:{required:"required"},features:[ha([KU]),Xn]});let t=e;return t})();var aC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({});let t=e;return t})(),Kg=class extends lo{constructor(e,n,r){super(Yg(n),Jg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){rC(this,!1,e),e.forEach((r,i)=>{nC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Lb(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cC=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return Lb(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new td(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Wg(s,i)}control(r,i,s){let o={};return this.useNonNullable?(Lb(i)?o=i:(o.validators=i,o.asyncValidators=s),new Yl(r,re(E({},o),{nonNullable:!0}))):new Yl(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Kg(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Yl)return r;if(r instanceof lo)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zg,useValue:r.callSetDisabledState??od}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({imports:[aC]});let t=e;return t})(),lC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:oC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zg,useValue:r.callSetDisabledState??od}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=De({imports:[aC]});let t=e;return t})();var hC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new iy;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JU=function(t){let e=hC(t);return fC.encodeByteArray(e,!0)},Ba=function(t){return JU(t).replace(/\./g,"")},oy=function(t){try{return fC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XU=()=>ZU().__FIREBASE_DEFAULTS__,ej=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&oy(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return XU()||ej()||tj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ay=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ud=t=>{let e=ay(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cy=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},uy=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};var ad=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ld(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ba(JSON.stringify(n)),Ba(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function nj(){var t;let e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vC(){return!nj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var rj="FirebaseError",It=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}},or=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ij(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new It(i,a,r)}};function ij(t,e){return t.replace(sj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sj=/\{\$([^}]+)}/g;function wC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(dC(s)&&dC(o)){if(!ji(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dC(t){return t!==null&&typeof t=="object"}function $a(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EC(t,e){let n=new sy(t,e);return n.subscribe.bind(n)}var sy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ry),i.error===void 0&&(i.error=ry),i.complete===void 0&&(i.complete=ry);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ry(){}var P7=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var Mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bi="[DEFAULT]";var dy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ad;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cj(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aj(t){return t===Bi?void 0:t}function cj(t){return t.instantiationMode==="EAGER"}var dd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uj=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),lj={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},dj=te.INFO,hj={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},fj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$r=class{constructor(e){this.name=e,this._logLevel=dj,this._logHandler=fj,this._userLogHandler=null,uj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var pj=(t,e)=>e.some(n=>t instanceof n),IC,TC;function mj(){return IC||(IC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return TC||(TC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DC=new WeakMap,fy=new WeakMap,bC=new WeakMap,hy=new WeakMap,my=new WeakMap;function yj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),my.set(e,t),e}function vj(t){if(fy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fy.set(t,e)}var py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CC(t){py=t(py)}function _j(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hd(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),bn(r)}:gj().includes(t)?function(...e){return t.apply(hd(this),e),bn(DC.get(this))}:function(...e){return bn(t.apply(hd(this),e))}}function wj(t){return typeof t=="function"?_j(t):(t instanceof IDBTransaction&&vj(t),pj(t,mj())?new Proxy(t,py):t)}function bn(t){if(t instanceof IDBRequest)return yj(t);if(hy.has(t))return hy.get(t);let e=wj(t);return e!==t&&(hy.set(t,e),my.set(e,t)),e}var hd=t=>my.get(t);function AC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=bn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bn(o.result),c.oldVersion,c.newVersion,bn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Ej=["get","getKey","getAll","getAllKeys","count"],Ij=["put","add","delete","clear"],gy=new Map;function SC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gy.get(e))return gy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Ij.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ej.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return gy.set(e,s),s}CC(t=>re(E({},t),{get:(e,n,r)=>SC(e,n)||t.get(e,n,r),has:(e,n)=>!!SC(e,n)||t.has(e,n)}));var vy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Tj(t){let e=t.getComponent();return e?.type==="VERSION"}var _y="@firebase/app",RC="0.10.2";var $i=new $r("@firebase/app"),Dj="@firebase/app-compat",bj="@firebase/analytics-compat",Cj="@firebase/analytics",Sj="@firebase/app-check-compat",Aj="@firebase/app-check",Rj="@firebase/auth",Mj="@firebase/auth-compat",Nj="@firebase/database",Pj="@firebase/database-compat",xj="@firebase/functions",Oj="@firebase/functions-compat",kj="@firebase/installations",Fj="@firebase/installations-compat",Lj="@firebase/messaging",Vj="@firebase/messaging-compat",Uj="@firebase/performance",jj="@firebase/performance-compat",Bj="@firebase/remote-config",$j="@firebase/remote-config-compat",Hj="@firebase/storage",qj="@firebase/storage-compat",zj="@firebase/firestore",Gj="@firebase/firestore-compat",Wj="firebase",Kj="10.11.1";var wy="[DEFAULT]",Qj={[_y]:"fire-core",[Dj]:"fire-core-compat",[Cj]:"fire-analytics",[bj]:"fire-analytics-compat",[Aj]:"fire-app-check",[Sj]:"fire-app-check-compat",[Rj]:"fire-auth",[Mj]:"fire-auth-compat",[Nj]:"fire-rtdb",[Pj]:"fire-rtdb-compat",[xj]:"fire-fn",[Oj]:"fire-fn-compat",[kj]:"fire-iid",[Fj]:"fire-iid-compat",[Lj]:"fire-fcm",[Vj]:"fire-fcm-compat",[Uj]:"fire-perf",[jj]:"fire-perf-compat",[Bj]:"fire-rc",[$j]:"fire-rc-compat",[Hj]:"fire-gcs",[qj]:"fire-gcs-compat",[zj]:"fire-fst",[Gj]:"fire-fst-compat","fire-js":"fire-js",[Wj]:"fire-js-all"};var Ha=new Map,Yj=new Map,Ey=new Map;function MC(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){let e=t.name;if(Ey.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,t);for(let n of Ha.values())MC(n,t);for(let n of Yj.values())MC(n,t);return!0}function Hi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t.settings!==void 0}var Jj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new or("app","Firebase",Jj);var Iy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var Sn=Kj;function by(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=cy()),!n)throw Hr.create("no-options");let s=Ha.get(i);if(s){if(ji(n,s.options)&&ji(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}let o=new dd(i);for(let c of Ey.values())o.addComponent(c);let a=new Iy(n,r,o);return Ha.set(i,a),a}function qr(t=wy){let e=Ha.get(t);if(!e&&t===wy&&cy())return by();if(!e)throw Hr.create("no-app",{appName:t});return e}function fd(){return Array.from(Ha.values())}function Ce(t,e,n){var r;let i=(r=Qj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(a.join(" "));return}Cn(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zj="firebase-heartbeat-database",Xj=1,qa="firebase-heartbeat-store",yy=null;function OC(){return yy||(yy=AC(Zj,Xj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),yy}function e2(t){return p(this,null,function*(){try{let n=(yield OC()).transaction(qa),r=yield n.objectStore(qa).get(kC(t));return yield n.done,r}catch(e){if(e instanceof It)$i.warn(e.message);else{let n=Hr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}})}function NC(t,e){return p(this,null,function*(){try{let r=(yield OC()).transaction(qa,"readwrite");yield r.objectStore(qa).put(e,kC(t)),yield r.done}catch(n){if(n instanceof It)$i.warn(n.message);else{let r=Hr.create("idb-set",{originalErrorMessage:n?.message});$i.warn(r.message)}}})}function kC(t){return`${t.name}!${t.options.appId}`}var t2=1024,n2=30*24*60*60*1e3,Ty=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Dy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=n2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PC(),{heartbeatsToSend:r,unsentEntries:i}=r2(this._heartbeatsCache.heartbeats),s=Ba(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function PC(){return new Date().toISOString().substring(0,10)}function r2(t,e=t2){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return ly()?_C().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield e2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xC(t){return Ba(JSON.stringify({version:2,heartbeats:t})).length}function i2(t){Cn(new Mt("platform-logger",e=>new vy(e),"PRIVATE")),Cn(new Mt("heartbeat",e=>new Ty(e),"PRIVATE")),Ce(_y,RC,t),Ce(_y,RC,"esm2017"),Ce("fire-js","")}i2("");var s2="firebase",o2="10.11.1";Ce(s2,o2,"app");var cr=new Gn("ANGULARFIRE2_VERSION");function fo(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zi=(t,e)=>{let n=e?[e]:fd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},zr=class{constructor(){return zi(a2)}},a2="app-check";function ho(){}var pd=class{zone;delegate;constructor(e,n=Ef){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Cy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho)),n.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pd(Zone.current)),this.insideAngular=n.run(()=>new pd(Zone.current,wf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(P(ie))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function md(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function c2(t){return md().ngZone.runOutsideAngular(()=>t())}function qi(t){return md().ngZone.run(()=>t())}function u2(t){return l2(md())(t)}function l2(t){return function(n){return n=n.lift(new Cy(t.ngZone)),n.pipe(Dr(t.outsideAngular),Tr(t.insideAngular))}}var d2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qi(()=>t.apply(void 0,r))},An=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=qi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho))),r[s]=d2(r[s],n));let i=c2(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=md();return i.pipe(Dr(s.outsideAngular),Tr(s.insideAngular))}else return qi(()=>i);return i instanceof oe?i.pipe(u2):i instanceof Promise?qi(()=>new Promise((s,o)=>i.then(a=>qi(()=>s(a)),a=>qi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:qi(()=>i)};var un=class{constructor(e){return e}},ur=class{constructor(){return fd()}};function h2(t){return t&&t.length===1?t[0]:new un(qr())}var Sy=new F("angularfire2._apps"),f2={provide:un,useFactory:h2,deps:[[new Fe,Sy]]},p2={provide:ur,deps:[[new Fe,Sy]]};function m2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new un(r)}}var g2=(()=>{class t{constructor(n){Ce("angularfire",cr.full,"core"),Ce("angularfire",cr.full,"app"),Ce("angular",o0.full,n.toString())}static \u0275fac=function(r){return new(r||t)(P(Or))};static \u0275mod=be({type:t});static \u0275inj=De({providers:[f2,p2]})}return t})();function FC(t,...e){return{ngModule:g2,providers:[{provide:Sy,useFactory:m2(t),multi:!0,deps:[ie,Ye,Gr,...e]}]}}var LC=An(by,!0);function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XC=ZC,eS=new or("auth","Firebase",ZC());var Ed=new $r("@firebase/auth");function y2(t,...e){Ed.logLevel<=te.WARN&&Ed.warn(`Auth (${Sn}): ${t}`,...e)}function yd(t,...e){Ed.logLevel<=te.ERROR&&Ed.error(`Auth (${Sn}): ${t}`,...e)}function Kr(t,...e){throw Wy(t,...e)}function Wi(t,...e){return Wy(t,...e)}function tS(t,e,n){let r=Object.assign(Object.assign({},XC()),{[e]:n});return new or("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return tS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eS.create(t,...e)}function $(t,e,...n){if(!t)throw Wy(e,...n)}function lr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function Qr(t,e){t||lr(e)}function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v2(){return VC()==="http:"||VC()==="https:"}function VC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v2()||mC()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ki=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=pC()||gC()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ky(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Id=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I2=new Ki(3e4,6e4);function Qy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function mo(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return nS(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=$a(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Id.fetch()(rS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function nS(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},E2),e);try{let i=new Py(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gd(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tS(t,l,u);Kr(t,l)}}catch(i){if(i instanceof It)throw i;Kr(t,"network-request-failed",{message:String(i)})}})}function T2(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield mo(t,e,n,r,i);return"mfaPendingCredential"in u&&Kr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function rS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ky(t.config,i):`${t.config.apiScheme}://${i}`}var Py=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),I2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Wi(t,e,r);return i.customData._tokenResponse=n,i}function D2(t,e){return p(this,null,function*(){return mo(t,"POST","/v1/accounts:delete",e)})}function iS(t,e){return p(this,null,function*(){return mo(t,"POST","/v1/accounts:lookup",e)})}function za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yy(t,e=!1){return p(this,null,function*(){let n=Tt(t),r=yield n.getIdToken(e),i=Jy(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:za(Ay(i.auth_time)),issuedAtTime:za(Ay(i.iat)),expirationTime:za(Ay(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ay(t){return Number(t)*1e3}function Jy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{let i=oy(n);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UC(t){let e=Jy(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wa(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof It&&b2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function b2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ka=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Td(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wa(t,iS(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sS(s.providerUserInfo):[],a=C2(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ka(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Zy(t){return p(this,null,function*(){let e=Tt(t);yield Td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sS(t){return t.map(e=>{var{providerId:n}=e,r=If(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S2(t,e){return p(this,null,function*(){let n=yield nS(t,{},()=>p(this,null,function*(){let r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Id.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function A2(t,e){return p(this,null,function*(){return mo(t,"POST","/v2/accounts:revokeToken",Qy(t,e))})}var Ga=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=UC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield S2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return lr("not implemented")}};function Wr(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var po=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=If(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ka(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Wa(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Yy(this,e)}reload(){return Zy(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Td(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ar(this.auth.app))return Promise.reject(Gi(this.auth));let e=yield this.getIdToken();return yield Wa(this,D2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:O,emailVerified:N,isAnonymous:me,providerData:se,stsTokenManager:he}=n;$(O&&he,e,"internal-error");let _e=Ga.fromJSON(this.name,he);$(typeof O=="string",e,"internal-error"),Wr(d,e.name),Wr(h,e.name),$(typeof N=="boolean",e,"internal-error"),$(typeof me=="boolean",e,"internal-error"),Wr(f,e.name),Wr(m,e.name),Wr(g,e.name),Wr(y,e.name),Wr(I,e.name),Wr(x,e.name);let gt=new t({uid:O,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:me,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:_e,createdAt:I,lastLoginAt:x});return se&&Array.isArray(se)&&(gt.providerData=se.map(Nt=>Object.assign({},Nt))),y&&(gt._redirectEventId=y),gt}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Ga;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Td(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?sS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ga;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var jC=new Map;function dr(t){Qr(t instanceof Function,"Expected a class definition");let e=jC.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jC.set(t,e),e)}var R2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Oy=R2;function vd(t,e,n){return`firebase:${t}:${e}:${n}`}var Dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=vd(this.userKey,i.apiKey,s),this.fullPersistenceKey=vd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?po._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(dr(Oy),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||dr(Oy),o=vd(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=po._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function BC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(dS(e))return"Webos";if(Xy(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function oS(t=ze()){return/firefox\//i.test(t)}function Xy(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(t=ze()){return/crios\//i.test(t)}function cS(t=ze()){return/iemobile/i.test(t)}function uS(t=ze()){return/android/i.test(t)}function lS(t=ze()){return/blackberry/i.test(t)}function dS(t=ze()){return/webos/i.test(t)}function Pd(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M2(t=ze()){var e;return Pd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N2(){return yC()&&document.documentMode===10}function hS(t=ze()){return Pd(t)||uS(t)||dS(t)||lS(t)||/windows phone/i.test(t)||cS(t)}function P2(){try{return!!(window&&window!==window.top)}catch{return!1}}function fS(t,e=[]){let n;switch(t){case"Browser":n=BC(ze());break;case"Worker":n=`${BC(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sn}/${r}`}var ky=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function x2(n){return p(this,arguments,function*(t,e={}){return mo(t,"GET","/v2/passwordPolicy",Qy(t,e))})}var O2=6,Fy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ly=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bd(this),this.idTokenSubscription=new bd(this),this.beforeStateQueue=new ky(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Dd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield iS(this,{idToken:e}),r=yield po._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(ar(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w2()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(ar(this.app))return Promise.reject(Gi(this));let n=e?Tt(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ar(this.app)?Promise.reject(Gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ar(this.app)?Promise.reject(Gi(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield x2(this),n=new Fy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield A2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&dr(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield Dd.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&y2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ev(t){return Tt(t)}var bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tv={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(t){tv=t}function F2(t){return tv.loadJS(t)}function L2(){return tv.gapiScript}function pS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function nv(t,e){let n=Hi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ji(s,e??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:e})}function V2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rv(t,e,n){let r=ev(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=mS(e),{host:o,port:a}=U2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j2()}function mS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U2(t){let e=mS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:$C(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:$C(o)}}}function $C(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Cd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function Ry(t,e){return p(this,null,function*(){return T2(t,"POST","/v1/accounts:signInWithIdp",Qy(t,e))})}var Sd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vy=class extends Sd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield po._fromIdTokenResponse(e,r,i),o=HC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Uy=class t extends It{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function gS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uy._fromErrorAndOperation(t,s,e,r):s})}function B2(t,e,n=!1){return p(this,null,function*(){let r=yield Wa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Qa._forOperation(t,"link",r)})}function $2(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(ar(r.app))return Promise.reject(Gi(r));let i="reauthenticate";try{let s=yield Wa(t,gS(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=Jy(s.idToken);$(o,r,"internal-error");let{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),Qa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Kr(r,"user-mismatch"),s}})}function H2(t,e,n=!1){return p(this,null,function*(){if(ar(t.app))return Promise.reject(Gi(t));let r="signIn",i=yield gS(t,r,e),s=yield Qa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function iv(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function sv(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}var Ad="__sak";var Rd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function q2(){let t=ze();return Xy(t)||Pd(t)}var z2=1e3,G2=10,W2=(()=>{class t extends Rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=q2()&&P2(),this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);N2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,G2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yS=W2;var K2=(()=>{class t extends Rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ov=K2;function Q2(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Y2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield Q2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function vS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=vS("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Rn(){return window}function J2(t){Rn().location.href=t}function _S(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function Z2(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function X2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eB(){return _S()?self:null}var wS="firebaseLocalStorageDb",tB=1,Md="firebaseLocalStorage",ES="fbase_key",Qi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function xd(t,e){return t.transaction([Md],e?"readwrite":"readonly").objectStore(Md)}function nB(){let t=indexedDB.deleteDatabase(wS);return new Qi(t).toPromise()}function By(){let t=indexedDB.open(wS,tB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Md,{keyPath:ES})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Md)?e(r):(r.close(),yield nB(),e(yield By()))}))})}function qC(t,e,n){return p(this,null,function*(){let r=xd(t,!0).put({[ES]:e,value:n});return new Qi(r).toPromise()})}function rB(t,e){return p(this,null,function*(){let n=xd(t,!1).get(e),r=yield new Qi(n).toPromise();return r===void 0?null:r.value})}function zC(t,e){let n=xd(t,!0).delete(e);return new Qi(n).toPromise()}var iB=800,sB=3,oB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield By(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>sB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return _S()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=Y2._getInstance(eB()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Z2(),!this.activeServiceWorker)return;this.sender=new jy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield By();return yield qC(n,Ad,"1"),yield zC(n,Ad),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>qC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>rB(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>zC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=xd(s,!1).getAll();return new Qi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),iB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IS=oB;var bY=pS("rcb"),CY=new Ki(3e4,6e4);function aB(t,e){return e?dr(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ya=class extends Cd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ry(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ry(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ry(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cB(t){return H2(t.auth,new Ya(t),t.bypassAuthState)}function uB(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),$2(n,new Ya(t),t.bypassAuthState)}function lB(t){return p(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),B2(n,new Ya(t),t.bypassAuthState)})}var $y=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cB;case"linkViaPopup":case"linkViaRedirect":return lB;case"reauthViaPopup":case"reauthViaRedirect":return uB;default:Kr(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var SY=new Ki(2e3,1e4);var dB="pendingRedirect",_d=new Map,Hy=class t extends $y{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=_d.get(this.auth._key());if(!e){try{let r=(yield hB(this.resolver,this.auth))?yield Er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function hB(t,e){return p(this,null,function*(){let n=mB(e),r=pB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function fB(t,e){_d.set(t._key(),e)}function pB(t){return dr(t._redirectPersistence)}function mB(t){return vd(dB,t.config.apiKey,t.name)}function gB(t,e,n=!1){return p(this,null,function*(){if(ar(t.app))return Promise.reject(Gi(t));let r=ev(t),i=aB(r,e),o=yield new Hy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var yB=10*60*1e3,qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yB&&this.cachedEventUids.clear(),this.cachedEventUids.has(GC(e))}saveEventToCache(e){this.cachedEventUids.add(GC(e)),this.lastProcessedEventTime=Date.now()}};function GC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(t);default:return!1}}function _B(n){return p(this,arguments,function*(t,e={}){return mo(t,"GET","/v1/projects",e)})}var wB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EB=/^https?/;function IB(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _B(t);for(let n of e)try{if(TB(n))return}catch{}Kr(t,"unauthorized-domain")})}function TB(t){let e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!EB.test(n))return!1;if(wB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var DB=new Ki(3e4,6e4);function WC(){let t=Rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bB(t){return new Promise((e,n)=>{var r,i,s;function o(){WC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WC(),n(Wi(t,"network-request-failed"))},timeout:DB.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rn().gapi)===null||s===void 0)&&s.load)o();else{let a=pS("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(Wi(t,"network-request-failed"))},F2(`${L2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw wd=null,e})}var wd=null;function CB(t){return wd=wd||bB(t),wd}var SB=new Ki(5e3,15e3),AB="__/auth/iframe",RB="emulator/auth/iframe",MB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PB(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ky(e,RB):`https://${t.config.authDomain}/${AB}`,r={apiKey:e.apiKey,appName:t.name,v:Sn},i=NB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$a(r).slice(1)}`}function xB(t){return p(this,null,function*(){let e=yield CB(t),n=Rn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:PB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MB,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Wi(t,"network-request-failed"),a=Rn().setTimeout(()=>{s(o)},SB.get());function c(){Rn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var OB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,FB=600,LB="_blank",VB="http://localhost",Nd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function UB(t,e,n,r=kB,i=FB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},OB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ze().toLowerCase();n&&(a=aS(u)?LB:n),oS(u)&&(e=e||VB,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(M2(u)&&a!=="_self")return jB(e||"",a),new Nd(null);let d=window.open(e||"",a,l);$(d,t,"popup-blocked");try{d.focus()}catch{}return new Nd(d)}function jB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var BB="__/auth/handler",$B="emulator/auth/handler",HB=encodeURIComponent("fac");function KC(t,e,n,r,i,s){return p(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(e instanceof Sd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Vy){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${HB}=${encodeURIComponent(c)}`:"";return`${qB(t)}?${$a(a).slice(1)}${u}`})}function qB({config:t}){return t.emulator?Ky(t,$B):`https://${t.authDomain}/${BB}`}var My="webStorageSupport",zy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ov,this._completeRedirectFn=gB,this._overrideRedirectResult=fB}_openPopup(e,n,r,i){return p(this,null,function*(){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield KC(e,n,r,Ny(),i);return UB(e,o,vS())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield KC(e,n,r,Ny(),i);return J2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield xB(e),r=new qy(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(My,{type:My},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[My];o!==void 0&&n(!!o),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||Xy()||Pd()}},DS=zy;var QC="@firebase/auth",YC="1.7.2";var Gy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GB(t){Cn(new Mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(t)},u=new Ly(r,i,s,c);return V2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new Mt("auth-internal",e=>{let n=ev(e.getProvider("auth").getImmediate());return(r=>new Gy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(QC,YC,zB(t)),Ce(QC,YC,"esm2017")}var WB=5*60,KB=uy("authIdTokenMaxAge")||WB,JC=null,QB=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KB)return;let i=n?.token;JC!==i&&(JC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function av(t=qr()){let e=Hi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=nv(t,{popupRedirectResolver:DS,persistence:[IS,yS,ov]}),r=uy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=QB(s.toString());sv(n,o,()=>o(n.currentUser)),iv(n,a=>o(a))}}let i=ay("auth");return i&&rv(n,`http://${i}`),n}function YB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GB("Browser");var bS="auth",Ja=class{constructor(e){return e}},Yi=class{constructor(){return zi(bS)}};var cv=new F("angularfire2.auth-instances");function q$(t,e){let n=fo(bS,t,e);return n&&new Ja(n)}function z$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ja(r)}}var G$={provide:Yi,deps:[[new Fe,cv]]},W$={provide:Ja,useFactory:q$,deps:[[new Fe,cv],un]},K$=(()=>{class t{constructor(){Ce("angularfire",cr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=be({type:t});static \u0275inj=De({providers:[W$,G$]})}return t})();function CS(t,...e){return{ngModule:K$,providers:[{provide:cv,useFactory:z$(t),multi:!0,deps:[ie,Ye,Gr,ur,[new Fe,zr],...e]}]}}var SS=An(av,!0);var Q$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={},T,Mv=Mv||{},H=Q$||self;function Wd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function dc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Y$(t){return Object.prototype.hasOwnProperty.call(t,uv)&&t[uv]||(t[uv]=++J$)}var uv="closure_uid_"+(1e9*Math.random()>>>0),J$=0;function Z$(t,e,n){return t.call.apply(t.bind,arguments)}function X$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=Z$:dt=X$,dt.apply(null,arguments)}function Od(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yr(){this.s=this.s,this.o=this.o}var eH=0;Yr.prototype.s=!1;Yr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eH!=0)&&Y$(this)};Yr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AS(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var tH=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};H.addEventListener("test",n,e),H.removeEventListener("test",n,e)}catch{}return t}();function rc(t){return/^[\s\xa0]*$/.test(t)}function Kd(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return Kd().indexOf(t)!=-1}function Pv(t){return Pv[" "](t),t}Pv[" "]=function(){};function nH(t,e){var n=qH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rH=Mn("Opera"),_o=Mn("Trident")||Mn("MSIE"),BS=Mn("Edge"),pv=BS||_o,$S=Mn("Gecko")&&!(Kd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),iH=Kd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function HS(){var t=H.document;return t?t.documentMode:void 0}var mv;e:{if(kd="",Fd=function(){var t=Kd();if($S)return/rv:([^\);]+)(\)|;)/.exec(t);if(BS)return/Edge\/([\d\.]+)/.exec(t);if(_o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iH)return/WebKit\/(\S+)/.exec(t);if(rH)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fd&&(kd=Fd?Fd[1]:""),_o&&(Ld=HS(),Ld!=null&&Ld>parseFloat(kd))){mv=String(Ld);break e}mv=kd}var kd,Fd,Ld,gv;H.document&&_o?(lv=HS(),gv=lv||parseInt(mv,10)||void 0):gv=void 0;var lv,sH=gv;function ic(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($S){e:{try{Pv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ic.$.h.call(this)}}et(ic,ht);var oH={2:"touch",3:"pen",4:"mouse"};ic.prototype.h=function(){ic.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),aH=0;function cH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++aH,this.fa=this.ia=!1}function Qd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function uH(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function qS(t){let e={};for(let n in t)e[n]=t[n];return e}var RS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<RS.length;s++)n=RS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yd(t){this.src=t,this.g={},this.h=0}Yd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new cH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function yv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ov="closure_lm_"+(1e6*Math.random()|0),dv={};function GS(t,e,n,r,i){if(r&&r.once)return KS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GS(t,e[s],n,r,i);return null}return n=Lv(n),t&&t[hc]?t.O(e,n,dc(r)?!!r.capture:!!r,i):WS(t,e,n,!1,r,i)}function WS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=dc(i)?!!i.capture:!!i,a=Fv(t);if(a||(t[Ov]=a=new Yd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=lH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(YS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lH(){function t(n){return e.call(t.src,t.listener,n)}let e=dH;return t}function KS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KS(t,e[s],n,r,i);return null}return n=Lv(n),t&&t[hc]?t.P(e,n,dc(r)?!!r.capture:!!r,i):WS(t,e,n,!0,r,i)}function QS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)QS(t,e[s],n,r,i);else r=dc(r)?!!r.capture:!!r,n=Lv(n),t&&t[hc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vv(s,n,r,i),-1<n&&(Qd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vv(e,n,r,i)),(n=-1<t?e[t]:null)&&kv(n))}function kv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[hc])yv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fv(e))?(yv(n,t),n.h==0&&(n.src=null,e[Ov]=null)):Qd(t)}}}function YS(t){return t in dv?dv[t]:dv[t]="on"+t}function dH(t,e){if(t.fa)t=!0;else{e=new ic(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kv(t),t=n.call(r,e)}return t}function Fv(t){return t=t[Ov],t instanceof Yd?t:null}var hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(t){return typeof t=="function"?t:(t[hv]||(t[hv]=function(e){return t.handleEvent(e)}),t[hv])}function Xe(){Yr.call(this),this.i=new Yd(this),this.S=this,this.J=null}et(Xe,Yr);Xe.prototype[hc]=!0;Xe.prototype.removeEventListener=function(t,e,n,r){QS(this,t,e,n,r)};function ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),zS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Vd(o,r,!0,e)&&i}if(o=e.g=t,i=Vd(o,r,!0,e)&&i,i=Vd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Vd(o,r,!1,e)&&i}Xe.prototype.N=function(){if(Xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qd(n[r]);delete t.g[e],t.h--}}this.J=null};Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Vd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&yv(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vv=H.JSON.stringify,_v=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function hH(){var t=Uv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var wv=class{constructor(){this.h=this.g=null}add(e,n){let r=JS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},JS=new _v(()=>new Ev,t=>t.reset()),Ev=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function fH(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pH(t){H.setTimeout(()=>{throw t},0)}var sc,oc=!1,Uv=new wv,ZS=()=>{let t=H.Promise.resolve(void 0);sc=()=>{t.then(mH)}},mH=()=>{for(var t;t=hH();){try{t.h.call(t.g)}catch(n){pH(n)}var e=JS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oc=!1};function Jd(t,e){Xe.call(this),this.h=t||1,this.g=e||H,this.j=dt(this.qb,this),this.l=Date.now()}et(Jd,Xe);T=Jd.prototype;T.ga=!1;T.T=null;T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(jv(this),this.start()))}};T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}T.N=function(){Jd.$.N.call(this),jv(this),delete this.g};function Bv(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function XS(t){t.g=Bv(()=>{t.g=null,t.i&&(t.i=!1,XS(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Iv=class extends Yr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XS(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ac(t){Yr.call(this),this.h=t,this.g={}}et(ac,Yr);var MS=[];function eA(t,e,n,r){Array.isArray(n)||(n&&(MS[0]=n.toString()),n=MS);for(var i=0;i<n.length;i++){var s=GS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tA(t){xv(t.g,function(e,n){this.g.hasOwnProperty(n)&&kv(e)},t),t.g={}}ac.prototype.N=function(){ac.$.N.call(this),tA(this)};ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zd(){this.g=!0}Zd.prototype.Ea=function(){this.g=!1};function gH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function yH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_H(t,n)+(r?" "+r:"")})}function vH(t,e){t.info(function(){return"TIMEOUT: "+e})}Zd.prototype.info=function(){};function _H(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vv(n)}catch{return e}}var es={},NS=null;function Xd(){return NS=NS||new Xe}es.Ta="serverreachability";function nA(t){ht.call(this,es.Ta,t)}et(nA,ht);function cc(t){let e=Xd();ot(e,new nA(e))}es.STAT_EVENT="statevent";function rA(t,e){ht.call(this,es.STAT_EVENT,t),this.stat=e}et(rA,ht);function Dt(t){let e=Xd();ot(e,new rA(e,t))}es.Ua="timingevent";function iA(t,e){ht.call(this,es.Ua,t),this.size=e}et(iA,ht);function fc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var eh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $v(){}$v.prototype.h=null;function PS(t){return t.h||(t.h=t.i())}function oA(){}var pc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hv(){ht.call(this,"d")}et(Hv,ht);function qv(){ht.call(this,"c")}et(qv,ht);var Tv;function th(){}et(th,$v);th.prototype.g=function(){return new XMLHttpRequest};th.prototype.i=function(){return{}};Tv=new th;function mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ac(this),this.P=wH,t=pv?125:void 0,this.V=new Jd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aA}function aA(){this.i=null,this.g="",this.h=!1}var wH=45e3,cA={},Dv={};T=mc.prototype;T.setTimeout=function(t){this.P=t};function bv(t,e,n){t.L=1,t.A=rh(fr(e)),t.u=n,t.S=!0,uA(t,null)}function uA(t,e){t.G=Date.now(),gc(t),t.B=fr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new aA,t.g=VA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Iv(dt(t.Pa,t,t.g),t.O)),eA(t.U,t.g,"readystatechange",t.nb),e=t.I?qS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),cc(),gH(t.j,t.v,t.B,t.m,t.W,t.u)}T.nb=function(t){t=t.target;let e=this.M;e&&Nn(t)==3?e.l():this.Pa(t)};T.Pa=function(t){try{if(t==this.g)e:{let l=Nn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||pv||this.g&&(this.h.h||this.g.ja()||FS(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?cc(3):cc(2)),nh(this);var n=this.g.da();this.ca=n;t:if(lA(this)){var r=FS(this.g);t="";var i=r.length,s=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),nc(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,yH(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rc(a)){var u=a;break t}}u=null}if(n=u)yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cv(this,n);else{this.i=!1,this.s=3,Dt(12),Ji(this),nc(this);break e}}this.S?(dA(this,l,o),pv&&this.i&&l==3&&(eA(this.U,this.V,"tick",this.mb),this.V.start())):(yo(this.j,this.m,o,null),Cv(this,o)),l==4&&Ji(this),this.i&&!this.J&&(l==4?OA(this.l,this):(this.i=!1,gc(this)))}else BH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Ji(this),nc(this)}}}catch{}finally{}};function lA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function dA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=EH(t,n),i==Dv){e==4&&(t.s=4,Dt(14),r=!1),yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cA){t.s=4,Dt(15),yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yo(t.j,t.m,i,null),Cv(t,i);lA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yv(e),e.M=!0,Dt(11))):(yo(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),nc(t))}T.mb=function(){if(this.g){var t=Nn(this.g),e=this.g.ja();this.o<e.length&&(nh(this),dA(this,t,e),this.i&&t!=4&&gc(this))}};function EH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Dv:(n=Number(e.substring(n,r)),isNaN(n)?cA:(r+=1,r+n>e.length?Dv:(e=e.slice(r,r+n),t.o=r+n,e)))}T.cancel=function(){this.J=!0,Ji(this)};function gc(t){t.Y=Date.now()+t.P,hA(t,t.P)}function hA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=fc(dt(t.lb,t),e)}function nh(t){t.C&&(H.clearTimeout(t.C),t.C=null)}T.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(vH(this.j,this.B),this.L!=2&&(cc(),Dt(17)),Ji(this),this.s=2,nc(this)):hA(this,this.Y-t)};function nc(t){t.l.H==0||t.J||OA(t.l,t)}function Ji(t){nh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jv(t.V),tA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sv(n.i,t))){if(!t.K&&Sv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hd(n),oh(n);else break e;Qv(n),Dt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=fc(dt(n.ib,n),6e3));if(1>=wA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zi(n,11)}else if((t.K||n.g==t)&&Hd(n),!rc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(zv(s,s.h),s.h=null))}if(r.F){let g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ee(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=LA(r,r.J?r.pa:null,r.Y),o.K){EA(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(nh(a),gc(a)),r.g=o}else PA(r);0<n.j.length&&ah(n)}else u[0]!="stop"&&u[0]!="close"||Zi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Zi(n,7):Kv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}cc(4)}catch{}}function IH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function TH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function fA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=TH(t),r=IH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var pA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xi){this.h=t.h,Bd(this,t.j),this.s=t.s,this.g=t.g,$d(this,t.m),this.l=t.l;var e=t.i,n=new uc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xS(this,n),this.o=t.o}else t&&(e=String(t).match(pA))?(this.h=!1,Bd(this,e[1]||"",!0),this.s=ec(e[2]||""),this.g=ec(e[3]||"",!0),$d(this,e[4]),this.l=ec(e[5]||"",!0),xS(this,e[6]||"",!0),this.o=ec(e[7]||"")):(this.h=!1,this.i=new uc(null,this.h))}Xi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tc(e,OS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(tc(e,OS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(tc(n,n.charAt(0)=="/"?SH:CH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tc(n,RH)),t.join("")};function fr(t){return new Xi(t)}function Bd(t,e,n){t.j=n?ec(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $d(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xS(t,e,n){e instanceof uc?(t.i=e,MH(t.i,t.h)):(n||(e=tc(e,AH)),t.i=new uc(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function rh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ec(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var OS=/[#\/\?@]/g,CH=/[#\?:]/g,SH=/[#\?]/g,AH=/[#\?@]/g,RH=/#/g;function uc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&DH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}T=uc.prototype;T.add=function(t,e){Jr(this),this.i=null,t=wo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mA(t,e){Jr(t),e=wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gA(t,e){return Jr(t),e=wo(t,e),t.g.has(e)}T.forEach=function(t,e){Jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};T.ta=function(){Jr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};T.Z=function(t){Jr(this);let e=[];if(typeof t=="string")gA(this,t)&&(e=e.concat(this.g.get(wo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};T.set=function(t,e){return Jr(this),this.i=null,t=wo(this,t),gA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};T.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yA(t,e,n){mA(t,e),0<n.length&&(t.i=null,t.g.set(wo(t,e),Nv(n)),t.h+=n.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MH(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mA(this,r),yA(this,i,n))},t)),t.j=e}var NH=class{constructor(t,e){this.g=t,this.map=e}};function vA(t){this.l=t||PH,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PH=10;function _A(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wA(t){return t.h?1:t.g?t.g.size:0}function Sv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zv(t,e){t.g?t.g.add(e):t.h=e}function EA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vA.prototype.cancel=function(){if(this.i=IA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function IA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Nv(t.i)}var xH=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function OH(){this.g=new xH}function kH(t,e,n){let r=n||"";try{fA(t,function(i,s){let o=i;dc(i)&&(o=Vv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function FH(t,e){let n=new Zd;if(H.Image){let r=new Image;r.onload=Od(Ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Od(Ud,n,r,"TestLoadImage: error",!1,e),r.onabort=Od(Ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Od(Ud,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ud(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yc(t){this.l=t.ec||null,this.j=t.ob||!1}et(yc,$v);yc.prototype.g=function(){return new ih(this.l,this.j)};yc.prototype.i=function(t){return function(){return t}}({});function ih(t,e){Xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(ih,Xe);var Gv=0;T=ih.prototype;T.open=function(t,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lc(this)};T.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vc(this)),this.readyState=Gv};T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function TA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vc(this):lc(this),this.readyState==3&&TA(this)}};T.Za=function(t){this.g&&(this.response=this.responseText=t,vc(this))};T.Ya=function(t){this.g&&(this.response=t,vc(this))};T.ka=function(){this.g&&vc(this)};function vc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lc(t)}T.setRequestHeader=function(t,e){this.v.append(t,e)};T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};T.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LH=H.JSON.parse;function Ne(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DA,this.L=this.M=!1}et(Ne,Xe);var DA="",VH=/^https?$/i,UH=["POST","PUT"];T=Ne.prototype;T.Oa=function(t){this.M=t};T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tv.g(),this.C=this.u?PS(this.u):PS(Tv),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){kS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=H.FormData&&t instanceof H.FormData,!(0<=jS(UH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SA(this),0<this.B&&((this.L=jH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=Bv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){kS(this,s)}};function jH(t){return _o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}T.ua=function(){typeof Mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function kS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bA(t),sh(t)}function bA(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),sh(this))};T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sh(this,!0)),Ne.$.N.call(this)};T.La=function(){this.s||(this.G||this.v||this.l?CA(this):this.kb())};T.kb=function(){CA(this)};function CA(t){if(t.h&&typeof Mv<"u"&&(!t.C[1]||Nn(t)!=4||t.da()!=2)){if(t.v&&Nn(t)==4)Bv(t.La,0,t);else if(ot(t,"readystatechange"),Nn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(pA)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!VH.test(i?i.toLowerCase():"")}n=r}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var s=2<Nn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bA(t)}}finally{sh(t)}}}}function sh(t,e){if(t.g){SA(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function SA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}T.isActive=function(){return!!this.g};function Nn(t){return t.g?t.g.readyState:0}T.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LH(e)}};function FS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function BH(t){let e={};t=(t.g&&2<=Nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rc(t[r]))continue;var n=fH(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}uH(e,function(r){return r.join(", ")})}T.Ia=function(){return this.m};T.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function AA(t){let e="";return xv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function RA(t){this.Ga=0,this.j=[],this.l=new Zd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Za("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Za("baseRetryDelayMs",5e3,t),this.hb=Za("retryDelaySeedMs",1e4,t),this.eb=Za("forwardChannelMaxRetries",2,t),this.xa=Za("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vA(t&&t.concurrentRequestLimit),this.Ja=new OH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}T=RA.prototype;T.ra=8;T.H=1;function Kv(t){if(MA(t),t.H==3){var e=t.W++,n=fr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),_c(t,n),e=new mc(t,t.l,e),e.L=2,e.A=rh(fr(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.A,n=!0),n||(e.g=VA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),gc(e)}FA(t)}function oh(t){t.g&&(Yv(t),t.g.cancel(),t.g=null)}function MA(t){oh(t),t.u&&(H.clearTimeout(t.u),t.u=null),Hd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function ah(t){if(!_A(t.i)&&!t.m){t.m=!0;var e=t.Na;sc||ZS(),oc||(sc(),oc=!0),Uv.add(e,t),t.C=0}}function $H(t,e){return wA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=fc(dt(t.Na,t,e),kA(t,t.C)),t.C++,!0)}T.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new mc(this,this.l,t),s=this.s;if(this.U&&(s?(s=qS(s),zS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=NA(this,i,e),n=fr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),_c(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(AA(s)))+"&"+e:this.o&&Wv(n,this.o,s)),zv(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,bv(i,n,null)):bv(i,n,e),this.H=2}}else this.H==3&&(t?LS(this,t):this.j.length==0||_A(this.i)||LS(this))};function LS(t,e){var n;e?n=e.m:n=t.W++;let r=fr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),_c(t,r),t.o&&t.s&&Wv(r,t.o,t.s),n=new mc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=NA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zv(t.i,n),bv(n,r,e)}function _c(t,e){t.na&&xv(t.na,function(n,r){Ee(e,r,n)}),t.h&&fA({},function(n,r){Ee(e,r,n)})}function NA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{kH(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sc||ZS(),oc||(sc(),oc=!0),Uv.add(e,t),t.A=0}}function Qv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=fc(dt(t.Ma,t),kA(t,t.A)),t.A++,!0)}T.Ma=function(){if(this.u=null,xA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=fc(dt(this.jb,this),t)}};T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),oh(this),xA(this))};function Yv(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function xA(t){t.g=new mc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),_c(t,e),t.o&&t.s&&Wv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rh(fr(e)),n.u=null,n.S=!0,uA(n,t)}T.ib=function(){this.v!=null&&(this.v=null,oh(this),Qv(this),Dt(19))};function Hd(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function OA(t,e){var n=null;if(t.g==e){Hd(t),Yv(t),t.g=null;var r=2}else if(Sv(t.i,e))n=e.F,EA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Xd(),ot(r,new iA(r,n)),ah(t)}else PA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&$H(t,e)||r==2&&Qv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zi(t,5);break;case 4:Zi(t,10);break;case 3:Zi(t,6);break;default:Zi(t,2)}}}function kA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new Xi("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||Bd(n,"https"),rh(n)),FH(n.toString(),r)}else Dt(2);t.H=0,t.h&&t.h.za(e),FA(t),MA(t)}T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function FA(t){if(t.H=0,t.ma=[],t.h){let e=IA(t.i);(e.length!=0||t.j.length!=0)&&(AS(t.ma,e),AS(t.ma,t.j),t.i.i.length=0,Nv(t.j),t.j.length=0),t.h.ya()}}function LA(t,e,n){var r=n instanceof Xi?fr(n):new Xi(n);if(r.g!="")e&&(r.g=e+"."+r.g),$d(r,r.m);else{var i=H.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xi(null);r&&Bd(s,r),e&&(s.g=e),i&&$d(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),_c(t,r),r}function VA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new yc({ob:n})):new Ne(t.va),e.Oa(t.J),e}T.isActive=function(){return!!this.h&&this.h.isActive(this)};function UA(){}T=UA.prototype;T.Ba=function(){};T.Aa=function(){};T.za=function(){};T.ya=function(){};T.isActive=function(){return!0};T.Va=function(){};function qd(){if(_o&&!(10<=Number(sH)))throw Error("Environmental error: no available transport.")}qd.prototype.g=function(t,e){return new jt(t,e)};function jt(t,e){Xe.call(this),this.g=new RA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Eo(this)}et(jt,Xe);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=LA(t,null,t.Y),ah(t)};jt.prototype.close=function(){Kv(this.g)};jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vv(t),t=n);e.j.push(new NH(e.fb++,t)),e.H==3&&ah(e)};jt.prototype.N=function(){this.g.h=null,delete this.j,Kv(this.g),delete this.g,jt.$.N.call(this)};function jA(t){Hv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(jA,Hv);function BA(){qv.call(this),this.status=1}et(BA,qv);function Eo(t){this.g=t}et(Eo,UA);Eo.prototype.Ba=function(){ot(this.g,"a")};Eo.prototype.Aa=function(t){ot(this.g,new jA(t))};Eo.prototype.za=function(t){ot(this.g,new BA)};Eo.prototype.ya=function(){ot(this.g,"b")};function HH(){this.blockSize=-1}function ln(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(ln,HH);ln.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ln.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)fv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fv(this,r),i=0;break}}this.h=i,this.i+=e};ln.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var qH={};function Jv(t){return-128<=t&&128>t?nH(t,function(e){return new pe([e|0],0>e?-1:0)}):new pe([t|0],0>t?-1:0)}function Pn(t){if(isNaN(t)||!isFinite(t))return vo;if(0>t)return st(Pn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Av;return new pe(e,0)}function $A(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return st($A(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pn(Math.pow(e,8)),r=vo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Pn(Math.pow(e,s)),r=r.R(s).add(Pn(o))):(r=r.R(n),r=r.add(Pn(o)))}return r}var Av=4294967296,vo=Jv(0),Rv=Jv(1),VS=Jv(16777216);T=pe.prototype;T.ea=function(){if(Jt(this))return-st(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Av+r)*e,e*=Av}return t};T.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(hr(this))return"0";if(Jt(this))return"-"+st(this).toString(t);for(var e=Pn(Math.pow(t,6)),n=this,r="";;){var i=Gd(n,e).g;n=zd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,hr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Jt(t){return t.h==-1}T.X=function(t){return t=zd(this,t),Jt(t)?-1:hr(t)?0:1};function st(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(Rv)}T.abs=function(){return Jt(this)?st(this):this};T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new pe(n,n[n.length-1]&-2147483648?-1:0)};function zd(t,e){return t.add(st(e))}T.R=function(t){if(hr(this)||hr(t))return vo;if(Jt(this))return Jt(t)?st(this).R(st(t)):st(st(this).R(t));if(Jt(t))return st(this.R(st(t)));if(0>this.X(VS)&&0>t.X(VS))return Pn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,jd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,jd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)};function jd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xa(t,e){this.g=t,this.h=e}function Gd(t,e){if(hr(e))throw Error("division by zero");if(hr(t))return new Xa(vo,vo);if(Jt(t))return e=Gd(st(t),e),new Xa(st(e.g),st(e.h));if(Jt(e))return e=Gd(t,st(e)),new Xa(st(e.g),e.h);if(30<t.g.length){if(Jt(t)||Jt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Rv,r=e;0>=r.X(t);)n=US(n),r=US(r);var i=go(n,1),s=go(r,1);for(r=go(r,2),n=go(n,2);!hr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=go(r,1),n=go(n,1)}return e=zd(t,i.R(e)),new Xa(i,e)}for(i=vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Pn(n),o=s.R(e);Jt(o)||0<o.X(t);)n-=r,s=Pn(n),o=s.R(e);hr(s)&&(s=Rv),i=i.add(s),t=zd(t,o)}return new Xa(i,t)}T.gb=function(t){return Gd(this,t).h};T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)};T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)};T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)};function US(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function go(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pe(i,t.h)}qd.prototype.createWebChannel=qd.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;eh.NO_ERROR=0;eh.TIMEOUT=8;eh.HTTP_ERROR=6;sA.COMPLETE="complete";oA.EventType=pc;pc.OPEN="a";pc.CLOSE="b";pc.ERROR="c";pc.MESSAGE="d";Xe.prototype.listen=Xe.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;ln.prototype.digest=ln.prototype.l;ln.prototype.reset=ln.prototype.reset;ln.prototype.update=ln.prototype.j;pe.prototype.add=pe.prototype.add;pe.prototype.multiply=pe.prototype.R;pe.prototype.modulo=pe.prototype.gb;pe.prototype.compare=pe.prototype.X;pe.prototype.toNumber=pe.prototype.ea;pe.prototype.toString=pe.prototype.toString;pe.prototype.getBits=pe.prototype.D;pe.fromNumber=Pn;pe.fromString=$A;var HA=dn.createWebChannelTransport=function(){return new qd},qA=dn.getStatEventTarget=function(){return Xd()},ch=dn.ErrorCode=eh,zA=dn.EventType=sA,GA=dn.Event=es,Zv=dn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WA=dn.FetchXmlHttpFactory=yc,wc=dn.WebChannel=oA,KA=dn.XhrIo=Ne,zH=dn.Md5=ln,QA=dn.Integer=pe;var YA="@firebase/firestore";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var Uo="10.11.1";var is=new $r("@firebase/firestore");function Ec(){return is.logLevel}function M(t,...e){if(is.logLevel<=te.DEBUG){let n=e.map(_w);is.debug(`Firestore (${Uo}): ${t}`,...n)}}function ss(t,...e){if(is.logLevel<=te.ERROR){let n=e.map(_w);is.error(`Firestore (${Uo}): ${t}`,...n)}}function ph(t,...e){if(is.logLevel<=te.WARN){let n=e.map(_w);is.warn(`Firestore (${Uo}): ${t}`,...n)}}function _w(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw ss(e),new Error(e)}function rt(t,e){t||ne()}function Ie(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var mh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},n_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},r_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},i_=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new mh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new tt(e)}},s_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},o_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new s_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},a_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},c_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new a_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function GH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=GH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var mt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new mt(0,0))}static max(){return new t(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ue=class t extends yh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},WH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends yh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return WH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var u_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};u_.UNKNOWN_ID=-1;function KH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new os(i,J.empty(),e)}function QH(t){return new os(t.readTime,t.key,-1)}var os=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Oe.min(),J.empty(),-1)}static max(){return new t(Oe.max(),J.empty(),-1)}};function YH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var JH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",l_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gR(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==JH)throw t;M("LocalStore","Unexpectedly lost primary lease")})}var w=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function ZH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kh(t){return t.name==="IndexedDbTransactionError"}var XH=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ww(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function eq(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DJ=[...tq,"documentOverlays"],nq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rq=nq,bJ=[...rq,"indexConfiguration","indexState","indexEntries"];function JA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $t=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}},To=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class t{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vh(this.data.getIterator())}getIteratorFrom(e){return new vh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},vh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new bt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var d_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new d_("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xr.EMPTY_BYTE_STRING=new Xr("");var iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(rt(!!t),typeof t=="string"){let e=0,n=iq.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?Xr.fromBase64String(t):Xr.fromUint8Array(t)}function Ew(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vR(t){let e=t.mapValue.fields.__previous_value__;return Ew(e)?vR(e):e}function _h(t){let e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}var h_=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},f_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ew(t)?4:_R(t)?9007199254740991:10:ne()}function Ln(t,e){if(t===e)return!0;let n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _h(t).isEqual(_h(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ei(i.timestampValue),a=ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?Sc(o)===Sc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(JA(o)!==JA(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ln(o[c],a[c])))return!1;return!0}(t,e);default:return ne()}}function Ac(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;let n=So(t),r=So(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ge(s.integerValue||s.doubleValue),c=Ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ZA(t.timestampValue,e.timestampValue);case 4:return ZA(_h(t),_h(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Co(s),c=Co(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ve(a[u],c[u]);if(l!==0)return l}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ve(Ge(s.latitude),Ge(o.latitude));return a!==0?a:ve(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ao(a[u],c[u]);if(l)return l}return ve(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===uh.mapValue&&o===uh.mapValue)return 0;if(s===uh.mapValue)return 1;if(o===uh.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ve(c[d],l[d]);if(h!==0)return h;let f=Ao(a[c[d]],u[l[d]]);if(f!==0)return f}return ve(c.length,l.length)}(t.mapValue,e.mapValue);default:throw ne()}}function ZA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=ei(t),r=ei(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function Ro(t){return p_(t)}function p_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=p_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${p_(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function m_(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function hh(t){return!!t&&"mapValue"in t}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Nc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _R(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Tc(this.value))}};function wR(t){let e=[];return Nc(t.fields,(n,r)=>{let i=new Bt([n]);if(hh(r)){let s=wR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}var Mo=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Oe.min(),Oe.min(),Oe.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Oe.min(),Oe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Oe.min(),Oe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var No=class{constructor(e,n){this.position=e,this.inclusive=n}};function XA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}var Po=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function sq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var wh=class{},nt=class t extends wh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y_(e,n,r):n==="array-contains"?new w_(e,r):n==="in"?new E_(e,r):n==="not-in"?new I_(e,r):n==="array-contains-any"?new T_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v_(e,r):new __(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ti=class t extends wh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ER(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ER(t){return t.op==="and"}function IR(t){return oq(t)&&ER(t)}function oq(t){for(let e of t.filters)if(e instanceof ti)return!1;return!0}function g_(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(IR(t))return t.filters.map(e=>g_(e)).join(",");{let e=t.filters.map(n=>g_(n)).join(",");return`${t.op}(${e})`}}function TR(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TR(o,i.filters[a]),!0):!1}(t,e):void ne()}function DR(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(DR).join(" ,")+"}"}(t):"Filter"}var y_=class extends nt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},v_=class extends nt{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},__=class extends nt{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var w_=class extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Iw(n)&&Ac(n.arrayValue,this.value)}},E_=class extends nt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}},I_=class extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}},T_=class extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}};var D_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function tR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new D_(t,e,n,r,i,s,o)}function Tw(t){let e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ww(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ro(r)).join(",")),e.ue=n}return e.ue}function Dw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eR(t.startAt,e.startAt)&&eR(t.endAt,e.endAt)}var xo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function aq(t,e,n,r,i,s,o,a){return new xo(t,e,n,r,i,s,o,a)}function cq(t){return new xo(t)}function nR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uq(t){return t.collectionGroup!==null}function Dc(t){let e=Ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Bt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Po(s,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Po(Bt.keyField(),r))}return e.ce}function ns(t){let e=Ie(t);return e.le||(e.le=lq(e,Dc(t))),e.le}function lq(t,e){if(t.limitType==="F")return tR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Po(i.field,s)});let n=t.endAt?new No(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new No(t.startAt.position,t.startAt.inclusive):null;return tR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b_(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function CR(t,e){return Dw(ns(t),ns(e))&&t.limitType===e.limitType}function SR(t){return`${Tw(ns(t))}|lt:${t.limitType}`}function Ic(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DR(i)).join(", ")}]`),ww(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ro(i)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function bw(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Dc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=XA(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Dc(r),i)||r.endAt&&!function(o,a,c){let u=XA(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Dc(r),i))}(t,e)}function dq(t){return(e,n)=>{let r=!1;for(let i of Dc(t)){let s=hq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hq(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ao(c,u):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var ni=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return yR(this.inner)}size(){return this.innerSize}};var fq=new $t(J.comparator);function Eh(){return fq}var AR=new $t(J.comparator);function lh(...t){let e=AR;for(let n of t)e=e.insert(n.key,n);return e}function RR(t){let e=AR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return bc()}function MR(){return bc()}function bc(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}var pq=new $t(J.comparator),mq=new bt(J.comparator);function pt(...t){let e=mq;for(let n of t)e=e.add(n);return e}var gq=new bt(ve);function yq(){return gq}function NR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function PR(t){return{integerValue:""+t}}function vq(t,e){return eq(e)?PR(e):NR(t,e)}var Oo=class{constructor(){this._=void 0}};function _q(t,e,n){return t instanceof ko?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ew(s)&&(s=vR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof as?OR(t,e):t instanceof cs?kR(t,e):function(i,s){let o=xR(i,s),a=rR(o)+rR(i.Pe);return m_(o)&&m_(i.Pe)?PR(a):NR(i.serializer,a)}(t,e)}function wq(t,e,n){return t instanceof as?OR(t,e):t instanceof cs?kR(t,e):n}function xR(t,e){return t instanceof Fo?function(r){return m_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ko=class extends Oo{},as=class extends Oo{constructor(e){super(),this.elements=e}};function OR(t,e){let n=FR(e);for(let r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var cs=class extends Oo{constructor(e){super(),this.elements=e}};function kR(t,e){let n=FR(e);for(let r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}var Fo=class extends Oo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function rR(t){return Ge(t.integerValue||t.doubleValue)}function FR(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Eq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof as&&i instanceof as||r instanceof cs&&i instanceof cs?bo(r.elements,i.elements,Ln):r instanceof Fo&&i instanceof Fo?Ln(r.Pe,i.Pe):r instanceof ko&&i instanceof ko}(t.transform,e.transform)}var C_=class{constructor(e,n){this.version=e,this.transformResults=n}},rs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Lo=class{};function LR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ih(t.key,rs.none()):new us(t.key,t.data,rs.none());{let n=t.data,r=On.empty(),i=new bt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gr(t.key,r,new kn(i.toArray()),rs.none())}}function Iq(t,e,n){t instanceof us?function(i,s,o){let a=i.value.clone(),c=sR(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gr?function(i,s,o){if(!fh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=sR(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(VR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof us?function(s,o,a,c){if(!fh(s.precondition,o))return a;let u=s.value.clone(),l=oR(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gr?function(s,o,a,c){if(!fh(s.precondition,o))return a;let u=oR(s.fieldTransforms,c,o),l=o.data;return l.setAll(VR(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return fh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Tq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=xR(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function iR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(s,o)=>Eq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var us=class extends Lo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gr=class extends Lo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function VR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function sR(t,e,n){let r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wq(o,a,n[i]))}return r}function oR(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,_q(s,o,e))}return r}var Ih=class extends Lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},S_=class extends Lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var A_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Iq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=MR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=LR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>iR(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>iR(n,r))}},R_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return pq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var M_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Le,ce;function Dq(t){switch(t){default:return ne();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function bq(t){if(t===void 0)return ss("GRPC error has no .code"),_.UNKNOWN;switch(t){case Le.OK:return _.OK;case Le.CANCELLED:return _.CANCELLED;case Le.UNKNOWN:return _.UNKNOWN;case Le.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Le.INTERNAL:return _.INTERNAL;case Le.UNAVAILABLE:return _.UNAVAILABLE;case Le.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Le.NOT_FOUND:return _.NOT_FOUND;case Le.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Le.ABORTED:return _.ABORTED;case Le.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Le.DATA_LOSS:return _.DATA_LOSS;default:return ne()}}(ce=Le||(Le={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var SJ=new QA([4294967295,4294967295],0);var N_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function P_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(t,e){return P_(t,e.toTimestamp())}function Do(t){return rt(!!t),Oe.fromTimestamp(function(n){let r=ei(n);return new mt(r.seconds,r.nanos)}(t))}function UR(t,e){return x_(t,e).canonicalString()}function x_(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Aq(t){let e=Ue.fromString(t);return rt(Fq(e)),e}function O_(t,e){return UR(t.databaseId,e.path)}function Rq(t){let e=Aq(t);return e.length===4?Ue.emptyPath():Nq(e)}function Mq(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nq(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aR(t,e,n){return{name:O_(t,e),fields:n.value.mapValue.fields}}function Pq(t,e){let n;if(e instanceof us)n={update:aR(t,e.key,e.value)};else if(e instanceof Ih)n={delete:O_(t,e.key)};else if(e instanceof gr)n={update:aR(t,e.key,e.data),updateMask:kq(e.fieldMask)};else{if(!(e instanceof S_))return ne();n={verify:O_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ko)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof as)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Sq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function xq(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Do(i.updateTime):Do(s);return o.isEqual(Oe.min())&&(o=Do(s)),new C_(o,i.transformResults||[])}(n,e))):[]}function Oq(t){let e=Rq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rt(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=jR(d);return h instanceof ti&&IR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Po(Io(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ww(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new No(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new No(f,h)}(n.endAt)),aq(e,i,o,s,a,"F",c,u)}function jR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Io(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Io(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Io(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Io(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(r=>jR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function Io(t){return Bt.fromServerFormat(t.fieldPath)}function kq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var k_=class{constructor(e){this.ut=e}};function Lq(t){let e=Oq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b_(e,e.limit,"L"):e}var Th=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Sc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=ei(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Co(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?_R(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ne()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),J.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Th.St=new Th;var F_=class{constructor(){this.on=new L_}addToCollectionParentIndex(e,n){return this.on.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(os.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}},L_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ue.comparator)).toArray()}};var AJ=new Uint8Array(0);var xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var Rc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var V_=class{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var U_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var j_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cc(r.mutation,i,kn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){let i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Eh(),o=bc(),a=function(){return bc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof gr)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Cc(l.mutation,u,l.mutation.getFieldMask(),mt.now())):o.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new U_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=bc(),i=new $t((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||kn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||pt()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=MR();l.forEach(h=>{if(!s.has(h)){let f=LR(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(ts()),a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,pt())).next(l=>({batchId:a,changes:RR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=lh();return this.indexManager.getCollectionParents(e,s).next(a=>w.forEach(a,c=>{let u=function(d,h){return new xo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Mo.newInvalidDocument(l)))});let a=lh();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Cc(l.mutation,u,kn.empty(),mt.now()),bw(n,u)&&(a=a.insert(c,u))}),a})}};var B_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return w.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Do(i.createTime)}}(n)),w.resolve()}getNamedQuery(e,n){return w.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Lq(i.bundledQuery),readTime:Do(i.readTime)}}(n)),w.resolve()}};var $_=class{constructor(){this.overlays=new $t(J.comparator),this.lr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ts();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){let i=ts(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=ts(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ts(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M_(n,r));let s=this.lr.get(n);s===void 0&&(s=pt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Mc=class{constructor(){this.hr=new bt(Ve.Pr),this.Ir=new bt(Ve.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ve(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new J(new Ue([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new J(new Ue([])),r=new Ve(n,e),i=new Ve(n,e+1),s=pt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ve(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return J.comparator(e.key,n.key)||ve(e.gr,n.gr)}static Tr(e,n){return ve(e.gr,n.gr)||J.comparator(e.key,n.key)}};var H_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(Ve.Pr)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new A_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ve);return n.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new J(s),0),a=new bt(ve);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),w.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return w.forEach(n.mutations,i=>{let s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Ve(n,0),i=this.yr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var q_=class{constructor(e){this.Cr=e,this.docs=function(){return new $t(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Mo.newInvalidDocument(n))}getEntries(e,n){let r=Eh();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mo.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Eh(),o=n.path,a=new J(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YH(QH(l),r)<=0||(i.has(l.key)||bw(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}vr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z_(this)}getSize(e){return w.resolve(this.size)}},z_=class extends V_{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var G_=class{constructor(e){this.persistence=e,this.Fr=new ni(n=>Tw(n),Dw),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Mc,this.targetCount=0,this.Nr=Rc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),w.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Rc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.kn(n),w.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),w.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Or.containsKey(n))}};var W_=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new XH(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new G_(this),this.indexManager=new F_,this.remoteDocumentCache=function(i){return new q_(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new k_(n),this.Kr=new B_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new H_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);let i=new K_(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return w.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},K_=class extends l_{constructor(e){super(),this.currentSequenceNumber=e}},Q_=class t{constructor(e){this.persistence=e,this.Gr=new Mc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw ne()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),w.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{let i=J.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return w.or([()=>w.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Y_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=pt(),i=pt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var J_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Z_=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return vC()?8:ZH(ze())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new J_;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ec()<=te.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(Ec()<=te.DEBUG&&M("QueryEngine","Query:",Ic(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ec()<=te.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):w.resolve())}zi(e,n){if(nR(n))return w.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=b_(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,b_(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return nR(n)||i.isEqual(Oe.min())?w.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?w.resolve(null):(Ec()<=te.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ic(n)),this.Xi(e,o,n,KH(i,-1)).next(a=>a))})}Yi(e,n){let r=new bt(dq(e));return n.forEach((i,s)=>{bw(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ec()<=te.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Ic(n)),this.Gi.getDocumentsMatchingQuery(e,n,os.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var X_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new $t(ve),this.ns=new ni(s=>Tw(s),Dw),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j_(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function Vq(t,e,n,r){return new X_(t,e,n,r)}function BR(t,e){return p(this,null,function*(){let n=Ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=pt();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Uq(t,e){let n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=w.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(c,m)).next(g=>{let y=u.docVersions.get(m);rt(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jq(t){let e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Bq(t,e){let n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Dh=class{constructor(){this.activeTargetIds=yq()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ew=class{constructor(){this.eo=new Dh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tw=class{ro(e){}shutdown(){}};var bh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dh=null;function Xv(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}var $q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nw=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var ft="WebChannelConnection",rw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=Xv(),c=this.Co(n,r.toUriEncodedString());M("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(M("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ph("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=$q[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=Xv();return new Promise((o,a)=>{let c=new KA;c.setWithCredentials(!0),c.listenOnce(zA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ch.NO_ERROR:let l=c.getResponseJson();M(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ch.TIMEOUT:M(ft,`RPC '${e}' ${s} timed out`),a(new U(_.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:let d=c.getStatus();if(M(ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(y){let I=y.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(I)>=0?I:_.UNKNOWN}(f.status);a(new U(m,f.message))}else a(new U(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(_.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{M(ft,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);M(ft,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=Xv(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HA(),a=qA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new WA({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");M(ft,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,m=new nw({co:y=>{f?M(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(M(ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),M(ft,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,I,x)=>{y.listen(I,O=>{try{x(O)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,wc.EventType.OPEN,()=>{f||(M(ft,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),g(d,wc.EventType.CLOSE,()=>{f||(f=!0,M(ft,`RPC '${e}' stream ${i} transport closed`),m.fo())}),g(d,wc.EventType.ERROR,y=>{f||(f=!0,ph(ft,`RPC '${e}' stream ${i} transport errored:`,y),m.fo(new U(_.UNAVAILABLE,"The operation could not be completed")))}),g(d,wc.EventType.MESSAGE,y=>{var I;if(!f){let x=y.data[0];rt(!!x);let O=x,N=O.error||((I=O[0])===null||I===void 0?void 0:I.error);if(N){M(ft,`RPC '${e}' stream ${i} received error:`,N);let me=N.status,se=function(gt){let Nt=Le[gt];if(Nt!==void 0)return bq(Nt)}(me),he=N.message;se===void 0&&(se=_.INTERNAL,he="Unknown error status: "+me+" with message "+N.message),f=!0,m.fo(new U(se,he)),d.close()}else M(ft,`RPC '${e}' stream ${i} received:`,x),m.po(x)}}),g(a,GA.STAT_EVENT,y=>{y.stat===Zv.PROXY?M(ft,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Zv.NOPROXY&&M(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function e_(){return typeof document<"u"?document:null}function Fh(t){return new N_(t,!0)}var Ch=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var iw=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ch(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return p(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return p(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return p(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new U(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>p(this,null,function*(){this.state=0,this.start()}))}u_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var sw=class extends iw{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=xq(e.writeResults,e.commitTime),r=Do(e.commitTime);return this.listener.d_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=Mq(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Pq(this.serializer,r))};this.r_(n)}};var ow=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new U(_.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,x_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(_.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,x_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(_.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var aw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ss(n),this.y_=!1):M("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var cw=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){xc(this)&&(M("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=Ie(c);u.M_.add(4),yield Pc(u),u.N_.set("Unknown"),u.M_.delete(4),yield Lh(u)})}(this))}))}),this.N_=new aw(r,i)}};function Lh(t){return p(this,null,function*(){if(xc(t))for(let e of t.x_)yield e(!0)})}function Pc(t){return p(this,null,function*(){for(let e of t.x_)yield e(!1)})}function xc(t){return Ie(t).M_.size===0}function $R(t,e,n){return p(this,null,function*(){if(!kh(e))throw e;t.M_.add(1),yield Pc(t),t.N_.set("Offline"),n||(n=()=>jq(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Lh(t)}))})}function HR(t,e){return e().catch(n=>$R(t,n,e))}function Vh(t){return p(this,null,function*(){let e=Ie(t),n=ri(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Hq(e);)try{let i=yield Bq(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,qq(e,i)}catch(i){yield $R(e,i)}qR(e)&&zR(e)})}function Hq(t){return xc(t)&&t.v_.length<10}function qq(t,e){t.v_.push(e);let n=ri(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function qR(t){return xc(t)&&!ri(t).Yo()&&t.v_.length>0}function zR(t){ri(t).start()}function zq(t){return p(this,null,function*(){ri(t).R_()})}function Gq(t){return p(this,null,function*(){let e=ri(t);for(let n of t.v_)e.E_(n.mutations)})}function Wq(t,e,n){return p(this,null,function*(){let r=t.v_.shift(),i=R_.from(r,e,n);yield HR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Vh(t)})}function Kq(t,e){return p(this,null,function*(){e&&ri(t).T_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return Dq(o)&&o!==_.ABORTED}(i.code)){let s=r.v_.shift();ri(r).e_(),yield HR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Vh(r)}})}(t,e)),qR(t)&&zR(t)})}function cR(t,e){return p(this,null,function*(){let n=Ie(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");let r=xc(n);n.M_.add(3),yield Pc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Lh(n)})}function Qq(t,e){return p(this,null,function*(){let n=Ie(t);e?(n.M_.delete(2),yield Lh(n)):e||(n.M_.add(2),yield Pc(n),n.N_.set("Unknown"))})}function ri(t){return t.k_||(t.k_=function(n,r,i){let s=Ie(n);return s.m_(),new sw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:zq.bind(null,t),Eo:Kq.bind(null,t),A_:Gq.bind(null,t),d_:Wq.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.k_.e_(),yield Vh(t)):(yield t.k_.stop(),t.v_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var uw=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GR(t,e){if(ss("AsyncQueue",`${e}: ${t}`),kh(t))return new U(_.UNAVAILABLE,`${e}: ${t}`);throw t}var lw=class{constructor(){this.queries=new ni(e=>SR(e),CR),this.onlineState="Unknown",this.z_=new Set}};function Yq(t){t.z_.forEach(e=>{e.next()})}var uR,lR;(lR=uR||(uR={})).J_="default",lR.Cache="cache";var dw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ni(a=>SR(a),CR),this.Da=new Map,this.Ca=new Set,this.va=new $t(J.comparator),this.Fa=new Map,this.Ma=new Mc,this.xa={},this.Oa=new Map,this.Na=Rc.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function Jq(t,e,n){return p(this,null,function*(){let r=tz(t);try{let i=yield function(o,a){let c=Ie(o),u=mt.now(),l=a.reduce((f,m)=>f.add(m.key),pt()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Eh(),g=pt();return c.ss.getEntries(f,l).next(y=>{m=y,m.forEach((I,x)=>{x.isValidDocument()||(g=g.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(y=>{d=y;let I=[];for(let x of a){let O=Tq(x,d.get(x.key).overlayedDocument);O!=null&&I.push(new gr(x.key,O,wR(O.value.mapValue),rs.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,I,a)}).next(y=>{h=y;let I=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,y.batchId,I)})}).then(()=>({batchId:h.batchId,changes:RR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new $t(ve)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Uh(r,i.changes),yield Vh(r.remoteStore)}catch(i){let s=GR(i,"Failed to persist write");n.reject(s)}})}function dR(t,e,n){let r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Ie(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&Yq(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zq(t,e){return p(this,null,function*(){let n=Ie(t),r=e.batch.batchId;try{let i=yield Uq(n.localStore,e);KR(n,r,null),WR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Uh(n,i)}catch(i){yield gR(i)}})}function Xq(t,e,n){return p(this,null,function*(){let r=Ie(t);try{let i=yield function(o,a){let c=Ie(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(rt(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);KR(r,e,n),WR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Uh(r,i)}catch(i){yield gR(i)}})}function WR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function KR(t,e,n){let r=Ie(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Uh(t,e,n){return p(this,null,function*(){let r=Ie(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Y_.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return p(this,null,function*(){let l=Ie(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!kh(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,g)}}})}(r.localStore,s))})}function ez(t,e){return p(this,null,function*(){let n=Ie(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());let r=yield BR(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new U(_.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uh(n,r._s)}})}function tz(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xq.bind(null,e),e}var Sh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Vq(this.persistence,new Z_,e.initialUser,this.serializer)}createPersistence(e){return new W_(Q_.jr,this.serializer)}createSharedClientState(e){return new ew}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var hw=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ez.bind(null,this.syncEngine),yield Qq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new lw}()}createDatastore(e){let n=Fh(e.databaseInfo.databaseId),r=function(s){return new rw(s)}(e.databaseInfo);return function(s,o,a,c){return new ow(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cw(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dR(this.syncEngine,n,0),function(){return bh.D()?new bh:new tw}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new dw(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=Ie(r);M("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Pc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var fw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=gh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){M("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=GR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function t_(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield BR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hR(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rz(t);M("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cR(e.remoteStore,i)),t._onlineComponents=e})}function nz(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function rz(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield t_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!nz(n))throw n;ph("Error using user provided cache. Falling back to memory cache: "+n),yield t_(t,new Sh)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield t_(t,new Sh);return t._offlineComponents})}function iz(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield hR(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield hR(t,new hw))),t._onlineComponents})}function sz(t){return iz(t).then(e=>e.syncEngine)}function QR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fR=new Map;function YR(t,e,n){if(!n)throw new U(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oz(t,e,n,r){if(e===!0&&r===!0)throw new U(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pR(t){if(!J.isDocumentKey(t))throw new U(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mR(t){if(J.isDocumentKey(t))throw new U(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function JR(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Cw(t);throw new U(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ah=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ah({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ah(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n_;switch(r.type){case"firstParty":return new o_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=fR.get(n);r&&(M("ComponentProvider","Removing Datastore"),fR.delete(n),r.terminate())}(this),Promise.resolve()}};function ZR(t,e,n,r={}){var i;let s=(t=JR(t,Vo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ph("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=tt.MOCK_USER;else{a=ld(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new U(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new tt(u)}t._authCredentials=new r_(new mh(a,c))}}var pw=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},mr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zr=class t extends pw{constructor(e,n,r){super(e,n,cq(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function XR(t,e,...n){if(t=Tt(t),YR("collection","path",e),t instanceof Vo){let r=Ue.fromString(e,...n);return mR(r),new Zr(t,null,r)}{if(!(t instanceof mr||t instanceof Zr))throw new U(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return mR(r),new Zr(t.firestore,null,r)}}function eM(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=gh.newId()),YR("doc","path",e),t instanceof Vo){let r=Ue.fromString(e,...n);return pR(r),new mr(t,null,new J(r))}{if(!(t instanceof mr||t instanceof Zr))throw new U(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return pR(r),new mr(t.firestore,t instanceof Zr?t.converter:null,new J(r))}}var mw=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ch(this,"async_queue_retry"),this.hu=()=>{let n=e_();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=e_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=e_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new pr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return p(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!kh(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ss("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=uw.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ne()}verifyOperationInProgress(){}du(){return p(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Rh=class extends Vo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nM(this),this._firestoreClient.terminate()}};function tM(t,e){let n=typeof t=="object"?t:qr(),r=typeof t=="string"?t:e||"(default)",i=Hi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ud("firestore");s&&ZR(i,...s)}return i}function az(t){return t._firestoreClient||nM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new h_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,QR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Mh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xr.fromBase64String(e))}catch(n){throw new U(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Nh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ph=class{constructor(e){this._methodName=e}};var xh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var cz=/^__.*__$/,gw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new us(e,this.data,n,this.fieldTransforms)}};function rM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var yw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Oh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(rM(this.fu)&&cz.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},vw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}Fu(e,n,r,i=!1){return new yw({fu:e,methodName:n,vu:r,path:Bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uz(t){let e=t._freezeSettings(),n=Fh(t._databaseId);return new vw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lz(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);aM("Data must be an object, but it was:",o,r);let a=sM(r,o),c,u;if(s.merge)c=new kn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=dz(e,d,n);if(!o.contains(h))throw new U(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pz(l,h)||l.push(h)}c=new kn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new gw(new On(a),c,u)}function iM(t,e){if(oM(t=Tt(t)))return aM("Unsupported field value:",e,t),sM(t,e);if(t instanceof Ph)return function(r,i){if(!rM(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=iM(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=mt.fromDate(r);return{timestampValue:P_(i.serializer,s)}}if(r instanceof mt){let s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:P_(i.serializer,s)}}if(r instanceof xh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mh)return{bytesValue:Cq(i.serializer,r._byteString)};if(r instanceof mr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Cw(r)}`)}(t,e)}function sM(t,e){let n={};return yR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nc(t,(r,i)=>{let s=iM(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof xh||t instanceof Mh||t instanceof mr||t instanceof Ph)}function aM(t,e,n){if(!oM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Cw(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function dz(t,e,n){if((e=Tt(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return fz(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var hz=new RegExp("[~\\*/\\[\\]]");function fz(t,e,n){if(e.search(hz)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(_.INVALID_ARGUMENT,a+t+c)}function pz(t,e){return t.some(n=>n.isEqual(e))}function mz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function cM(t,e){let n=JR(t.firestore,Rh),r=eM(t),i=mz(t.converter,e);return gz(n,[lz(uz(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rs.exists(!1))]).then(()=>r)}function gz(t,e){return function(r,i){let s=new pr;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return Jq(yield sz(r),i,s)})),s.promise}(az(t),e)}(function(e,n=!0){(function(i){Uo=i})(Sn),Cn(new Mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Rh(new i_(r.getProvider("auth-internal")),new c_(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f_(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ce(YA,"4.6.1",e),Ce(YA,"4.6.1","esm2017")})();var ls=class{constructor(e){return e}},uM="firestore",Sw=class{constructor(){return zi(uM)}};var Aw=new F("angularfire2.firestore-instances");function yz(t,e){let n=fo(uM,t,e);return n&&new ls(n)}function vz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ls(r)}}var _z={provide:Sw,deps:[[new Fe,Aw]]},wz={provide:ls,useFactory:yz,deps:[[new Fe,Aw],un]},Ez=(()=>{class t{constructor(){Ce("angularfire",cr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=be({type:t});static \u0275inj=De({providers:[wz,_z]})}return t})();function lM(t,...e){return{ngModule:Ez,providers:[{provide:Aw,useFactory:vz(t),multi:!0,deps:[ie,Ye,Gr,ur,[new Fe,Yi],[new Fe,zr],...e]}]}}var dM=An(cM,!0);var hM=An(XR,!0);var fM=An(tM,!0);var pM=(()=>{let e=class e{constructor(r){this.firestore=r}createOrder(r){let i=hM(this.firestore,"orders");dM(i,r)}};e.\u0275fac=function(i){return new(i||e)(P(ls))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dz(t,e){t&1&&(C(0,"small"),j(1," Name is required. "),b())}function bz(t,e){t&1&&(C(0,"small"),j(1," Name must be at least 3 characters long."),b())}function Cz(t,e){t&1&&(C(0,"small"),j(1," Name cannot be more than 15 characters long."),b())}function Sz(t,e){t&1&&(C(0,"small"),j(1," Name must have only letters."),b())}function Az(t,e){if(t&1&&(C(0,"div",13),Ae(1,Dz,2,0,"small",14)(2,bz,2,0,"small",14)(3,Cz,2,0,"small",14)(4,Sz,2,0,"small",14),b()),t&2){let n=ye();R(),z("ngIf",n.orderForm.controls.name.hasError("required")),R(),z("ngIf",n.orderForm.controls.name.hasError("minlength")),R(),z("ngIf",n.orderForm.controls.name.hasError("maxlength")),R(),z("ngIf",n.orderForm.controls.name.hasError("pattern"))}}function Rz(t,e){t&1&&(C(0,"small"),j(1," Surname is required. "),b())}function Mz(t,e){t&1&&(C(0,"small"),j(1," Surname must be at least 3 characters long."),b())}function Nz(t,e){t&1&&(C(0,"small"),j(1," Surname cannot be more than 15 characters long."),b())}function Pz(t,e){t&1&&(C(0,"small"),j(1," Surname must have only letters."),b())}function xz(t,e){if(t&1&&(C(0,"div",13),Ae(1,Rz,2,0,"small",14)(2,Mz,2,0,"small",14)(3,Nz,2,0,"small",14)(4,Pz,2,0,"small",14),b()),t&2){let n=ye();R(),z("ngIf",n.orderForm.controls.surname.hasError("required")),R(),z("ngIf",n.orderForm.controls.surname.hasError("minlength")),R(),z("ngIf",n.orderForm.controls.surname.hasError("maxlength")),R(),z("ngIf",n.orderForm.controls.surname.hasError("pattern"))}}function Oz(t,e){t&1&&(C(0,"small"),j(1," Address is required. "),b())}function kz(t,e){t&1&&(C(0,"small"),j(1," Address must be at least 7 characters long."),b())}function Fz(t,e){if(t&1&&(C(0,"div",13),Ae(1,Oz,2,0,"small",14)(2,kz,2,0,"small",14),b()),t&2){let n=ye();R(),z("ngIf",n.orderForm.controls.address.hasError("required")),R(),z("ngIf",n.orderForm.controls.address.hasError("minlength"))}}function Lz(t,e){t&1&&(C(0,"small"),j(1," Phone number is required. "),b())}function Vz(t,e){t&1&&(C(0,"small"),j(1," Invalid phone number format."),b())}function Uz(t,e){if(t&1&&(C(0,"div",13),Ae(1,Lz,2,0,"small",14)(2,Vz,2,0,"small",14),b()),t&2){let n=ye();R(),z("ngIf",n.orderForm.controls.phone.hasError("required")),R(),z("ngIf",n.orderForm.controls.phone.hasError("pattern"))}}var mM=(()=>{let e=class e{constructor(r,i,s){this.formBuilder=r,this.orderService=i,this.toastr=s,this.initialPhoneValue="+",this.simplifiedItems=[];let o=localStorage.getItem("Cart");o&&(this.localStorageData=JSON.parse(o))}ngOnInit(){this.orderForm=this.formBuilder.group({name:["",[Et.required,Et.minLength(3),Et.maxLength(15),Et.pattern(/^[a-zA-Z\s]*$/)]],surname:["",[Et.required,Et.minLength(3),Et.maxLength(15),Et.pattern(/^[a-zA-Z\s]*$/)]],address:["",[Et.required,Et.minLength(7)]],phone:["",[Et.required,Et.pattern(/^\+\d{10,15}$/)]]})}onSubmit(){if(this.orderForm.valid){let{name:r,surname:i,address:s,phone:o}=this.orderForm.value;this.localStorageData.items.forEach(c=>{let u={name:c.foodItem.name,totalPrice:c.price,quantity:c.quantity};this.simplifiedItems.push(u)});let a={name:r,surname:i,address:s,phone:o,items:this.simplifiedItems,totalCount:this.localStorageData.totalCount,totalPrice:this.localStorageData.totalPrice};this.orderService.createOrder(a),this.orderForm.reset(),this.toastr.success("Ordered successfully!")}else{this.toastr.warning("Invalid order!","Please, check form!");return}}};e.\u0275fac=function(i){return new(i||e)(L(cC),L(pM),L(jr))},e.\u0275cmp=He({type:e,selectors:[["app-cart-form"]],standalone:!0,features:[qe],decls:24,vars:6,consts:[[1,"checkout"],[3,"ngSubmit","formGroup"],[1,"form-field"],["for","name"],["type","text","formControlName","name","id","name","required","","placeholder","Name"],["class","error-message",4,"ngIf"],["for","surname"],["type","text","formControlName","surname","id","surname","required","","placeholder","Surname"],["for","address"],["type","text","formControlName","address","id","address","required","","placeholder","Address"],["for","phone"],["type","tel","formControlName","phone","id","phone","required","","placeholder","Phone",3,"ngModelChange","ngModel"],["type","submit"],[1,"error-message"],[4,"ngIf"]],template:function(i,s){if(i&1&&(C(0,"div",0)(1,"form",1),Je("ngSubmit",function(){return s.onSubmit()}),C(2,"div",2)(3,"label",3),j(4,"Name:"),b(),Re(5,"input",4),Ae(6,Az,5,4,"div",5),b(),C(7,"div",2)(8,"label",6),j(9,"Surname:"),b(),Re(10,"input",7),Ae(11,xz,5,4,"div",5),b(),C(12,"div",2)(13,"label",8),j(14,"Address:"),b(),Re(15,"input",9),Ae(16,Fz,3,2,"div",5),b(),C(17,"div",2)(18,"label",10),j(19,"Phone:"),b(),C(20,"input",11),Nm("ngModelChange",function(a){return t0(s.initialPhoneValue,a)||(s.initialPhoneValue=a),a}),b(),Ae(21,Uz,3,2,"div",5),b(),C(22,"button",12),j(23,"ORDER"),b()()()),i&2){let o,a,c,u;R(),z("formGroup",s.orderForm),R(5),z("ngIf",((o=s.orderForm.get("name"))==null?null:o.errors)&&((o=s.orderForm.get("name"))==null?null:o.touched)),R(5),z("ngIf",((a=s.orderForm.get("surname"))==null?null:a.errors)&&((a=s.orderForm.get("surname"))==null?null:a.touched)),R(5),z("ngIf",((c=s.orderForm.get("address"))==null?null:c.errors)&&((c=s.orderForm.get("address"))==null?null:c.touched)),R(4),Mm("ngModel",s.initialPhoneValue),R(),z("ngIf",((u=s.orderForm.get("phone"))==null?null:u.errors)&&(((u=s.orderForm.get("phone"))==null?null:u.touched)||((u=s.orderForm.get("phone"))==null?null:u.dirty)))}},dependencies:[uC,sC,id,eC,tC,ny,lC,ey,ty,Oi],styles:[".checkout[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;border:1px solid #e72929;border-radius:16px;padding:8px;margin:8px}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;font-size:24px;padding:0 16px 16px}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:700;margin-bottom:5px;margin-top:10px}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:16px;margin-top:10px;color:#fff;background-color:#e72929;display:block;font-size:16px;width:100%;border-radius:16px;border:none;opacity:.8}.checkout[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}"]});let t=e;return t})();var gM=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-cart-page"]],standalone:!0,features:[qe],decls:4,vars:0,consts:[[1,"container"],[1,"list"],[1,"form"]],template:function(i,s){i&1&&(Re(0,"app-header"),C(1,"div",0),Re(2,"app-cart-list",1)(3,"app-cart-form",2),b())},dependencies:[Kl,Rb,mM],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;align-items:flex-start;margin:8px 24px 24px}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{flex:70%}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex:30%}@media only screen and (max-width: 768px){.container[_ngcontent-%COMP%]{align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex:100%}}@media only screen and (max-width: 480px){.list[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]{flex:100%;width:100%}}"]});let t=e;return t})();var yM=[{id:"1",name:"Pizza Pepperoni",cookTime:"10-20",price:10,favorite:!1,origins:["italy"],imageUrl:"assets/food-1.jpg",tags:["FastFood","Pizza","Lunch"]},{id:"2",name:"Meatball",price:20,cookTime:"20-30",favorite:!0,origins:["persia","middle east","china"],imageUrl:"assets/food-2.jpg",tags:["SlowFood","Lunch"]},{id:"3",name:"Hamburger",price:5,cookTime:"10-15",favorite:!1,origins:["germany","us"],imageUrl:"assets/food-3.jpg",tags:["FastFood","Hamburger"]},{id:"4",name:"Fried Potatoes",price:2,cookTime:"15-20",favorite:!0,origins:["belgium","france"],imageUrl:"assets/food-4.jpg",tags:["FastFood","Fry"]},{id:"5",name:"Chicken Soup",price:11,cookTime:"40-50",favorite:!1,origins:["india","asia"],imageUrl:"assets/food-5.jpg",tags:["SlowFood","Soup"]},{id:"6",name:"Vegetables Pizza",price:9,cookTime:"40-50",favorite:!1,origins:["italy"],imageUrl:"assets/food-6.jpg",tags:["FastFood","Pizza","Lunch"]}];var vM=(()=>{let e=class e{constructor(){}getAll(){return yM}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bz(t,e){if(t&1&&(C(0,"span"),j(1),b()),t&2){let n=e.$implicit;R(),wt(" ",n,"")}}function $z(t,e){if(t&1){let n=Ri();C(0,"li"),Re(1,"img",1),C(2,"div",2)(3,"div",3),j(4),b(),C(5,"span"),j(6,"\u2764"),b(),C(7,"div",4)(8,"div",5),Ae(9,Bz,2,1,"span",0),b(),C(10,"div",6)(11,"span"),j(12,"\u{1F552}"),b(),j(13),b()(),C(14,"div",7)(15,"span"),j(16),fa(17,"currency"),b()(),C(18,"button",8),Je("click",function(){let i=Pr(n).$implicit,s=ye();return xr(s.addToCart(i))}),j(19,"Add To Cart"),b()()()}if(t&2){let n=e.$implicit;R(),z("src",n.imageUrl,ua)("alt",n.name),R(3),wt(" ",n.name," "),R(),ZD("favorite ",n.favorite?"":"not",""),R(4),z("ngForOf",n.origins),R(4),tr(n.cookTime),R(3),wt(" ",i0(17,9,n.price,"USD")," ")}}var _M=(()=>{let e=class e{constructor(r,i){this.foodService=r,this.cartService=i,this.foodList=[],this.foodList=this.foodService.getAll()}ngOnInit(){}addToCart(r){this.cartService.addToCart(r)}};e.\u0275fac=function(i){return new(i||e)(L(vM),L(ao))},e.\u0275cmp=He({type:e,selectors:[["app-menu-list"]],standalone:!0,features:[qe],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"src","alt"],[1,"content"],[1,"name"],[1,"product-item-footer"],[1,"origins"],[1,"cook-time"],[1,"price"],[3,"click"]],template:function(i,s){i&1&&(C(0,"ul"),Ae(1,$z,20,12,"li",0),b()),i&2&&(R(),z("ngForOf",s.foodList))},dependencies:[Tl,Dl],styles:["ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;list-style-type:none;padding:0}li[_ngcontent-%COMP%]{height:420px;width:320px;border:1px solid whitesmoke;border-radius:10px;margin:8px;display:flex;flex-direction:column;overflow:hidden;color:#e72929}li[_ngcontent-%COMP%]:hover{opacity:.9;cursor:pointer}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:230px}.content[_ngcontent-%COMP%]{margin-top:5px;padding:8px 16px;position:relative;height:100px}.favorite[_ngcontent-%COMP%]{position:absolute;top:5px;right:16px;font-size:20px}.favorite.not[_ngcontent-%COMP%]{color:gray}.product-item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:8px}.origins[_ngcontent-%COMP%]{flex:9}.origins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:32px;background-color:#f5f5f5;display:inline-block;font-size:12px;color:gray;margin-right:5px;padding:0 8px;margin-top:5px}.cook-time[_ngcontent-%COMP%]{font-size:14px;flex:3;text-align:right}.price[_ngcontent-%COMP%]{background:#fff;padding:4px 0;color:#414141;margin-top:12px;font-size:18px}button[_ngcontent-%COMP%]{color:#fff;background:#e72929;border:none;font-size:16px;padding:16px;margin-top:16px;border-radius:50px;width:100%;outline:none;opacity:.8}button[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}"]});let t=e;return t})();var wM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=He({type:e,selectors:[["app-menu-page"]],standalone:!0,features:[qe],decls:2,vars:0,template:function(i,s){i&1&&Re(0,"app-header")(1,"app-menu-list")},dependencies:[Kl,_M]});let t=e;return t})();var EM=[{path:"menu",component:wM},{path:"cart-page",component:gM},{path:"",redirectTo:"/menu",pathMatch:"full"},{path:"**",redirectTo:"/menu"}];var SM="firebasestorage.googleapis.com",Hz="storageBucket",qz=2*60*1e3,zz=10*60*1e3;var Vn=class t extends It{constructor(e,n,r=0){super(Rw(e),`Firebase Storage: ${n} (${Rw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},vr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(vr||{});function Rw(t){return"storage/"+t}function Gz(){let t="An unknown error occurred, please check the error payload for server response.";return new Vn(vr.UNKNOWN,t)}function Wz(){return new Vn(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kz(){return new Vn(vr.CANCELED,"User canceled the upload/download.")}function Qz(t){return new Vn(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function Yz(t){return new Vn(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IM(t){return new Vn(vr.INVALID_ARGUMENT,t)}function AM(){return new Vn(vr.APP_DELETED,"The Firebase app was deleted.")}function Jz(t){return new Vn(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var yr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Yz(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===SM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",I=new RegExp(`^https?://${g}/${i}/${y}`,"i"),O=[{regex:a,indices:c,postModify:s},{regex:f,indices:m,postModify:u},{regex:I,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<O.length;N++){let me=O[N],se=me.regex.exec(e);if(se){let he=se[me.indices.bucket],_e=se[me.indices.path];_e||(_e=""),r=new t(he,_e),me.postModify(r);break}}if(r==null)throw Qz(e);return r}},Mw=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Zz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,c())},y)}function h(){s&&clearTimeout(s)}function f(y,...I){if(u){h();return}if(y){h(),l.call(null,y,...I);return}if(c()||o){h(),l.call(null,y,...I);return}r<64&&(r*=2);let O;a===1?(a=2,O=0):O=(r+Math.random())*1e3,d(O)}let m=!1;function g(y){m||(m=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Xz(t){t(!1)}function e4(t){return t!==void 0}function TM(t,e,n,r){if(r<e)throw IM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw IM(`Invalid value for '${t}'. Expected ${n} or less.`)}function t4(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Nw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Nw||{});function n4(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Pw=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new jo(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Nw.NO_ERROR,c=s.getStatus();if(!a||n4(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Nw.ABORT;r(!1,new jo(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new jo(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());e4(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=Gz();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?AM():Kz();o(c)}else{let c=Wz();o(c)}};this.canceled_?n(!1,new jo(!1,null,!0)):this.backoffId_=Zz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},jo=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function r4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function o4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a4(t,e,n,r,i,s,o=!0){let a=t4(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return s4(u,e),r4(u,n),i4(u,s),o4(u,r),new Pw(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function c4(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function u4(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var _X=256*1024;var xw=class t{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u4(this._location.path)}get storage(){return this._service}get parent(){let e=c4(this._location.path);if(e===null)return null;let n=new yr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Jz(e)}};function DM(t,e){let n=e?.[Hz];return n==null?null:yr.makeFromBucketSpec(n,t)}function l4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ld(i,t.app.options.projectId))}var Ow=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=SM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qz,this._maxUploadRetryTime=zz,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=DM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=DM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return p(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return p(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xw(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Mw(AM());{let o=a4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return p(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},bM="@firebase/storage",CM="0.12.4";var RM="storage";function MM(t=qr(),e){t=Tt(t);let r=Hi(t,RM).getImmediate({identifier:e}),i=ud("storage");return i&&NM(r,...i),r}function NM(t,e,n,r={}){l4(t,e,n,r)}function d4(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ow(n,r,i,e,Sn)}function h4(){Cn(new Mt(RM,d4,"PUBLIC").setMultipleInstances(!0)),Ce(bM,CM,""),Ce(bM,CM,"esm2017")}h4();var Oc=class{constructor(e){return e}},PM="storage",kw=class{constructor(){return zi(PM)}};var Fw=new F("angularfire2.storage-instances");function f4(t,e){let n=fo(PM,t,e);return n&&new Oc(n)}function p4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Oc(r)}}var m4={provide:kw,deps:[[new Fe,Fw]]},g4={provide:Oc,useFactory:f4,deps:[[new Fe,Fw],un]},y4=(()=>{class t{constructor(){Ce("angularfire",cr.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=be({type:t});static \u0275inj=De({providers:[g4,m4]})}return t})();function xM(t,...e){return{ngModule:y4,providers:[{provide:Fw,useFactory:p4(t),multi:!0,deps:[ie,Ye,Gr,ur,[new Fe,Yi],[new Fe,zr],...e]}]}}var OM=An(MM,!0);function kM(t){return new v(3e3,!1)}function v4(){return new v(3100,!1)}function _4(){return new v(3101,!1)}function w4(t){return new v(3001,!1)}function E4(t){return new v(3003,!1)}function I4(t){return new v(3004,!1)}function T4(t,e){return new v(3005,!1)}function D4(){return new v(3006,!1)}function b4(){return new v(3007,!1)}function C4(t,e){return new v(3008,!1)}function S4(t){return new v(3002,!1)}function A4(t,e,n,r,i){return new v(3010,!1)}function R4(){return new v(3011,!1)}function M4(){return new v(3012,!1)}function N4(){return new v(3200,!1)}function P4(){return new v(3202,!1)}function x4(){return new v(3013,!1)}function O4(t){return new v(3014,!1)}function k4(t){return new v(3015,!1)}function F4(t){return new v(3016,!1)}function L4(t,e){return new v(3404,!1)}function V4(t){return new v(3502,!1)}function U4(t){return new v(3503,!1)}function j4(){return new v(3300,!1)}function B4(t){return new v(3504,!1)}function $4(t){return new v(3301,!1)}function H4(t,e){return new v(3302,!1)}function q4(t){return new v(3303,!1)}function z4(t,e){return new v(3400,!1)}function G4(t){return new v(3401,!1)}function W4(t){return new v(3402,!1)}function K4(t,e){return new v(3505,!1)}function ii(t){switch(t.length){case 0:return new Ur;case 1:return t[0];default:return new La(t)}}function QM(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==o,d=l&&a||new Map;c.forEach((h,f)=>{let m=f,g=h;if(f!=="offset")switch(m=t.normalizePropertyName(m,i),g){case Wl:g=n.get(f);break;case Dn:g=r.get(f);break;default:g=t.normalizeStyleValue(f,m,g,i);break}d.set(m,g)}),l||s.push(d),a=d,o=u}),i.length)throw V4(i);return s}function sE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Lw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Lw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Lw(n,"destroy",t)));break}}function Lw(t,e,n){let r=n.totalTime,i=!!n.disabled,s=oE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function oE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function qt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function FM(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var Q4=typeof document>"u"?null:document.documentElement;function aE(t){let e=t.parentNode||t.host||null;return e===Q4?null:e}function Y4(t){return t.substring(1,6)=="ebkit"}var ds=null,LM=!1;function J4(t){ds||(ds=Z4()||{},LM=ds.style?"WebkitAppearance"in ds.style:!1);let e=!0;return ds.style&&!Y4(t)&&(e=t in ds.style,!e&&LM&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ds.style)),e}function Z4(){return typeof document<"u"?document.body:null}function YM(t,e){for(;e;){if(e===t)return!0;e=aE(e)}return!1}function JM(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var cE=(()=>{let e=class e{validateStyleProperty(r){return J4(r)}matchesElement(r,i){return!1}containsElement(r,i){return YM(r,i)}getParentElement(r){return aE(r)}query(r,i,s){return JM(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,c=[],u){return new Ur(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),hE=class hE{};hE.NOOP=new cE;var ps=hE,ms=class{};var X4=1e3,ZM="{{",eG="}}",XM="ng-enter",Hw="ng-leave",jh="ng-trigger",zh=".ng-trigger",VM="ng-animating",qw=".ng-animating";function _r(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zw(parseFloat(e[1]),e[2])}function zw(t,e){switch(e){case"s":return t*X4;default:return t}}function Gh(t,e,n){return t.hasOwnProperty("duration")?t:tG(t,e,n)}function tG(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(kM(t)),{duration:0,delay:0,easing:""};i=zw(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=zw(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(v4()),a=!0),s<0&&(e.push(_4()),a=!0),a&&e.splice(c,0,kM(t))}return{duration:i,delay:s,easing:o}}function nG(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Un(t,e,n){e.forEach((r,i)=>{let s=uE(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function fs(t,e){e.forEach((n,r)=>{let i=uE(r);t.style[i]=""})}function kc(t){return Array.isArray(t)?t.length==1?t[0]:Db(t):t}function rG(t,e,n){let r=e.params||{},i=eN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(w4(s))})}var Gw=new RegExp(`${ZM}\\s*(.+?)\\s*${eG}`,"g");function eN(t){let e=[];if(typeof t=="string"){let n;for(;n=Gw.exec(t);)e.push(n[1]);Gw.lastIndex=0}return e}function Lc(t,e,n){let r=`${t}`,i=r.replace(Gw,(s,o)=>{let a=e[o];return a==null&&(n.push(E4(o)),a=""),a.toString()});return i==r?t:i}var iG=/-+([a-z0-9])/g;function uE(t){return t.replace(iG,(...e)=>e[1].toUpperCase())}function sG(t,e){return t===0||e===0}function oG(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,lE(t,a)))}}return e}function Ht(t,e,n){switch(e.type){case W.Trigger:return t.visitTrigger(e,n);case W.State:return t.visitState(e,n);case W.Transition:return t.visitTransition(e,n);case W.Sequence:return t.visitSequence(e,n);case W.Group:return t.visitGroup(e,n);case W.Animate:return t.visitAnimate(e,n);case W.Keyframes:return t.visitKeyframes(e,n);case W.Style:return t.visitStyle(e,n);case W.Reference:return t.visitReference(e,n);case W.AnimateChild:return t.visitAnimateChild(e,n);case W.AnimateRef:return t.visitAnimateRef(e,n);case W.Query:return t.visitQuery(e,n);case W.Stagger:return t.visitStagger(e,n);default:throw I4(e.type)}}function lE(t,e){return window.getComputedStyle(t)[e]}var aG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wh=class extends ms{normalizePropertyName(e,n){return uE(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(aG.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(T4(e,r))}return o+s}};var Kh="*";function cG(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>uG(r,n,e)):n.push(t),n}function uG(t,e,n){if(t[0]==":"){let c=lG(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(k4(t)),e;let i=r[1],s=r[2],o=r[3];e.push(UM(i,o));let a=i==Kh&&o==Kh;s[0]=="<"&&!a&&e.push(UM(o,i))}function lG(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(F4(t)),"* => *"}}var Bh=new Set(["true","1"]),$h=new Set(["false","0"]);function UM(t,e){let n=Bh.has(t)||$h.has(t),r=Bh.has(e)||$h.has(e);return(i,s)=>{let o=t==Kh||t==i,a=e==Kh||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Bh.has(t):$h.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Bh.has(e):$h.has(e)),o&&a}}var tN=":self",dG=new RegExp(`s*${tN}s*,?`,"g");function nN(t,e,n,r){return new Ww(t).build(e,n,r)}var jM="",Ww=class{constructor(e){this._driver=e}build(e,n,r){let i=new Kw(n);return this._resetContextStyleTimingState(i),Ht(this,kc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=jM,e.collectedStyles=new Map,e.collectedStyles.set(jM,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(D4()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==W.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==W.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(b4())}),{type:W.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{eN(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(C4(e.name,[...s.values()]))}return{type:W.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Ht(this,kc(e.animation),n),i=cG(e.expr,n.errors);return{type:W.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:hs(e.options)}}visitSequence(e,n){return{type:W.Sequence,steps:e.steps.map(r=>Ht(this,r,n)),options:hs(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Ht(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:W.Group,steps:s,options:hs(e.options)}}visitAnimate(e,n){let r=mG(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ui({});if(s.type==W.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=Ui(u)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:W.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Dn?r.push(a):n.errors.push(S4(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(ZM)>=0){s=!0;break}}}),{type:W.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(A4(c,l.startTime,l.endTime,s,i)),d=!1),s=l.startTime),d&&u.set(c,{startTime:s,endTime:i}),n.options&&rG(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:W.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(R4()),r;let i=1,s=0,o=[],a=!1,c=!1,u=0,l=e.steps.map(I=>{let x=this._makeStyleAst(I,n),O=x.offset!=null?x.offset:pG(x.styles),N=0;return O!=null&&(s++,N=x.offset=O),c=c||N<0||N>1,a=a||N<u,u=N,o.push(N),x});c&&n.errors.push(M4()),a&&n.errors.push(N4());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(P4()):s==0&&(h=i/(d-1));let f=d-1,m=n.currentTime,g=n.currentAnimateTimings,y=g.duration;return l.forEach((I,x)=>{let O=h>0?x==f?1:h*x:o[x],N=O*y;n.currentTime=m+g.delay+N,g.duration=N,this._validateStyleAst(I,n),I.offset=O,r.styles.push(I)}),r}visitReference(e,n){return{type:W.Reference,animation:Ht(this,kc(e.animation),n),options:hs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:W.AnimateChild,options:hs(e.options)}}visitAnimateRef(e,n){return{type:W.AnimateRef,animation:this.visitReference(e.animation,n),options:hs(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=hG(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,qt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Ht(this,kc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:W.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:hs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(x4());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Gh(e.timings,n.errors,!0);return{type:W.Stagger,animation:Ht(this,kc(e.animation),n),timings:r,options:null}}};function hG(t){let e=!!t.split(/\s*,\s*/).find(n=>n==tN);return e&&(t=t.replace(dG,"")),t=t.replace(/@\*/g,zh).replace(/@\w+/g,n=>zh+"-"+n.slice(1)).replace(/:animating/g,qw),[t,e]}function fG(t){return t?E({},t):null}var Kw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function pG(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function mG(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Gh(t,e).duration;return Vw(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Vw(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Gh(n,e);return Vw(i.duration,i.delay,i.easing)}function hs(t){return t?(t=E({},t),t.params&&(t.params=fG(t.params))):t={},t}function Vw(t,e,n){return{duration:t,delay:e,easing:n}}function dE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Vc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},gG=1,yG=":enter",vG=new RegExp(yG,"g"),_G=":leave",wG=new RegExp(_G,"g");function rN(t,e,n,r,i,s=new Map,o=new Map,a,c,u=[]){return new Qw().buildKeyframes(t,e,n,r,i,s,o,a,c,u)}var Qw=class{buildKeyframes(e,n,r,i,s,o,a,c,u,l=[]){u=u||new Vc;let d=new Yw(e,n,u,i,s,l,[]);d.options=c;let h=c.delay?_r(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),Ht(this,r,d);let f=d.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let g=f.length-1;g>=0;g--){let y=f[g];if(y.element===n){m=y;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,c)}return f.length?f.map(m=>m.buildKeyframes()):[dE(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:_r(Lc(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?_r(r.duration):null,a=r.delay!=null?_r(r.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Ht(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==W.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qh);let o=_r(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ht(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?_r(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Ht(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Lc(r,n.params,n.errors):r;return Gh(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==W.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?_r(i.delay):0;s&&(n.previousNode.type===W.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Qh);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let d=n.createSubContext(e.options,u);s&&d.delayNextStep(s),u===n.element&&(c=d.currentTimeline),Ht(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let d=l.currentTime;Ht(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Qh={},Yw=class t{constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Yh(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=_r(r.duration)),r.delay!=null&&(i.delay=_r(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Lc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Qh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Jw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(vG,"."+this._enterClassName),e=e.replace(wG,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(O4(n)),a}},Yh=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gG,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Dn),this._currentKeyframe.set(n,Dn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=EG(e,this._globalTimelineStyles);for(let[a,c]of o){let u=Lc(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Dn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((l,d)=>{l===Wl?e.add(d):l===Dn&&n.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return dE(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Jw=class extends Yh{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",BM(a)),s.push(u);let l=e.length-1;for(let d=1;d<=l;d++){let h=new Map(e[d]),f=h.get("offset"),m=n+f*r;h.set("offset",BM(m/o)),s.push(h)}r=o,n=0,i="",e=s}return dE(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function BM(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function EG(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Dn)}else for(let[s,o]of i)n.set(s,o)}),n}function $M(t,e,n,r,i,s,o,a,c,u,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:h}}var Uw={},Jh=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return IG(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,u,l){let d=[],h=this.ast.options&&this.ast.options.params||Uw,f=a&&a.params||Uw,m=this.buildStyles(r,f,d),g=c&&c.params||Uw,y=this.buildStyles(i,g,d),I=new Set,x=new Map,O=new Map,N=i==="void",me={params:iN(g,h),delay:this.ast.options?.delay},se=l?[]:rN(e,n,this.ast.animation,s,o,m,y,me,u,d),he=0;return se.forEach(_e=>{he=Math.max(_e.duration+_e.delay,he)}),d.length?$M(n,this._triggerName,r,i,N,m,y,[],[],x,O,he,d):(se.forEach(_e=>{let gt=_e.element,Nt=qt(x,gt,new Set);_e.preStyleProps.forEach(si=>Nt.add(si));let fE=qt(O,gt,new Set);_e.postStyleProps.forEach(si=>fE.add(si)),gt!==n&&I.add(gt)}),$M(n,this._triggerName,r,i,N,m,y,se,[...I.values()],x,O,he))}};function IG(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function iN(t,e){let n=E({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Zw=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=iN(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Lc(o,i,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}};function TG(t,e,n){return new Xw(t,e,n)}var Xw=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Zw(i.style,s,r))}),HM(this.states,"true","1"),HM(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Jh(e,i,this.states))}),this.fallbackTransition=DG(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function DG(t,e,n){let r=[(o,a)=>!0],i={type:W.Sequence,steps:[],options:null},s={type:W.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Jh(t,s,e)}function HM(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var bG=new Vc,eE=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=nN(this._driver,n,r,i);if(r.length)throw U4(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=QM(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=rN(this._driver,n,s,XM,Hw,new Map,new Map,r,bG,i),o.forEach(l=>{let d=qt(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(j4()),o=[]),i.length)throw B4(i);a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Dn))})});let c=o.map(l=>{let d=a.get(l.element);return this._buildPlayer(l,new Map,d)}),u=ii(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw $4(e);return n}listen(e,n,r,i){let s=oE(n,"","","");return sE(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},qM="ng-animate-queued",CG=".ng-animate-queued",jw="ng-animate-disabled",SG=".ng-animate-disabled",AG="ng-star-inserted",RG=".ng-star-inserted",MG=[],sN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed",Uc=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=xG(i),r){let s=e,{value:o}=s,a=wE(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Fc="void",Bw=new Uc(Fc),tE=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw H4(r,n);if(r==null||r.length==0)throw q4(n);if(!OG(r))throw z4(r,n);let s=qt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=qt(this._engine.statesByElement,e,new Map);return a.has(n)||(Zt(e,jh),Zt(e,jh+"-"+n),a.set(n,Bw)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw G4(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new jc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Zt(e,jh),Zt(e,jh+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Uc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=Bw),!(u.value===Fc)&&c.value===u.value){if(!LG(c.params,u.params)){let g=[],y=s.matchStyles(c.value,c.params,g),I=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{fs(e,y),Un(e,I)})}return}let h=qt(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,u.value,e,u.params),m=!1;if(!f){if(!i)return;f=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:u,player:o,isFallbackTransition:m}),m||(Zt(e,qM),o.onStart(()=>{Bo(e,qM)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let y=this._engine.playersByElement.get(e);if(y){let I=y.indexOf(o);I>=0&&y.splice(I,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,zh,!0);r.forEach(i=>{if(i[hn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,Fc,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ii(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,u=r.get(o)||Bw,l=new Uc(Fc),d=new jc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[hn];(!s||s===sN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Zt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=oE(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,sE(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},nE=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new tE(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Hh(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Hh(n))return;let s=n[hn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zt(e,jw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bo(e,jw))}removeNode(e,n,r){if(Hh(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[hn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Hh(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,zh,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,qw,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ii(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[hn];if(n&&n.setForRemoval){if(e[hn]=sN,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(jw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,SG,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Zt(i,AG)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ii(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw W4(e)}_flushAnimations(e,n){let r=new Vc,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(S=>{l.add(S);let k=this.driver.query(S,CG,!0);for(let V=0;V<k.length;V++)l.add(k[V])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=WM(h,this.collectedEnterElements),m=new Map,g=0;f.forEach((S,k)=>{let V=XM+g++;m.set(k,V),S.forEach(ue=>Zt(ue,V))});let y=[],I=new Set,x=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){let k=this.collectedLeaveElements[S],V=k[hn];V&&V.setForRemoval&&(y.push(k),I.add(k),V.hasAnimation?this.driver.query(k,RG,!0).forEach(ue=>I.add(ue)):x.add(k))}let O=new Map,N=WM(h,Array.from(I));N.forEach((S,k)=>{let V=Hw+g++;O.set(k,V),S.forEach(ue=>Zt(ue,V))}),e.push(()=>{f.forEach((S,k)=>{let V=m.get(k);S.forEach(ue=>Bo(ue,V))}),N.forEach((S,k)=>{let V=O.get(k);S.forEach(ue=>Bo(ue,V))}),y.forEach(S=>{this.processLeaveNode(S)})});let me=[],se=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(n).forEach(V=>{let ue=V.player,We=V.element;if(me.push(ue),this.collectedEnterElements.length){let at=We[hn];if(at&&at.setForMove){if(at.previousTriggersValues&&at.previousTriggersValues.has(V.triggerName)){let oi=at.previousTriggersValues.get(V.triggerName),zt=this.statesByElement.get(V.element);if(zt&&zt.has(V.triggerName)){let Bc=zt.get(V.triggerName);Bc.value=oi,zt.set(V.triggerName,Bc)}}ue.destroy();return}}let fn=!d||!this.driver.containsElement(d,We),Pt=O.get(We),wr=m.get(We),Se=this._buildInstruction(V,r,wr,Pt,fn);if(Se.errors&&Se.errors.length){se.push(Se);return}if(fn){ue.onStart(()=>fs(We,Se.fromStyles)),ue.onDestroy(()=>Un(We,Se.toStyles)),i.push(ue);return}if(V.isFallbackTransition){ue.onStart(()=>fs(We,Se.fromStyles)),ue.onDestroy(()=>Un(We,Se.toStyles)),i.push(ue);return}let gE=[];Se.timelines.forEach(at=>{at.stretchStartingKeyframe=!0,this.disabledNodes.has(at.element)||gE.push(at)}),Se.timelines=gE,r.append(We,Se.timelines);let dN={instruction:Se,player:ue,element:We};o.push(dN),Se.queriedElements.forEach(at=>qt(a,at,[]).push(ue)),Se.preStyleProps.forEach((at,oi)=>{if(at.size){let zt=c.get(oi);zt||c.set(oi,zt=new Set),at.forEach((Bc,rf)=>zt.add(rf))}}),Se.postStyleProps.forEach((at,oi)=>{let zt=u.get(oi);zt||u.set(oi,zt=new Set),at.forEach((Bc,rf)=>zt.add(rf))})});if(se.length){let S=[];se.forEach(k=>{S.push(K4(k.triggerName,k.errors))}),me.forEach(k=>k.destroy()),this.reportError(S)}let he=new Map,_e=new Map;o.forEach(S=>{let k=S.element;r.has(k)&&(_e.set(k,k),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,he))}),i.forEach(S=>{let k=S.element;this._getPreviousPlayers(k,!1,S.namespaceId,S.triggerName,null).forEach(ue=>{qt(he,k,[]).push(ue),ue.destroy()})});let gt=y.filter(S=>KM(S,c,u)),Nt=new Map;GM(Nt,this.driver,x,u,Dn).forEach(S=>{KM(S,c,u)&&gt.push(S)});let si=new Map;f.forEach((S,k)=>{GM(si,this.driver,new Set(S),c,Wl)}),gt.forEach(S=>{let k=Nt.get(S),V=si.get(S);Nt.set(S,new Map([...k?.entries()??[],...V?.entries()??[]]))});let nf=[],pE=[],mE={};o.forEach(S=>{let{element:k,player:V,instruction:ue}=S;if(r.has(k)){if(l.has(k)){V.onDestroy(()=>Un(k,ue.toStyles)),V.disabled=!0,V.overrideTotalTime(ue.totalTime),i.push(V);return}let We=mE;if(_e.size>1){let Pt=k,wr=[];for(;Pt=Pt.parentNode;){let Se=_e.get(Pt);if(Se){We=Se;break}wr.push(Pt)}wr.forEach(Se=>_e.set(Se,We))}let fn=this._buildAnimation(V.namespaceId,ue,he,s,si,Nt);if(V.setRealPlayer(fn),We===mE)nf.push(V);else{let Pt=this.playersByElement.get(We);Pt&&Pt.length&&(V.parentPlayer=ii(Pt)),i.push(V)}}else fs(k,ue.fromStyles),V.onDestroy(()=>Un(k,ue.toStyles)),pE.push(V),l.has(k)&&i.push(V)}),pE.forEach(S=>{let k=s.get(S.element);if(k&&k.length){let V=ii(k);S.setRealPlayer(V)}}),i.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<y.length;S++){let k=y[S],V=k[hn];if(Bo(k,Hw),V&&V.hasAnimation)continue;let ue=[];if(a.size){let fn=a.get(k);fn&&fn.length&&ue.push(...fn);let Pt=this.driver.query(k,qw,!0);for(let wr=0;wr<Pt.length;wr++){let Se=a.get(Pt[wr]);Se&&Se.length&&ue.push(...Se)}}let We=ue.filter(fn=>!fn.destroyed);We.length?kG(this,k,We):this.processLeaveNode(k)}return y.length=0,nf.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();let k=this.players.indexOf(S);this.players.splice(k,1)}),S.play()}),nf}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==Fc;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let u=c.element,l=u!==s,d=qt(r,u,[]);this._getPreviousPlayers(u,l,o,a,n.toState).forEach(f=>{let m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}fs(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,h=n.timelines.map(m=>{let g=m.element;l.add(g);let y=g[hn];if(y&&y.removedBeforeQueried)return new Ur(m.duration,m.delay);let I=g!==c,x=FG((r.get(g)||MG).map(he=>he.getRealPlayer())).filter(he=>{let _e=he;return _e.element?_e.element===g:!1}),O=s.get(g),N=o.get(g),me=QM(this._normalizer,m.keyframes,O,N),se=this._buildPlayer(m,me,x);if(m.subTimeline&&i&&d.add(g),I){let he=new jc(e,a,g);he.setRealPlayer(se),u.push(he)}return se});u.forEach(m=>{qt(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>PG(this.playersByQueriedElement,m.element,m))}),l.forEach(m=>Zt(m,VM));let f=ii(h);return f.onDestroy(()=>{l.forEach(m=>Bo(m,VM)),Un(c,n.toStyles)}),d.forEach(m=>{qt(i,m,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Ur(e.duration,e.delay)}},jc=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Ur,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>sE(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){qt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function PG(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function xG(t){return t??null}function Hh(t){return t&&t.nodeType===1}function OG(t){return t=="start"||t=="done"}function zM(t,e){let n=t.style.display;return t.style.display=e??"none",n}function GM(t,e,n,r,i){let s=[];n.forEach(c=>s.push(zM(c)));let o=[];r.forEach((c,u)=>{let l=new Map;c.forEach(d=>{let h=e.computeStyle(u,d,i);l.set(d,h),(!h||h.length==0)&&(u[hn]=NG,o.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>zM(c,s[a++])),o}function WM(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:i.has(u)?c=r:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&n.get(c).push(a)}),n}function Zt(t,e){t.classList?.add(e)}function Bo(t,e){t.classList?.remove(e)}function kG(t,e,n){ii(n).onDone(()=>t.processLeaveNode(e))}function FG(t){let e=[];return oN(t,e),e}function oN(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof La?oN(r.players,e):e.push(r)}}function LG(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function KM(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Ho=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new nE(e.body,n,r,i),this._timelineEngine=new eE(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],u=[],l=nN(this._driver,s,c,u);if(c.length)throw L4(i,c);u.length&&void 0,a=TG(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=FM(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=FM(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function VG(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=$w(e[0]),e.length>1&&(r=$w(e[e.length-1]))):e instanceof Map&&(n=$w(e)),n||r?new rE(t,n,r):null}var $o=class $o{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=$o.initialStylesByElement.get(e);i||$o.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Un(this._element,this._initialStyles),this._endStyles&&(Un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($o.initialStylesByElement.delete(this._element),this._startStyles&&(fs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fs(this._element,this._endStyles),this._endStyles=null),Un(this._element,this._initialStyles),this._state=3)}};$o.initialStylesByElement=new WeakMap;var rE=$o;function $w(t){let e=null;return t.forEach((n,r)=>{UG(r)&&(e=e||new Map,e.set(r,n))}),e}function UG(t){return t==="display"||t==="position"}var Zh=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:lE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Xh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return YM(e,n)}getParentElement(e){return aE(e)}query(e,n,r){return JM(e,n,r)}computeStyle(e,n,r){return lE(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let u=new Map,l=o.filter(f=>f instanceof Zh);sG(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((m,g)=>u.set(g,m))});let d=nG(n).map(f=>new Map(f));d=oG(e,d,u);let h=VG(e,d);return new Zh(e,d,c,h)}};var qh="@",aN="@.disabled",ef=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==qh&&n==aN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},iE=class extends ef{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==qh?n.charAt(1)=="."&&n==aN?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==qh){let i=jG(e),s=n.slice(1),o="";return s.charAt(0)!=qh&&([s,o]=BG(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function jG(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function BG(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var tf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(i);if(!l){let d=()=>u.delete(i);l=new ef(r,i,this.engine,d),u.set(i,l)}return l}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new iE(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var HG=(()=>{let e=class e extends Ho{constructor(r,i,s){super(r,i,s,D(ta,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(P(Ze),P(ps),P(ms))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function qG(){return new Wh}function zG(t,e,n){return new tf(t,e,n)}var cN=[{provide:ms,useFactory:qG},{provide:Ho,useClass:HG},{provide:Ei,useFactory:zG,deps:[Cl,Ho,ie]}],GG=[{provide:ps,useFactory:()=>new Xh},{provide:am,useValue:"BrowserAnimations"},...cN],iee=[{provide:ps,useClass:cE},{provide:am,useValue:"NoopAnimations"},...cN];function uN(){return da("NgEagerAnimations"),[...GG]}var lN={production:!0,firebaseConfig:{apiKey:"AIzaSyCeTa3ygzsJGIGIg2iN6zznsB1sv979QUQ",authDomain:"theraven-test-task-b0b5c.firebaseapp.com",projectId:"theraven-test-task-b0b5c",storageBucket:"theraven-test-task-b0b5c.appspot.com",messagingSenderId:"48230265347",appId:"1:48230265347:web:0f9dfb027abd42fdc85436"}};k0(Ib,{providers:[vb(EM),qs(FC(()=>LC(lN.firebaseConfig))),qs(CS(()=>SS())),qs(lM(()=>fM())),qs(xM(()=>OM())),uN(),Ab()]}).catch(t=>console.error(t));
